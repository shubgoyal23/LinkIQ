import{r as Fs,g as rf,R as Ve,a as w,j as _,u as js,b as Hs,c as zs,s as Cr,d as of,l as sf,V as ci}from"./index-CaGSV4vu.js";import{u as le,c as qr,P as ae,d as Bs,r as af,R as cf,a as Vs,b as wo,B as Ws}from"./index-D9ANBXsM.js";function se(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=se(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var uf={value:()=>{}};function tr(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new An(n)}function An(e){this._=e}function lf(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}An.prototype=tr.prototype={constructor:An,on:function(e,t){var n=this._,r=lf(e+"",n),o,i=-1,s=r.length;if(arguments.length<2){for(;++i<s;)if((o=(e=r[i]).type)&&(o=ff(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<s;)if(o=(e=r[i]).type)n[o]=ui(n[o],e.name,t);else if(t==null)for(o in n)n[o]=ui(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new An(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),r=0,o,i;r<o;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,o=i.length;r<o;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};function ff(e,t){for(var n=0,r=e.length,o;n<r;++n)if((o=e[n]).name===t)return o.value}function ui(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=uf,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Zr="http://www.w3.org/1999/xhtml";const li={svg:"http://www.w3.org/2000/svg",xhtml:Zr,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function nr(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),li.hasOwnProperty(t)?{space:li[t],local:e}:e}function df(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Zr&&t.documentElement.namespaceURI===Zr?t.createElement(e):t.createElementNS(n,e)}}function hf(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Ys(e){var t=nr(e);return(t.local?hf:df)(t)}function pf(){}function bo(e){return e==null?pf:function(){return this.querySelector(e)}}function gf(e){typeof e!="function"&&(e=bo(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,a=r[o]=new Array(s),c,l,u=0;u<s;++u)(c=i[u])&&(l=e.call(c,c.__data__,u,i))&&("__data__"in c&&(l.__data__=c.__data__),a[u]=l);return new pe(r,this._parents)}function mf(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function yf(){return[]}function Xs(e){return e==null?yf:function(){return this.querySelectorAll(e)}}function xf(e){return function(){return mf(e.apply(this,arguments))}}function vf(e){typeof e=="function"?e=xf(e):e=Xs(e);for(var t=this._groups,n=t.length,r=[],o=[],i=0;i<n;++i)for(var s=t[i],a=s.length,c,l=0;l<a;++l)(c=s[l])&&(r.push(e.call(c,c.__data__,l,s)),o.push(c));return new pe(r,o)}function Gs(e){return function(){return this.matches(e)}}function Us(e){return function(t){return t.matches(e)}}var wf=Array.prototype.find;function bf(e){return function(){return wf.call(this.children,e)}}function Ef(){return this.firstElementChild}function _f(e){return this.select(e==null?Ef:bf(typeof e=="function"?e:Us(e)))}var Sf=Array.prototype.filter;function Cf(){return Array.from(this.children)}function Mf(e){return function(){return Sf.call(this.children,e)}}function Nf(e){return this.selectAll(e==null?Cf:Mf(typeof e=="function"?e:Us(e)))}function Af(e){typeof e!="function"&&(e=Gs(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,a=r[o]=[],c,l=0;l<s;++l)(c=i[l])&&e.call(c,c.__data__,l,i)&&a.push(c);return new pe(r,this._parents)}function Ks(e){return new Array(e.length)}function Pf(){return new pe(this._enter||this._groups.map(Ks),this._parents)}function $n(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}$n.prototype={constructor:$n,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Rf(e){return function(){return e}}function If(e,t,n,r,o,i){for(var s=0,a,c=t.length,l=i.length;s<l;++s)(a=t[s])?(a.__data__=i[s],r[s]=a):n[s]=new $n(e,i[s]);for(;s<c;++s)(a=t[s])&&(o[s]=a)}function kf(e,t,n,r,o,i,s){var a,c,l=new Map,u=t.length,f=i.length,d=new Array(u),h;for(a=0;a<u;++a)(c=t[a])&&(d[a]=h=s.call(c,c.__data__,a,t)+"",l.has(h)?o[a]=c:l.set(h,c));for(a=0;a<f;++a)h=s.call(e,i[a],a,i)+"",(c=l.get(h))?(r[a]=c,c.__data__=i[a],l.delete(h)):n[a]=new $n(e,i[a]);for(a=0;a<u;++a)(c=t[a])&&l.get(d[a])===c&&(o[a]=c)}function Tf(e){return e.__data__}function Df(e,t){if(!arguments.length)return Array.from(this,Tf);var n=t?kf:If,r=this._parents,o=this._groups;typeof e!="function"&&(e=Rf(e));for(var i=o.length,s=new Array(i),a=new Array(i),c=new Array(i),l=0;l<i;++l){var u=r[l],f=o[l],d=f.length,h=Of(e.call(u,u&&u.__data__,l,r)),m=h.length,p=a[l]=new Array(m),y=s[l]=new Array(m),x=c[l]=new Array(d);n(u,f,p,y,x,h,t);for(var E=0,g=0,v,S;E<m;++E)if(v=p[E]){for(E>=g&&(g=E+1);!(S=y[g])&&++g<m;);v._next=S||null}}return s=new pe(s,r),s._enter=a,s._exit=c,s}function Of(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function $f(){return new pe(this._exit||this._groups.map(Ks),this._parents)}function Lf(e,t,n){var r=this.enter(),o=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?i.remove():n(i),r&&o?r.merge(o).order():o}function Ff(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,i=r.length,s=Math.min(o,i),a=new Array(o),c=0;c<s;++c)for(var l=n[c],u=r[c],f=l.length,d=a[c]=new Array(f),h,m=0;m<f;++m)(h=l[m]||u[m])&&(d[m]=h);for(;c<o;++c)a[c]=n[c];return new pe(a,this._parents)}function jf(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],o=r.length-1,i=r[o],s;--o>=0;)(s=r[o])&&(i&&s.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(s,i),i=s);return this}function Hf(e){e||(e=zf);function t(f,d){return f&&d?e(f.__data__,d.__data__):!f-!d}for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var s=n[i],a=s.length,c=o[i]=new Array(a),l,u=0;u<a;++u)(l=s[u])&&(c[u]=l);c.sort(t)}return new pe(o,this._parents).order()}function zf(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Bf(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Vf(){return Array.from(this)}function Wf(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var s=r[o];if(s)return s}return null}function Yf(){let e=0;for(const t of this)++e;return e}function Xf(){return!this.node()}function Gf(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o=t[n],i=0,s=o.length,a;i<s;++i)(a=o[i])&&e.call(a,a.__data__,i,o);return this}function Uf(e){return function(){this.removeAttribute(e)}}function Kf(e){return function(){this.removeAttributeNS(e.space,e.local)}}function qf(e,t){return function(){this.setAttribute(e,t)}}function Zf(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Qf(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Jf(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function ed(e,t){var n=nr(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?Kf:Uf:typeof t=="function"?n.local?Jf:Qf:n.local?Zf:qf)(n,t))}function qs(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function td(e){return function(){this.style.removeProperty(e)}}function nd(e,t,n){return function(){this.style.setProperty(e,t,n)}}function rd(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function od(e,t,n){return arguments.length>1?this.each((t==null?td:typeof t=="function"?rd:nd)(e,t,n??"")):yt(this.node(),e)}function yt(e,t){return e.style.getPropertyValue(t)||qs(e).getComputedStyle(e,null).getPropertyValue(t)}function id(e){return function(){delete this[e]}}function sd(e,t){return function(){this[e]=t}}function ad(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function cd(e,t){return arguments.length>1?this.each((t==null?id:typeof t=="function"?ad:sd)(e,t)):this.node()[e]}function Zs(e){return e.trim().split(/^|\s+/)}function Eo(e){return e.classList||new Qs(e)}function Qs(e){this._node=e,this._names=Zs(e.getAttribute("class")||"")}Qs.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Js(e,t){for(var n=Eo(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function ea(e,t){for(var n=Eo(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function ud(e){return function(){Js(this,e)}}function ld(e){return function(){ea(this,e)}}function fd(e,t){return function(){(t.apply(this,arguments)?Js:ea)(this,e)}}function dd(e,t){var n=Zs(e+"");if(arguments.length<2){for(var r=Eo(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?fd:t?ud:ld)(n,t))}function hd(){this.textContent=""}function pd(e){return function(){this.textContent=e}}function gd(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function md(e){return arguments.length?this.each(e==null?hd:(typeof e=="function"?gd:pd)(e)):this.node().textContent}function yd(){this.innerHTML=""}function xd(e){return function(){this.innerHTML=e}}function vd(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function wd(e){return arguments.length?this.each(e==null?yd:(typeof e=="function"?vd:xd)(e)):this.node().innerHTML}function bd(){this.nextSibling&&this.parentNode.appendChild(this)}function Ed(){return this.each(bd)}function _d(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Sd(){return this.each(_d)}function Cd(e){var t=typeof e=="function"?e:Ys(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Md(){return null}function Nd(e,t){var n=typeof e=="function"?e:Ys(e),r=t==null?Md:typeof t=="function"?t:bo(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Ad(){var e=this.parentNode;e&&e.removeChild(this)}function Pd(){return this.each(Ad)}function Rd(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Id(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function kd(e){return this.select(e?Id:Rd)}function Td(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Dd(e){return function(t){e.call(this,t,this.__data__)}}function Od(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function $d(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,o=t.length,i;n<o;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function Ld(e,t,n){return function(){var r=this.__on,o,i=Dd(t);if(r){for(var s=0,a=r.length;s<a;++s)if((o=r[s]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=i,o.options=n),o.value=t;return}}this.addEventListener(e.type,i,n),o={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(o):this.__on=[o]}}function Fd(e,t,n){var r=Od(e+""),o,i=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var c=0,l=a.length,u;c<l;++c)for(o=0,u=a[c];o<i;++o)if((s=r[o]).type===u.type&&s.name===u.name)return u.value}return}for(a=t?Ld:$d,o=0;o<i;++o)this.each(a(r[o],t,n));return this}function ta(e,t,n){var r=qs(e),o=r.CustomEvent;typeof o=="function"?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function jd(e,t){return function(){return ta(this,e,t)}}function Hd(e,t){return function(){return ta(this,e,t.apply(this,arguments))}}function zd(e,t){return this.each((typeof t=="function"?Hd:jd)(e,t))}function*Bd(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length,s;o<i;++o)(s=r[o])&&(yield s)}var na=[null];function pe(e,t){this._groups=e,this._parents=t}function Zt(){return new pe([[document.documentElement]],na)}function Vd(){return this}pe.prototype=Zt.prototype={constructor:pe,select:gf,selectAll:vf,selectChild:_f,selectChildren:Nf,filter:Af,data:Df,enter:Pf,exit:$f,join:Lf,merge:Ff,selection:Vd,order:jf,sort:Hf,call:Bf,nodes:Vf,node:Wf,size:Yf,empty:Xf,each:Gf,attr:ed,style:od,property:cd,classed:dd,text:md,html:wd,raise:Ed,lower:Sd,append:Cd,insert:Nd,remove:Pd,clone:kd,datum:Td,on:Fd,dispatch:zd,[Symbol.iterator]:Bd};function de(e){return typeof e=="string"?new pe([[document.querySelector(e)]],[document.documentElement]):new pe([[e]],na)}function Wd(e){let t;for(;t=e.sourceEvent;)e=t;return e}function me(e,t){if(e=Wd(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const Yd={passive:!1},Ft={capture:!0,passive:!1};function Mr(e){e.stopImmediatePropagation()}function ht(e){e.preventDefault(),e.stopImmediatePropagation()}function ra(e){var t=e.document.documentElement,n=de(e).on("dragstart.drag",ht,Ft);"onselectstart"in t?n.on("selectstart.drag",ht,Ft):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function oa(e,t){var n=e.document.documentElement,r=de(e).on("dragstart.drag",null);t&&(r.on("click.drag",ht,Ft),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const hn=e=>()=>e;function Qr(e,{sourceEvent:t,subject:n,target:r,identifier:o,active:i,x:s,y:a,dx:c,dy:l,dispatch:u}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:l,enumerable:!0,configurable:!0},_:{value:u}})}Qr.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function Xd(e){return!e.ctrlKey&&!e.button}function Gd(){return this.parentNode}function Ud(e,t){return t??{x:e.x,y:e.y}}function Kd(){return navigator.maxTouchPoints||"ontouchstart"in this}function ia(){var e=Xd,t=Gd,n=Ud,r=Kd,o={},i=tr("start","drag","end"),s=0,a,c,l,u,f=0;function d(v){v.on("mousedown.drag",h).filter(r).on("touchstart.drag",y).on("touchmove.drag",x,Yd).on("touchend.drag touchcancel.drag",E).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(v,S){if(!(u||!e.call(this,v,S))){var N=g(this,t.call(this,v,S),v,S,"mouse");N&&(de(v.view).on("mousemove.drag",m,Ft).on("mouseup.drag",p,Ft),ra(v.view),Mr(v),l=!1,a=v.clientX,c=v.clientY,N("start",v))}}function m(v){if(ht(v),!l){var S=v.clientX-a,N=v.clientY-c;l=S*S+N*N>f}o.mouse("drag",v)}function p(v){de(v.view).on("mousemove.drag mouseup.drag",null),oa(v.view,l),ht(v),o.mouse("end",v)}function y(v,S){if(e.call(this,v,S)){var N=v.changedTouches,C=t.call(this,v,S),R=N.length,T,D;for(T=0;T<R;++T)(D=g(this,C,v,S,N[T].identifier,N[T]))&&(Mr(v),D("start",v,N[T]))}}function x(v){var S=v.changedTouches,N=S.length,C,R;for(C=0;C<N;++C)(R=o[S[C].identifier])&&(ht(v),R("drag",v,S[C]))}function E(v){var S=v.changedTouches,N=S.length,C,R;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),C=0;C<N;++C)(R=o[S[C].identifier])&&(Mr(v),R("end",v,S[C]))}function g(v,S,N,C,R,T){var D=i.copy(),$=me(T||N,S),F,O,b;if((b=n.call(v,new Qr("beforestart",{sourceEvent:N,target:d,identifier:R,active:s,x:$[0],y:$[1],dx:0,dy:0,dispatch:D}),C))!=null)return F=b.x-$[0]||0,O=b.y-$[1]||0,function I(A,P,k){var M=$,L;switch(A){case"start":o[R]=I,L=s++;break;case"end":delete o[R],--s;case"drag":$=me(k||P,S),L=s;break}D.call(A,v,new Qr(A,{sourceEvent:P,subject:b,target:d,identifier:R,active:L,x:$[0]+F,y:$[1]+O,dx:$[0]-M[0],dy:$[1]-M[1],dispatch:D}),C)}}return d.filter=function(v){return arguments.length?(e=typeof v=="function"?v:hn(!!v),d):e},d.container=function(v){return arguments.length?(t=typeof v=="function"?v:hn(v),d):t},d.subject=function(v){return arguments.length?(n=typeof v=="function"?v:hn(v),d):n},d.touchable=function(v){return arguments.length?(r=typeof v=="function"?v:hn(!!v),d):r},d.on=function(){var v=i.on.apply(i,arguments);return v===i?d:v},d.clickDistance=function(v){return arguments.length?(f=(v=+v)*v,d):Math.sqrt(f)},d}function _o(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function sa(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Qt(){}var jt=.7,Ln=1/jt,pt="\\s*([+-]?\\d+)\\s*",Ht="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ce="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",qd=/^#([0-9a-f]{3,8})$/,Zd=new RegExp(`^rgb\\(${pt},${pt},${pt}\\)$`),Qd=new RegExp(`^rgb\\(${Ce},${Ce},${Ce}\\)$`),Jd=new RegExp(`^rgba\\(${pt},${pt},${pt},${Ht}\\)$`),eh=new RegExp(`^rgba\\(${Ce},${Ce},${Ce},${Ht}\\)$`),th=new RegExp(`^hsl\\(${Ht},${Ce},${Ce}\\)$`),nh=new RegExp(`^hsla\\(${Ht},${Ce},${Ce},${Ht}\\)$`),fi={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};_o(Qt,et,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:di,formatHex:di,formatHex8:rh,formatHsl:oh,formatRgb:hi,toString:hi});function di(){return this.rgb().formatHex()}function rh(){return this.rgb().formatHex8()}function oh(){return aa(this).formatHsl()}function hi(){return this.rgb().formatRgb()}function et(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=qd.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?pi(t):n===3?new ue(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?pn(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?pn(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Zd.exec(e))?new ue(t[1],t[2],t[3],1):(t=Qd.exec(e))?new ue(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Jd.exec(e))?pn(t[1],t[2],t[3],t[4]):(t=eh.exec(e))?pn(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=th.exec(e))?yi(t[1],t[2]/100,t[3]/100,1):(t=nh.exec(e))?yi(t[1],t[2]/100,t[3]/100,t[4]):fi.hasOwnProperty(e)?pi(fi[e]):e==="transparent"?new ue(NaN,NaN,NaN,0):null}function pi(e){return new ue(e>>16&255,e>>8&255,e&255,1)}function pn(e,t,n,r){return r<=0&&(e=t=n=NaN),new ue(e,t,n,r)}function ih(e){return e instanceof Qt||(e=et(e)),e?(e=e.rgb(),new ue(e.r,e.g,e.b,e.opacity)):new ue}function Jr(e,t,n,r){return arguments.length===1?ih(e):new ue(e,t,n,r??1)}function ue(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}_o(ue,Jr,sa(Qt,{brighter(e){return e=e==null?Ln:Math.pow(Ln,e),new ue(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?jt:Math.pow(jt,e),new ue(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ue(Qe(this.r),Qe(this.g),Qe(this.b),Fn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:gi,formatHex:gi,formatHex8:sh,formatRgb:mi,toString:mi}));function gi(){return`#${Ze(this.r)}${Ze(this.g)}${Ze(this.b)}`}function sh(){return`#${Ze(this.r)}${Ze(this.g)}${Ze(this.b)}${Ze((isNaN(this.opacity)?1:this.opacity)*255)}`}function mi(){const e=Fn(this.opacity);return`${e===1?"rgb(":"rgba("}${Qe(this.r)}, ${Qe(this.g)}, ${Qe(this.b)}${e===1?")":`, ${e})`}`}function Fn(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Qe(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ze(e){return e=Qe(e),(e<16?"0":"")+e.toString(16)}function yi(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ye(e,t,n,r)}function aa(e){if(e instanceof ye)return new ye(e.h,e.s,e.l,e.opacity);if(e instanceof Qt||(e=et(e)),!e)return new ye;if(e instanceof ye)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),s=NaN,a=i-o,c=(i+o)/2;return a?(t===i?s=(n-r)/a+(n<r)*6:n===i?s=(r-t)/a+2:s=(t-n)/a+4,a/=c<.5?i+o:2-i-o,s*=60):a=c>0&&c<1?0:s,new ye(s,a,c,e.opacity)}function ah(e,t,n,r){return arguments.length===1?aa(e):new ye(e,t,n,r??1)}function ye(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}_o(ye,ah,sa(Qt,{brighter(e){return e=e==null?Ln:Math.pow(Ln,e),new ye(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?jt:Math.pow(jt,e),new ye(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new ue(Nr(e>=240?e-240:e+120,o,r),Nr(e,o,r),Nr(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new ye(xi(this.h),gn(this.s),gn(this.l),Fn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Fn(this.opacity);return`${e===1?"hsl(":"hsla("}${xi(this.h)}, ${gn(this.s)*100}%, ${gn(this.l)*100}%${e===1?")":`, ${e})`}`}}));function xi(e){return e=(e||0)%360,e<0?e+360:e}function gn(e){return Math.max(0,Math.min(1,e||0))}function Nr(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const So=e=>()=>e;function ch(e,t){return function(n){return e+n*t}}function uh(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function lh(e){return(e=+e)==1?ca:function(t,n){return n-t?uh(t,n,e):So(isNaN(t)?n:t)}}function ca(e,t){var n=t-e;return n?ch(e,n):So(isNaN(e)?t:e)}const jn=function e(t){var n=lh(t);function r(o,i){var s=n((o=Jr(o)).r,(i=Jr(i)).r),a=n(o.g,i.g),c=n(o.b,i.b),l=ca(o.opacity,i.opacity);return function(u){return o.r=s(u),o.g=a(u),o.b=c(u),o.opacity=l(u),o+""}}return r.gamma=e,r}(1);function fh(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),o;return function(i){for(o=0;o<n;++o)r[o]=e[o]*(1-i)+t[o]*i;return r}}function dh(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function hh(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,o=new Array(r),i=new Array(n),s;for(s=0;s<r;++s)o[s]=$t(e[s],t[s]);for(;s<n;++s)i[s]=t[s];return function(a){for(s=0;s<r;++s)i[s]=o[s](a);return i}}function ph(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Ee(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function gh(e,t){var n={},r={},o;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(o in t)o in e?n[o]=$t(e[o],t[o]):r[o]=t[o];return function(i){for(o in n)r[o]=n[o](i);return r}}var eo=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ar=new RegExp(eo.source,"g");function mh(e){return function(){return e}}function yh(e){return function(t){return e(t)+""}}function ua(e,t){var n=eo.lastIndex=Ar.lastIndex=0,r,o,i,s=-1,a=[],c=[];for(e=e+"",t=t+"";(r=eo.exec(e))&&(o=Ar.exec(t));)(i=o.index)>n&&(i=t.slice(n,i),a[s]?a[s]+=i:a[++s]=i),(r=r[0])===(o=o[0])?a[s]?a[s]+=o:a[++s]=o:(a[++s]=null,c.push({i:s,x:Ee(r,o)})),n=Ar.lastIndex;return n<t.length&&(i=t.slice(n),a[s]?a[s]+=i:a[++s]=i),a.length<2?c[0]?yh(c[0].x):mh(t):(t=c.length,function(l){for(var u=0,f;u<t;++u)a[(f=c[u]).i]=f.x(l);return a.join("")})}function $t(e,t){var n=typeof t,r;return t==null||n==="boolean"?So(t):(n==="number"?Ee:n==="string"?(r=et(t))?(t=r,jn):ua:t instanceof et?jn:t instanceof Date?ph:dh(t)?fh:Array.isArray(t)?hh:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?gh:Ee)(e,t)}var vi=180/Math.PI,to={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function la(e,t,n,r,o,i){var s,a,c;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,c/=a),e*r<t*n&&(e=-e,t=-t,c=-c,s=-s),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*vi,skewX:Math.atan(c)*vi,scaleX:s,scaleY:a}}var mn;function xh(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?to:la(t.a,t.b,t.c,t.d,t.e,t.f)}function vh(e){return e==null||(mn||(mn=document.createElementNS("http://www.w3.org/2000/svg","g")),mn.setAttribute("transform",e),!(e=mn.transform.baseVal.consolidate()))?to:(e=e.matrix,la(e.a,e.b,e.c,e.d,e.e,e.f))}function fa(e,t,n,r){function o(l){return l.length?l.pop()+" ":""}function i(l,u,f,d,h,m){if(l!==f||u!==d){var p=h.push("translate(",null,t,null,n);m.push({i:p-4,x:Ee(l,f)},{i:p-2,x:Ee(u,d)})}else(f||d)&&h.push("translate("+f+t+d+n)}function s(l,u,f,d){l!==u?(l-u>180?u+=360:u-l>180&&(l+=360),d.push({i:f.push(o(f)+"rotate(",null,r)-2,x:Ee(l,u)})):u&&f.push(o(f)+"rotate("+u+r)}function a(l,u,f,d){l!==u?d.push({i:f.push(o(f)+"skewX(",null,r)-2,x:Ee(l,u)}):u&&f.push(o(f)+"skewX("+u+r)}function c(l,u,f,d,h,m){if(l!==f||u!==d){var p=h.push(o(h)+"scale(",null,",",null,")");m.push({i:p-4,x:Ee(l,f)},{i:p-2,x:Ee(u,d)})}else(f!==1||d!==1)&&h.push(o(h)+"scale("+f+","+d+")")}return function(l,u){var f=[],d=[];return l=e(l),u=e(u),i(l.translateX,l.translateY,u.translateX,u.translateY,f,d),s(l.rotate,u.rotate,f,d),a(l.skewX,u.skewX,f,d),c(l.scaleX,l.scaleY,u.scaleX,u.scaleY,f,d),l=u=null,function(h){for(var m=-1,p=d.length,y;++m<p;)f[(y=d[m]).i]=y.x(h);return f.join("")}}}var wh=fa(xh,"px, ","px)","deg)"),bh=fa(vh,", ",")",")"),Eh=1e-12;function wi(e){return((e=Math.exp(e))+1/e)/2}function _h(e){return((e=Math.exp(e))-1/e)/2}function Sh(e){return((e=Math.exp(2*e))-1)/(e+1)}const Pn=function e(t,n,r){function o(i,s){var a=i[0],c=i[1],l=i[2],u=s[0],f=s[1],d=s[2],h=u-a,m=f-c,p=h*h+m*m,y,x;if(p<Eh)x=Math.log(d/l)/t,y=function(C){return[a+C*h,c+C*m,l*Math.exp(t*C*x)]};else{var E=Math.sqrt(p),g=(d*d-l*l+r*p)/(2*l*n*E),v=(d*d-l*l-r*p)/(2*d*n*E),S=Math.log(Math.sqrt(g*g+1)-g),N=Math.log(Math.sqrt(v*v+1)-v);x=(N-S)/t,y=function(C){var R=C*x,T=wi(S),D=l/(n*E)*(T*Sh(t*R+S)-_h(S));return[a+D*h,c+D*m,l*T/wi(t*R+S)]}}return y.duration=x*1e3*t/Math.SQRT2,y}return o.rho=function(i){var s=Math.max(.001,+i),a=s*s,c=a*a;return e(s,a,c)},o}(Math.SQRT2,2,4);var xt=0,Tt=0,It=0,da=1e3,Hn,Dt,zn=0,tt=0,rr=0,zt=typeof performance=="object"&&performance.now?performance:Date,ha=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Co(){return tt||(ha(Ch),tt=zt.now()+rr)}function Ch(){tt=0}function Bn(){this._call=this._time=this._next=null}Bn.prototype=pa.prototype={constructor:Bn,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Co():+n)+(t==null?0:+t),!this._next&&Dt!==this&&(Dt?Dt._next=this:Hn=this,Dt=this),this._call=e,this._time=n,no()},stop:function(){this._call&&(this._call=null,this._time=1/0,no())}};function pa(e,t,n){var r=new Bn;return r.restart(e,t,n),r}function Mh(){Co(),++xt;for(var e=Hn,t;e;)(t=tt-e._time)>=0&&e._call.call(void 0,t),e=e._next;--xt}function bi(){tt=(zn=zt.now())+rr,xt=Tt=0;try{Mh()}finally{xt=0,Ah(),tt=0}}function Nh(){var e=zt.now(),t=e-zn;t>da&&(rr-=t,zn=e)}function Ah(){for(var e,t=Hn,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Hn=n);Dt=e,no(r)}function no(e){if(!xt){Tt&&(Tt=clearTimeout(Tt));var t=e-tt;t>24?(e<1/0&&(Tt=setTimeout(bi,e-zt.now()-rr)),It&&(It=clearInterval(It))):(It||(zn=zt.now(),It=setInterval(Nh,da)),xt=1,ha(bi))}}function Ei(e,t,n){var r=new Bn;return t=t==null?0:+t,r.restart(o=>{r.stop(),e(o+t)},t,n),r}var Ph=tr("start","end","cancel","interrupt"),Rh=[],ga=0,_i=1,ro=2,Rn=3,Si=4,oo=5,In=6;function or(e,t,n,r,o,i){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;Ih(e,n,{name:t,index:r,group:o,on:Ph,tween:Rh,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:ga})}function Mo(e,t){var n=be(e,t);if(n.state>ga)throw new Error("too late; already scheduled");return n}function Pe(e,t){var n=be(e,t);if(n.state>Rn)throw new Error("too late; already running");return n}function be(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Ih(e,t,n){var r=e.__transition,o;r[t]=n,n.timer=pa(i,0,n.time);function i(l){n.state=_i,n.timer.restart(s,n.delay,n.time),n.delay<=l&&s(l-n.delay)}function s(l){var u,f,d,h;if(n.state!==_i)return c();for(u in r)if(h=r[u],h.name===n.name){if(h.state===Rn)return Ei(s);h.state===Si?(h.state=In,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[u]):+u<t&&(h.state=In,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[u])}if(Ei(function(){n.state===Rn&&(n.state=Si,n.timer.restart(a,n.delay,n.time),a(l))}),n.state=ro,n.on.call("start",e,e.__data__,n.index,n.group),n.state===ro){for(n.state=Rn,o=new Array(d=n.tween.length),u=0,f=-1;u<d;++u)(h=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(o[++f]=h);o.length=f+1}}function a(l){for(var u=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(c),n.state=oo,1),f=-1,d=o.length;++f<d;)o[f].call(e,u);n.state===oo&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=In,n.timer.stop(),delete r[t];for(var l in r)return;delete e.__transition}}function kn(e,t){var n=e.__transition,r,o,i=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){i=!1;continue}o=r.state>ro&&r.state<oo,r.state=In,r.timer.stop(),r.on.call(o?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}i&&delete e.__transition}}function kh(e){return this.each(function(){kn(this,e)})}function Th(e,t){var n,r;return function(){var o=Pe(this,e),i=o.tween;if(i!==n){r=n=i;for(var s=0,a=r.length;s<a;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}o.tween=r}}function Dh(e,t,n){var r,o;if(typeof n!="function")throw new Error;return function(){var i=Pe(this,e),s=i.tween;if(s!==r){o=(r=s).slice();for(var a={name:t,value:n},c=0,l=o.length;c<l;++c)if(o[c].name===t){o[c]=a;break}c===l&&o.push(a)}i.tween=o}}function Oh(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=be(this.node(),n).tween,o=0,i=r.length,s;o<i;++o)if((s=r[o]).name===e)return s.value;return null}return this.each((t==null?Th:Dh)(n,e,t))}function No(e,t,n){var r=e._id;return e.each(function(){var o=Pe(this,r);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return be(o,r).value[t]}}function ma(e,t){var n;return(typeof t=="number"?Ee:t instanceof et?jn:(n=et(t))?(t=n,jn):ua)(e,t)}function $h(e){return function(){this.removeAttribute(e)}}function Lh(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Fh(e,t,n){var r,o=n+"",i;return function(){var s=this.getAttribute(e);return s===o?null:s===r?i:i=t(r=s,n)}}function jh(e,t,n){var r,o=n+"",i;return function(){var s=this.getAttributeNS(e.space,e.local);return s===o?null:s===r?i:i=t(r=s,n)}}function Hh(e,t,n){var r,o,i;return function(){var s,a=n(this),c;return a==null?void this.removeAttribute(e):(s=this.getAttribute(e),c=a+"",s===c?null:s===r&&c===o?i:(o=c,i=t(r=s,a)))}}function zh(e,t,n){var r,o,i;return function(){var s,a=n(this),c;return a==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),c=a+"",s===c?null:s===r&&c===o?i:(o=c,i=t(r=s,a)))}}function Bh(e,t){var n=nr(e),r=n==="transform"?bh:ma;return this.attrTween(e,typeof t=="function"?(n.local?zh:Hh)(n,r,No(this,"attr."+e,t)):t==null?(n.local?Lh:$h)(n):(n.local?jh:Fh)(n,r,t))}function Vh(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Wh(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Yh(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&Wh(e,i)),n}return o._value=t,o}function Xh(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&Vh(e,i)),n}return o._value=t,o}function Gh(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=nr(e);return this.tween(n,(r.local?Yh:Xh)(r,t))}function Uh(e,t){return function(){Mo(this,e).delay=+t.apply(this,arguments)}}function Kh(e,t){return t=+t,function(){Mo(this,e).delay=t}}function qh(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Uh:Kh)(t,e)):be(this.node(),t).delay}function Zh(e,t){return function(){Pe(this,e).duration=+t.apply(this,arguments)}}function Qh(e,t){return t=+t,function(){Pe(this,e).duration=t}}function Jh(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Zh:Qh)(t,e)):be(this.node(),t).duration}function ep(e,t){if(typeof t!="function")throw new Error;return function(){Pe(this,e).ease=t}}function tp(e){var t=this._id;return arguments.length?this.each(ep(t,e)):be(this.node(),t).ease}function np(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Pe(this,e).ease=n}}function rp(e){if(typeof e!="function")throw new Error;return this.each(np(this._id,e))}function op(e){typeof e!="function"&&(e=Gs(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,a=r[o]=[],c,l=0;l<s;++l)(c=i[l])&&e.call(c,c.__data__,l,i)&&a.push(c);return new De(r,this._parents,this._name,this._id)}function ip(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),s=new Array(r),a=0;a<i;++a)for(var c=t[a],l=n[a],u=c.length,f=s[a]=new Array(u),d,h=0;h<u;++h)(d=c[h]||l[h])&&(f[h]=d);for(;a<r;++a)s[a]=t[a];return new De(s,this._parents,this._name,this._id)}function sp(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function ap(e,t,n){var r,o,i=sp(t)?Mo:Pe;return function(){var s=i(this,e),a=s.on;a!==r&&(o=(r=a).copy()).on(t,n),s.on=o}}function cp(e,t){var n=this._id;return arguments.length<2?be(this.node(),n).on.on(e):this.each(ap(n,e,t))}function up(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function lp(){return this.on("end.remove",up(this._id))}function fp(e){var t=this._name,n=this._id;typeof e!="function"&&(e=bo(e));for(var r=this._groups,o=r.length,i=new Array(o),s=0;s<o;++s)for(var a=r[s],c=a.length,l=i[s]=new Array(c),u,f,d=0;d<c;++d)(u=a[d])&&(f=e.call(u,u.__data__,d,a))&&("__data__"in u&&(f.__data__=u.__data__),l[d]=f,or(l[d],t,n,d,l,be(u,n)));return new De(i,this._parents,t,n)}function dp(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Xs(e));for(var r=this._groups,o=r.length,i=[],s=[],a=0;a<o;++a)for(var c=r[a],l=c.length,u,f=0;f<l;++f)if(u=c[f]){for(var d=e.call(u,u.__data__,f,c),h,m=be(u,n),p=0,y=d.length;p<y;++p)(h=d[p])&&or(h,t,n,p,d,m);i.push(d),s.push(u)}return new De(i,s,t,n)}var hp=Zt.prototype.constructor;function pp(){return new hp(this._groups,this._parents)}function gp(e,t){var n,r,o;return function(){var i=yt(this,e),s=(this.style.removeProperty(e),yt(this,e));return i===s?null:i===n&&s===r?o:o=t(n=i,r=s)}}function ya(e){return function(){this.style.removeProperty(e)}}function mp(e,t,n){var r,o=n+"",i;return function(){var s=yt(this,e);return s===o?null:s===r?i:i=t(r=s,n)}}function yp(e,t,n){var r,o,i;return function(){var s=yt(this,e),a=n(this),c=a+"";return a==null&&(c=a=(this.style.removeProperty(e),yt(this,e))),s===c?null:s===r&&c===o?i:(o=c,i=t(r=s,a))}}function xp(e,t){var n,r,o,i="style."+t,s="end."+i,a;return function(){var c=Pe(this,e),l=c.on,u=c.value[i]==null?a||(a=ya(t)):void 0;(l!==n||o!==u)&&(r=(n=l).copy()).on(s,o=u),c.on=r}}function vp(e,t,n){var r=(e+="")=="transform"?wh:ma;return t==null?this.styleTween(e,gp(e,r)).on("end.style."+e,ya(e)):typeof t=="function"?this.styleTween(e,yp(e,r,No(this,"style."+e,t))).each(xp(this._id,e)):this.styleTween(e,mp(e,r,t),n).on("end.style."+e,null)}function wp(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function bp(e,t,n){var r,o;function i(){var s=t.apply(this,arguments);return s!==o&&(r=(o=s)&&wp(e,s,n)),r}return i._value=t,i}function Ep(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,bp(e,t,n??""))}function _p(e){return function(){this.textContent=e}}function Sp(e){return function(){var t=e(this);this.textContent=t??""}}function Cp(e){return this.tween("text",typeof e=="function"?Sp(No(this,"text",e)):_p(e==null?"":e+""))}function Mp(e){return function(t){this.textContent=e.call(this,t)}}function Np(e){var t,n;function r(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&Mp(o)),t}return r._value=e,r}function Ap(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Np(e))}function Pp(){for(var e=this._name,t=this._id,n=xa(),r=this._groups,o=r.length,i=0;i<o;++i)for(var s=r[i],a=s.length,c,l=0;l<a;++l)if(c=s[l]){var u=be(c,t);or(c,e,n,l,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new De(r,this._parents,e,n)}function Rp(){var e,t,n=this,r=n._id,o=n.size();return new Promise(function(i,s){var a={value:s},c={value:function(){--o===0&&i()}};n.each(function(){var l=Pe(this,r),u=l.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(c)),l.on=t}),o===0&&i()})}var Ip=0;function De(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function xa(){return++Ip}var Ie=Zt.prototype;De.prototype={constructor:De,select:fp,selectAll:dp,selectChild:Ie.selectChild,selectChildren:Ie.selectChildren,filter:op,merge:ip,selection:pp,transition:Pp,call:Ie.call,nodes:Ie.nodes,node:Ie.node,size:Ie.size,empty:Ie.empty,each:Ie.each,on:cp,attr:Bh,attrTween:Gh,style:vp,styleTween:Ep,text:Cp,textTween:Ap,remove:lp,tween:Oh,delay:qh,duration:Jh,ease:tp,easeVarying:rp,end:Rp,[Symbol.iterator]:Ie[Symbol.iterator]};function kp(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Tp={time:null,delay:0,duration:250,ease:kp};function Dp(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Op(e){var t,n;e instanceof De?(t=e._id,e=e._name):(t=xa(),(n=Tp).time=Co(),e=e==null?null:e+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var s=r[i],a=s.length,c,l=0;l<a;++l)(c=s[l])&&or(c,e,t,l,s,n||Dp(c,t));return new De(r,this._parents,e,t)}Zt.prototype.interrupt=kh;Zt.prototype.transition=Op;const yn=e=>()=>e;function $p(e,{sourceEvent:t,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function ke(e,t,n){this.k=e,this.x=t,this.y=n}ke.prototype={constructor:ke,scale:function(e){return e===1?this:new ke(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new ke(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ir=new ke(1,0,0);va.prototype=ke.prototype;function va(e){for(;!e.__zoom;)if(!(e=e.parentNode))return ir;return e.__zoom}function Pr(e){e.stopImmediatePropagation()}function kt(e){e.preventDefault(),e.stopImmediatePropagation()}function Lp(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Fp(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Ci(){return this.__zoom||ir}function jp(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Hp(){return navigator.maxTouchPoints||"ontouchstart"in this}function zp(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),s>i?(i+s)/2:Math.min(0,i)||Math.max(0,s))}function wa(){var e=Lp,t=Fp,n=zp,r=jp,o=Hp,i=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],a=250,c=Pn,l=tr("start","zoom","end"),u,f,d,h=500,m=150,p=0,y=10;function x(b){b.property("__zoom",Ci).on("wheel.zoom",R,{passive:!1}).on("mousedown.zoom",T).on("dblclick.zoom",D).filter(o).on("touchstart.zoom",$).on("touchmove.zoom",F).on("touchend.zoom touchcancel.zoom",O).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}x.transform=function(b,I,A,P){var k=b.selection?b.selection():b;k.property("__zoom",Ci),b!==k?S(b,I,A,P):k.interrupt().each(function(){N(this,arguments).event(P).start().zoom(null,typeof I=="function"?I.apply(this,arguments):I).end()})},x.scaleBy=function(b,I,A,P){x.scaleTo(b,function(){var k=this.__zoom.k,M=typeof I=="function"?I.apply(this,arguments):I;return k*M},A,P)},x.scaleTo=function(b,I,A,P){x.transform(b,function(){var k=t.apply(this,arguments),M=this.__zoom,L=A==null?v(k):typeof A=="function"?A.apply(this,arguments):A,j=M.invert(L),H=typeof I=="function"?I.apply(this,arguments):I;return n(g(E(M,H),L,j),k,s)},A,P)},x.translateBy=function(b,I,A,P){x.transform(b,function(){return n(this.__zoom.translate(typeof I=="function"?I.apply(this,arguments):I,typeof A=="function"?A.apply(this,arguments):A),t.apply(this,arguments),s)},null,P)},x.translateTo=function(b,I,A,P,k){x.transform(b,function(){var M=t.apply(this,arguments),L=this.__zoom,j=P==null?v(M):typeof P=="function"?P.apply(this,arguments):P;return n(ir.translate(j[0],j[1]).scale(L.k).translate(typeof I=="function"?-I.apply(this,arguments):-I,typeof A=="function"?-A.apply(this,arguments):-A),M,s)},P,k)};function E(b,I){return I=Math.max(i[0],Math.min(i[1],I)),I===b.k?b:new ke(I,b.x,b.y)}function g(b,I,A){var P=I[0]-A[0]*b.k,k=I[1]-A[1]*b.k;return P===b.x&&k===b.y?b:new ke(b.k,P,k)}function v(b){return[(+b[0][0]+ +b[1][0])/2,(+b[0][1]+ +b[1][1])/2]}function S(b,I,A,P){b.on("start.zoom",function(){N(this,arguments).event(P).start()}).on("interrupt.zoom end.zoom",function(){N(this,arguments).event(P).end()}).tween("zoom",function(){var k=this,M=arguments,L=N(k,M).event(P),j=t.apply(k,M),H=A==null?v(j):typeof A=="function"?A.apply(k,M):A,W=Math.max(j[1][0]-j[0][0],j[1][1]-j[0][1]),B=k.__zoom,Y=typeof I=="function"?I.apply(k,M):I,X=c(B.invert(H).concat(W/B.k),Y.invert(H).concat(W/Y.k));return function(U){if(U===1)U=Y;else{var z=X(U),V=W/z[2];U=new ke(V,H[0]-z[0]*V,H[1]-z[1]*V)}L.zoom(null,U)}})}function N(b,I,A){return!A&&b.__zooming||new C(b,I)}function C(b,I){this.that=b,this.args=I,this.active=0,this.sourceEvent=null,this.extent=t.apply(b,I),this.taps=0}C.prototype={event:function(b){return b&&(this.sourceEvent=b),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(b,I){return this.mouse&&b!=="mouse"&&(this.mouse[1]=I.invert(this.mouse[0])),this.touch0&&b!=="touch"&&(this.touch0[1]=I.invert(this.touch0[0])),this.touch1&&b!=="touch"&&(this.touch1[1]=I.invert(this.touch1[0])),this.that.__zoom=I,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(b){var I=de(this.that).datum();l.call(b,this.that,new $p(b,{sourceEvent:this.sourceEvent,target:x,transform:this.that.__zoom,dispatch:l}),I)}};function R(b,...I){if(!e.apply(this,arguments))return;var A=N(this,I).event(b),P=this.__zoom,k=Math.max(i[0],Math.min(i[1],P.k*Math.pow(2,r.apply(this,arguments)))),M=me(b);if(A.wheel)(A.mouse[0][0]!==M[0]||A.mouse[0][1]!==M[1])&&(A.mouse[1]=P.invert(A.mouse[0]=M)),clearTimeout(A.wheel);else{if(P.k===k)return;A.mouse=[M,P.invert(M)],kn(this),A.start()}kt(b),A.wheel=setTimeout(L,m),A.zoom("mouse",n(g(E(P,k),A.mouse[0],A.mouse[1]),A.extent,s));function L(){A.wheel=null,A.end()}}function T(b,...I){if(d||!e.apply(this,arguments))return;var A=b.currentTarget,P=N(this,I,!0).event(b),k=de(b.view).on("mousemove.zoom",H,!0).on("mouseup.zoom",W,!0),M=me(b,A),L=b.clientX,j=b.clientY;ra(b.view),Pr(b),P.mouse=[M,this.__zoom.invert(M)],kn(this),P.start();function H(B){if(kt(B),!P.moved){var Y=B.clientX-L,X=B.clientY-j;P.moved=Y*Y+X*X>p}P.event(B).zoom("mouse",n(g(P.that.__zoom,P.mouse[0]=me(B,A),P.mouse[1]),P.extent,s))}function W(B){k.on("mousemove.zoom mouseup.zoom",null),oa(B.view,P.moved),kt(B),P.event(B).end()}}function D(b,...I){if(e.apply(this,arguments)){var A=this.__zoom,P=me(b.changedTouches?b.changedTouches[0]:b,this),k=A.invert(P),M=A.k*(b.shiftKey?.5:2),L=n(g(E(A,M),P,k),t.apply(this,I),s);kt(b),a>0?de(this).transition().duration(a).call(S,L,P,b):de(this).call(x.transform,L,P,b)}}function $(b,...I){if(e.apply(this,arguments)){var A=b.touches,P=A.length,k=N(this,I,b.changedTouches.length===P).event(b),M,L,j,H;for(Pr(b),L=0;L<P;++L)j=A[L],H=me(j,this),H=[H,this.__zoom.invert(H),j.identifier],k.touch0?!k.touch1&&k.touch0[2]!==H[2]&&(k.touch1=H,k.taps=0):(k.touch0=H,M=!0,k.taps=1+!!u);u&&(u=clearTimeout(u)),M&&(k.taps<2&&(f=H[0],u=setTimeout(function(){u=null},h)),kn(this),k.start())}}function F(b,...I){if(this.__zooming){var A=N(this,I).event(b),P=b.changedTouches,k=P.length,M,L,j,H;for(kt(b),M=0;M<k;++M)L=P[M],j=me(L,this),A.touch0&&A.touch0[2]===L.identifier?A.touch0[0]=j:A.touch1&&A.touch1[2]===L.identifier&&(A.touch1[0]=j);if(L=A.that.__zoom,A.touch1){var W=A.touch0[0],B=A.touch0[1],Y=A.touch1[0],X=A.touch1[1],U=(U=Y[0]-W[0])*U+(U=Y[1]-W[1])*U,z=(z=X[0]-B[0])*z+(z=X[1]-B[1])*z;L=E(L,Math.sqrt(U/z)),j=[(W[0]+Y[0])/2,(W[1]+Y[1])/2],H=[(B[0]+X[0])/2,(B[1]+X[1])/2]}else if(A.touch0)j=A.touch0[0],H=A.touch0[1];else return;A.zoom("touch",n(g(L,j,H),A.extent,s))}}function O(b,...I){if(this.__zooming){var A=N(this,I).event(b),P=b.changedTouches,k=P.length,M,L;for(Pr(b),d&&clearTimeout(d),d=setTimeout(function(){d=null},h),M=0;M<k;++M)L=P[M],A.touch0&&A.touch0[2]===L.identifier?delete A.touch0:A.touch1&&A.touch1[2]===L.identifier&&delete A.touch1;if(A.touch1&&!A.touch0&&(A.touch0=A.touch1,delete A.touch1),A.touch0)A.touch0[1]=this.__zoom.invert(A.touch0[0]);else if(A.end(),A.taps===2&&(L=me(L,this),Math.hypot(f[0]-L[0],f[1]-L[1])<y)){var j=de(this).on("dblclick.zoom");j&&j.apply(this,arguments)}}}return x.wheelDelta=function(b){return arguments.length?(r=typeof b=="function"?b:yn(+b),x):r},x.filter=function(b){return arguments.length?(e=typeof b=="function"?b:yn(!!b),x):e},x.touchable=function(b){return arguments.length?(o=typeof b=="function"?b:yn(!!b),x):o},x.extent=function(b){return arguments.length?(t=typeof b=="function"?b:yn([[+b[0][0],+b[0][1]],[+b[1][0],+b[1][1]]]),x):t},x.scaleExtent=function(b){return arguments.length?(i[0]=+b[0],i[1]=+b[1],x):[i[0],i[1]]},x.translateExtent=function(b){return arguments.length?(s[0][0]=+b[0][0],s[1][0]=+b[1][0],s[0][1]=+b[0][1],s[1][1]=+b[1][1],x):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},x.constrain=function(b){return arguments.length?(n=b,x):n},x.duration=function(b){return arguments.length?(a=+b,x):a},x.interpolate=function(b){return arguments.length?(c=b,x):c},x.on=function(){var b=l.on.apply(l,arguments);return b===l?x:b},x.clickDistance=function(b){return arguments.length?(p=(b=+b)*b,x):Math.sqrt(p)},x.tapDistance=function(b){return arguments.length?(y=+b,x):y},x}const Ne={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Bt=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],ba=["Enter"," ","Escape"],Ea={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var vt;(function(e){e.Strict="strict",e.Loose="loose"})(vt||(vt={}));var Je;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Je||(Je={}));var Vt;(function(e){e.Partial="partial",e.Full="full"})(Vt||(Vt={}));const _a={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var Ye;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Ye||(Ye={}));var Vn;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Vn||(Vn={}));var K;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(K||(K={}));const Mi={[K.Left]:K.Right,[K.Right]:K.Left,[K.Top]:K.Bottom,[K.Bottom]:K.Top};function Sa(e){return e===null?null:e?"valid":"invalid"}const Ca=e=>"id"in e&&"source"in e&&"target"in e,Bp=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),Ao=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),Jt=(e,t=[0,0])=>{const{width:n,height:r}=Fe(e),o=e.origin??t,i=n*o[0],s=r*o[1];return{x:e.position.x-i,y:e.position.y-s}},Vp=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,o)=>{const i=typeof o=="string";let s=!t.nodeLookup&&!i?o:void 0;t.nodeLookup&&(s=i?t.nodeLookup.get(o):Ao(o)?o:t.nodeLookup.get(o.id));const a=s?Wn(s,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return sr(r,a)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return ar(n)},en=(e,t={})=>{if(e.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return e.forEach(r=>{if(t.filter===void 0||t.filter(r)){const o=Wn(r);n=sr(n,o)}}),ar(n)},Po=(e,t,[n,r,o]=[0,0,1],i=!1,s=!1)=>{const a={...tn(t,[n,r,o]),width:t.width/o,height:t.height/o},c=[];for(const l of e.values()){const{measured:u,selectable:f=!0,hidden:d=!1}=l;if(s&&!f||d)continue;const h=u.width??l.width??l.initialWidth??null,m=u.height??l.height??l.initialHeight??null,p=Wt(a,bt(l)),y=(h??0)*(m??0),x=i&&p>0;(!l.internals.handleBounds||x||p>=y||l.dragging)&&c.push(l)}return c},Wp=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function Yp(e,t){const n=new Map,r=t!=null&&t.nodes?new Set(t.nodes.map(o=>o.id)):null;return e.forEach(o=>{o.measured.width&&o.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!o.hidden)&&(!r||r.has(o.id))&&n.set(o.id,o)}),n}async function Xp({nodes:e,width:t,height:n,panZoom:r,minZoom:o,maxZoom:i},s){if(e.size===0)return Promise.resolve(!0);const a=Yp(e,s),c=en(a),l=Ro(c,t,n,(s==null?void 0:s.minZoom)??o,(s==null?void 0:s.maxZoom)??i,(s==null?void 0:s.padding)??.1);return await r.setViewport(l,{duration:s==null?void 0:s.duration,ease:s==null?void 0:s.ease,interpolate:s==null?void 0:s.interpolate}),Promise.resolve(!0)}function Ma({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:o,onError:i}){const s=n.get(e),a=s.parentId?n.get(s.parentId):void 0,{x:c,y:l}=a?a.internals.positionAbsolute:{x:0,y:0},u=s.origin??r;let f=o;if(s.extent==="parent"&&!s.expandParent)if(!a)i==null||i("005",Ne.error005());else{const h=a.measured.width,m=a.measured.height;h&&m&&(f=[[c,l],[c+h,l+m]])}else a&&Et(s.extent)&&(f=[[s.extent[0][0]+c,s.extent[0][1]+l],[s.extent[1][0]+c,s.extent[1][1]+l]]);const d=Et(f)?nt(t,f,s.measured):t;return(s.measured.width===void 0||s.measured.height===void 0)&&(i==null||i("015",Ne.error015())),{position:{x:d.x-c+(s.measured.width??0)*u[0],y:d.y-l+(s.measured.height??0)*u[1]},positionAbsolute:d}}async function Gp({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:o}){const i=new Set(e.map(d=>d.id)),s=[];for(const d of n){if(d.deletable===!1)continue;const h=i.has(d.id),m=!h&&d.parentId&&s.find(p=>p.id===d.parentId);(h||m)&&s.push(d)}const a=new Set(t.map(d=>d.id)),c=r.filter(d=>d.deletable!==!1),u=Wp(s,c);for(const d of c)a.has(d.id)&&!u.find(m=>m.id===d.id)&&u.push(d);if(!o)return{edges:u,nodes:s};const f=await o({nodes:s,edges:u});return typeof f=="boolean"?f?{edges:u,nodes:s}:{edges:[],nodes:[]}:f}const wt=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),nt=(e={x:0,y:0},t,n)=>({x:wt(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:wt(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function Na(e,t,n){const{width:r,height:o}=Fe(n),{x:i,y:s}=n.internals.positionAbsolute;return nt(e,[[i,s],[i+r,s+o]],t)}const Ni=(e,t,n)=>e<t?wt(Math.abs(e-t),1,t)/t:e>n?-wt(Math.abs(e-n),1,t)/t:0,Aa=(e,t,n=15,r=40)=>{const o=Ni(e.x,r,t.width-r)*n,i=Ni(e.y,r,t.height-r)*n;return[o,i]},sr=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),io=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),ar=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),bt=(e,t=[0,0])=>{var o,i;const{x:n,y:r}=Ao(e)?e.internals.positionAbsolute:Jt(e,t);return{x:n,y:r,width:((o=e.measured)==null?void 0:o.width)??e.width??e.initialWidth??0,height:((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0}},Wn=(e,t=[0,0])=>{var o,i;const{x:n,y:r}=Ao(e)?e.internals.positionAbsolute:Jt(e,t);return{x:n,y:r,x2:n+(((o=e.measured)==null?void 0:o.width)??e.width??e.initialWidth??0),y2:r+(((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0)}},Pa=(e,t)=>ar(sr(io(e),io(t))),Wt=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},Ai=e=>xe(e.width)&&xe(e.height)&&xe(e.x)&&xe(e.y),xe=e=>!isNaN(e)&&isFinite(e),Up=(e,t)=>{},cr=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),tn=({x:e,y:t},[n,r,o],i=!1,s=[1,1])=>{const a={x:(e-n)/o,y:(t-r)/o};return i?cr(a,s):a},Yn=({x:e,y:t},[n,r,o])=>({x:e*o+n,y:t*o+r});function at(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function Kp(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=at(e,n),o=at(e,t);return{top:r,right:o,bottom:r,left:o,x:o*2,y:r*2}}if(typeof e=="object"){const r=at(e.top??e.y??0,n),o=at(e.bottom??e.y??0,n),i=at(e.left??e.x??0,t),s=at(e.right??e.x??0,t);return{top:r,right:s,bottom:o,left:i,x:i+s,y:r+o}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function qp(e,t,n,r,o,i){const{x:s,y:a}=Yn(e,[t,n,r]),{x:c,y:l}=Yn({x:e.x+e.width,y:e.y+e.height},[t,n,r]),u=o-c,f=i-l;return{left:Math.floor(s),top:Math.floor(a),right:Math.floor(u),bottom:Math.floor(f)}}const Ro=(e,t,n,r,o,i)=>{const s=Kp(i,t,n),a=(t-s.x)/e.width,c=(n-s.y)/e.height,l=Math.min(a,c),u=wt(l,r,o),f=e.x+e.width/2,d=e.y+e.height/2,h=t/2-f*u,m=n/2-d*u,p=qp(e,h,m,u,t,n),y={left:Math.min(p.left-s.left,0),top:Math.min(p.top-s.top,0),right:Math.min(p.right-s.right,0),bottom:Math.min(p.bottom-s.bottom,0)};return{x:h-y.left+y.right,y:m-y.top+y.bottom,zoom:u}},Xn=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function Et(e){return e!==void 0&&e!=="parent"}function Fe(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function Ra(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function Ia(e,t={width:0,height:0},n,r,o){const i={...e},s=r.get(n);if(s){const a=s.origin||o;i.x+=s.internals.positionAbsolute.x-(t.width??0)*a[0],i.y+=s.internals.positionAbsolute.y-(t.height??0)*a[1]}return i}function Pi(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function Zp(){let e,t;return{promise:new Promise((r,o)=>{e=r,t=o}),resolve:e,reject:t}}function Qp(e){return{...Ea,...e||{}}}function Lt(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:o}){const{x:i,y:s}=Te(e),a=tn({x:i-((o==null?void 0:o.left)??0),y:s-((o==null?void 0:o.top)??0)},r),{x:c,y:l}=n?cr(a,t):a;return{xSnapped:c,ySnapped:l,...a}}const Io=e=>({width:e.offsetWidth,height:e.offsetHeight}),ka=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},Jp=["INPUT","SELECT","TEXTAREA"];function Ta(e){var r,o;const t=((o=(r=e.composedPath)==null?void 0:r.call(e))==null?void 0:o[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:Jp.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const Da=e=>"clientX"in e,Te=(e,t)=>{var i,s;const n=Da(e),r=n?e.clientX:(i=e.touches)==null?void 0:i[0].clientX,o=n?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:o-((t==null?void 0:t.top)??0)}},Ri=(e,t,n,r,o)=>{const i=t.querySelectorAll(`.${e}`);return!i||!i.length?null:Array.from(i).map(s=>{const a=s.getBoundingClientRect();return{id:s.getAttribute("data-handleid"),type:e,nodeId:o,position:s.getAttribute("data-handlepos"),x:(a.left-n.left)/r,y:(a.top-n.top)/r,...Io(s)}})};function Oa({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:o,sourceControlY:i,targetControlX:s,targetControlY:a}){const c=e*.125+o*.375+s*.375+n*.125,l=t*.125+i*.375+a*.375+r*.125,u=Math.abs(c-e),f=Math.abs(l-t);return[c,l,u,f]}function xn(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Ii({pos:e,x1:t,y1:n,x2:r,y2:o,c:i}){switch(e){case K.Left:return[t-xn(t-r,i),n];case K.Right:return[t+xn(r-t,i),n];case K.Top:return[t,n-xn(n-o,i)];case K.Bottom:return[t,n+xn(o-n,i)]}}function $a({sourceX:e,sourceY:t,sourcePosition:n=K.Bottom,targetX:r,targetY:o,targetPosition:i=K.Top,curvature:s=.25}){const[a,c]=Ii({pos:n,x1:e,y1:t,x2:r,y2:o,c:s}),[l,u]=Ii({pos:i,x1:r,y1:o,x2:e,y2:t,c:s}),[f,d,h,m]=Oa({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:a,sourceControlY:c,targetControlX:l,targetControlY:u});return[`M${e},${t} C${a},${c} ${l},${u} ${r},${o}`,f,d,h,m]}function La({sourceX:e,sourceY:t,targetX:n,targetY:r}){const o=Math.abs(n-e)/2,i=n<e?n+o:n-o,s=Math.abs(r-t)/2,a=r<t?r+s:r-s;return[i,a,o,s]}function eg({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r=0,elevateOnSelect:o=!1}){if(!o)return r;const i=n||t.selected||e.selected,s=Math.max(e.internals.z||0,t.internals.z||0,1e3);return r+(i?s:0)}function tg({sourceNode:e,targetNode:t,width:n,height:r,transform:o}){const i=sr(Wn(e),Wn(t));i.x===i.x2&&(i.x2+=1),i.y===i.y2&&(i.y2+=1);const s={x:-o[0]/o[2],y:-o[1]/o[2],width:n/o[2],height:r/o[2]};return Wt(s,ar(i))>0}const ng=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,rg=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),Fa=(e,t)=>{if(!e.source||!e.target)return t;let n;return Ca(e)?n={...e}:n={...e,id:ng(e)},rg(n,t)?t:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,t.concat(n))};function ja({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[o,i,s,a]=La({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,o,i,s,a]}const ki={[K.Left]:{x:-1,y:0},[K.Right]:{x:1,y:0},[K.Top]:{x:0,y:-1},[K.Bottom]:{x:0,y:1}},og=({source:e,sourcePosition:t=K.Bottom,target:n})=>t===K.Left||t===K.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Ti=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function ig({source:e,sourcePosition:t=K.Bottom,target:n,targetPosition:r=K.Top,center:o,offset:i}){const s=ki[t],a=ki[r],c={x:e.x+s.x*i,y:e.y+s.y*i},l={x:n.x+a.x*i,y:n.y+a.y*i},u=og({source:c,sourcePosition:t,target:l}),f=u.x!==0?"x":"y",d=u[f];let h=[],m,p;const y={x:0,y:0},x={x:0,y:0},[E,g,v,S]=La({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(s[f]*a[f]===-1){m=o.x??E,p=o.y??g;const C=[{x:m,y:c.y},{x:m,y:l.y}],R=[{x:c.x,y:p},{x:l.x,y:p}];s[f]===d?h=f==="x"?C:R:h=f==="x"?R:C}else{const C=[{x:c.x,y:l.y}],R=[{x:l.x,y:c.y}];if(f==="x"?h=s.x===d?R:C:h=s.y===d?C:R,t===r){const O=Math.abs(e[f]-n[f]);if(O<=i){const b=Math.min(i-1,i-O);s[f]===d?y[f]=(c[f]>e[f]?-1:1)*b:x[f]=(l[f]>n[f]?-1:1)*b}}if(t!==r){const O=f==="x"?"y":"x",b=s[f]===a[O],I=c[O]>l[O],A=c[O]<l[O];(s[f]===1&&(!b&&I||b&&A)||s[f]!==1&&(!b&&A||b&&I))&&(h=f==="x"?C:R)}const T={x:c.x+y.x,y:c.y+y.y},D={x:l.x+x.x,y:l.y+x.y},$=Math.max(Math.abs(T.x-h[0].x),Math.abs(D.x-h[0].x)),F=Math.max(Math.abs(T.y-h[0].y),Math.abs(D.y-h[0].y));$>=F?(m=(T.x+D.x)/2,p=h[0].y):(m=h[0].x,p=(T.y+D.y)/2)}return[[e,{x:c.x+y.x,y:c.y+y.y},...h,{x:l.x+x.x,y:l.y+x.y},n],m,p,v,S]}function sg(e,t,n,r){const o=Math.min(Ti(e,t)/2,Ti(t,n)/2,r),{x:i,y:s}=t;if(e.x===i&&i===n.x||e.y===s&&s===n.y)return`L${i} ${s}`;if(e.y===s){const l=e.x<n.x?-1:1,u=e.y<n.y?1:-1;return`L ${i+o*l},${s}Q ${i},${s} ${i},${s+o*u}`}const a=e.x<n.x?1:-1,c=e.y<n.y?-1:1;return`L ${i},${s+o*c}Q ${i},${s} ${i+o*a},${s}`}function so({sourceX:e,sourceY:t,sourcePosition:n=K.Bottom,targetX:r,targetY:o,targetPosition:i=K.Top,borderRadius:s=5,centerX:a,centerY:c,offset:l=20}){const[u,f,d,h,m]=ig({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:o},targetPosition:i,center:{x:a,y:c},offset:l});return[u.reduce((y,x,E)=>{let g="";return E>0&&E<u.length-1?g=sg(u[E-1],x,u[E+1],s):g=`${E===0?"M":"L"}${x.x} ${x.y}`,y+=g,y},""),f,d,h,m]}function Di(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function ag(e){var f;const{sourceNode:t,targetNode:n}=e;if(!Di(t)||!Di(n))return null;const r=t.internals.handleBounds||Oi(t.handles),o=n.internals.handleBounds||Oi(n.handles),i=$i((r==null?void 0:r.source)??[],e.sourceHandle),s=$i(e.connectionMode===vt.Strict?(o==null?void 0:o.target)??[]:((o==null?void 0:o.target)??[]).concat((o==null?void 0:o.source)??[]),e.targetHandle);if(!i||!s)return(f=e.onError)==null||f.call(e,"008",Ne.error008(i?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const a=(i==null?void 0:i.position)||K.Bottom,c=(s==null?void 0:s.position)||K.Top,l=Yt(t,i,a),u=Yt(n,s,c);return{sourceX:l.x,sourceY:l.y,targetX:u.x,targetY:u.y,sourcePosition:a,targetPosition:c}}function Oi(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function Yt(e,t,n=K.Left,r=!1){const o=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,i=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:s,height:a}=t??Fe(e);if(r)return{x:o+s/2,y:i+a/2};switch((t==null?void 0:t.position)??n){case K.Top:return{x:o+s/2,y:i};case K.Right:return{x:o+s,y:i+a/2};case K.Bottom:return{x:o+s/2,y:i+a};case K.Left:return{x:o,y:i+a/2}}}function $i(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function ao(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function cg(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:o}){const i=new Set;return e.reduce((s,a)=>([a.markerStart||r,a.markerEnd||o].forEach(c=>{if(c&&typeof c=="object"){const l=ao(c,t);i.has(l)||(s.push({id:l,color:c.color||n,...c}),i.add(l))}}),s),[]).sort((s,a)=>s.id.localeCompare(a.id))}const ko={nodeOrigin:[0,0],nodeExtent:Bt,elevateNodesOnSelect:!0,defaults:{}},ug={...ko,checkEquality:!0};function To(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function lg(e,t,n){const r=To(ko,n);for(const o of e.values())if(o.parentId)Do(o,e,t,r);else{const i=Jt(o,r.nodeOrigin),s=Et(o.extent)?o.extent:r.nodeExtent,a=nt(i,s,Fe(o));o.internals.positionAbsolute=a}}function co(e,t,n,r){var c,l;const o=To(ug,r);let i=e.length>0;const s=new Map(t),a=o!=null&&o.elevateNodesOnSelect?1e3:0;t.clear(),n.clear();for(const u of e){let f=s.get(u.id);if(o.checkEquality&&u===(f==null?void 0:f.internals.userNode))t.set(u.id,f);else{const d=Jt(u,o.nodeOrigin),h=Et(u.extent)?u.extent:o.nodeExtent,m=nt(d,h,Fe(u));f={...o.defaults,...u,measured:{width:(c=u.measured)==null?void 0:c.width,height:(l=u.measured)==null?void 0:l.height},internals:{positionAbsolute:m,handleBounds:u.measured?f==null?void 0:f.internals.handleBounds:void 0,z:Ha(u,a),userNode:u}},t.set(u.id,f)}(f.measured===void 0||f.measured.width===void 0||f.measured.height===void 0)&&!f.hidden&&(i=!1),u.parentId&&Do(f,t,n,r)}return i}function fg(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function Do(e,t,n,r){const{elevateNodesOnSelect:o,nodeOrigin:i,nodeExtent:s}=To(ko,r),a=e.parentId,c=t.get(a);if(!c){console.warn(`Parent node ${a} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}fg(e,n);const l=o?1e3:0,{x:u,y:f,z:d}=dg(e,c,i,s,l),{positionAbsolute:h}=e.internals,m=u!==h.x||f!==h.y;(m||d!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:m?{x:u,y:f}:h,z:d}})}function Ha(e,t){return(xe(e.zIndex)?e.zIndex:0)+(e.selected?t:0)}function dg(e,t,n,r,o){const{x:i,y:s}=t.internals.positionAbsolute,a=Fe(e),c=Jt(e,n),l=Et(e.extent)?nt(c,e.extent,a):c;let u=nt({x:i+l.x,y:s+l.y},r,a);e.extent==="parent"&&(u=Na(u,a,t));const f=Ha(e,o),d=t.internals.z??0;return{x:u.x,y:u.y,z:d>f?d:f}}function Oo(e,t,n,r=[0,0]){var s;const o=[],i=new Map;for(const a of e){const c=t.get(a.parentId);if(!c)continue;const l=((s=i.get(a.parentId))==null?void 0:s.expandedRect)??bt(c),u=Pa(l,a.rect);i.set(a.parentId,{expandedRect:u,parent:c})}return i.size>0&&i.forEach(({expandedRect:a,parent:c},l)=>{var g;const u=c.internals.positionAbsolute,f=Fe(c),d=c.origin??r,h=a.x<u.x?Math.round(Math.abs(u.x-a.x)):0,m=a.y<u.y?Math.round(Math.abs(u.y-a.y)):0,p=Math.max(f.width,Math.round(a.width)),y=Math.max(f.height,Math.round(a.height)),x=(p-f.width)*d[0],E=(y-f.height)*d[1];(h>0||m>0||x||E)&&(o.push({id:l,type:"position",position:{x:c.position.x-h+x,y:c.position.y-m+E}}),(g=n.get(l))==null||g.forEach(v=>{e.some(S=>S.id===v.id)||o.push({id:v.id,type:"position",position:{x:v.position.x+h,y:v.position.y+m}})})),(f.width<a.width||f.height<a.height||h||m)&&o.push({id:l,type:"dimensions",setAttributes:!0,dimensions:{width:p+(h?d[0]*h-x:0),height:y+(m?d[1]*m-E:0)}})}),o}function hg(e,t,n,r,o,i){const s=r==null?void 0:r.querySelector(".xyflow__viewport");let a=!1;if(!s)return{changes:[],updatedInternals:a};const c=[],l=window.getComputedStyle(s),{m22:u}=new window.DOMMatrixReadOnly(l.transform),f=[];for(const d of e.values()){const h=t.get(d.id);if(!h)continue;if(h.hidden){t.set(h.id,{...h,internals:{...h.internals,handleBounds:void 0}}),a=!0;continue}const m=Io(d.nodeElement),p=h.measured.width!==m.width||h.measured.height!==m.height;if(!!(m.width&&m.height&&(p||!h.internals.handleBounds||d.force))){const x=d.nodeElement.getBoundingClientRect(),E=Et(h.extent)?h.extent:i;let{positionAbsolute:g}=h.internals;h.parentId&&h.extent==="parent"?g=Na(g,m,t.get(h.parentId)):E&&(g=nt(g,E,m));const v={...h,measured:m,internals:{...h.internals,positionAbsolute:g,handleBounds:{source:Ri("source",d.nodeElement,x,u,h.id),target:Ri("target",d.nodeElement,x,u,h.id)}}};t.set(h.id,v),h.parentId&&Do(v,t,n,{nodeOrigin:o}),a=!0,p&&(c.push({id:h.id,type:"dimensions",dimensions:m}),h.expandParent&&h.parentId&&f.push({id:h.id,parentId:h.parentId,rect:bt(v,o)}))}}if(f.length>0){const d=Oo(f,t,n,o);c.push(...d)}return{changes:c,updatedInternals:a}}async function pg({delta:e,panZoom:t,transform:n,translateExtent:r,width:o,height:i}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const s=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[o,i]],r),a=!!s&&(s.x!==n[0]||s.y!==n[1]||s.k!==n[2]);return Promise.resolve(a)}function Li(e,t,n,r,o,i){let s=o;const a=r.get(s)||new Map;r.set(s,a.set(n,t)),s=`${o}-${e}`;const c=r.get(s)||new Map;if(r.set(s,c.set(n,t)),i){s=`${o}-${e}-${i}`;const l=r.get(s)||new Map;r.set(s,l.set(n,t))}}function za(e,t,n){e.clear(),t.clear();for(const r of n){const{source:o,target:i,sourceHandle:s=null,targetHandle:a=null}=r,c={edgeId:r.id,source:o,target:i,sourceHandle:s,targetHandle:a},l=`${o}-${s}--${i}-${a}`,u=`${i}-${a}--${o}-${s}`;Li("source",c,u,e,o,s),Li("target",c,l,e,i,a),t.set(r.id,r)}}function Ba(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:Ba(n,t):!1}function Fi(e,t,n){var o;let r=e;do{if((o=r==null?void 0:r.matches)!=null&&o.call(r,t))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function gg(e,t,n,r){const o=new Map;for(const[i,s]of e)if((s.selected||s.id===r)&&(!s.parentId||!Ba(s,e))&&(s.draggable||t&&typeof s.draggable>"u")){const a=e.get(i);a&&o.set(i,{id:i,position:a.position||{x:0,y:0},distance:{x:n.x-a.internals.positionAbsolute.x,y:n.y-a.internals.positionAbsolute.y},extent:a.extent,parentId:a.parentId,origin:a.origin,expandParent:a.expandParent,internals:{positionAbsolute:a.internals.positionAbsolute||{x:0,y:0}},measured:{width:a.measured.width??0,height:a.measured.height??0}})}return o}function Rr({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){var s,a,c;const o=[];for(const[l,u]of t){const f=(s=n.get(l))==null?void 0:s.internals.userNode;f&&o.push({...f,position:u.position,dragging:r})}if(!e)return[o[0],o];const i=(a=n.get(e))==null?void 0:a.internals.userNode;return[i?{...i,position:((c=t.get(e))==null?void 0:c.position)||i.position,dragging:r}:o[0],o]}function mg({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:o}){let i={x:null,y:null},s=0,a=new Map,c=!1,l={x:0,y:0},u=null,f=!1,d=null,h=!1;function m({noDragClassName:y,handleSelector:x,domNode:E,isSelectable:g,nodeId:v,nodeClickDistance:S=0}){d=de(E);function N({x:D,y:$},F){const{nodeLookup:O,nodeExtent:b,snapGrid:I,snapToGrid:A,nodeOrigin:P,onNodeDrag:k,onSelectionDrag:M,onError:L,updateNodePositions:j}=t();i={x:D,y:$};let H=!1,W={x:0,y:0,x2:0,y2:0};if(a.size>1&&b){const B=en(a);W=io(B)}for(const[B,Y]of a){if(!O.has(B))continue;let X={x:D-Y.distance.x,y:$-Y.distance.y};A&&(X=cr(X,I));let U=[[b[0][0],b[0][1]],[b[1][0],b[1][1]]];if(a.size>1&&b&&!Y.extent){const{positionAbsolute:q}=Y.internals,Z=q.x-W.x+b[0][0],G=q.x+Y.measured.width-W.x2+b[1][0],J=q.y-W.y+b[0][1],Q=q.y+Y.measured.height-W.y2+b[1][1];U=[[Z,J],[G,Q]]}const{position:z,positionAbsolute:V}=Ma({nodeId:B,nextPosition:X,nodeLookup:O,nodeExtent:U,nodeOrigin:P,onError:L});H=H||Y.position.x!==z.x||Y.position.y!==z.y,Y.position=z,Y.internals.positionAbsolute=V}if(H&&(j(a,!0),F&&(r||k||!v&&M))){const[B,Y]=Rr({nodeId:v,dragItems:a,nodeLookup:O});r==null||r(F,a,B,Y),k==null||k(F,B,Y),v||M==null||M(F,Y)}}async function C(){if(!u)return;const{transform:D,panBy:$,autoPanSpeed:F,autoPanOnNodeDrag:O}=t();if(!O){c=!1,cancelAnimationFrame(s);return}const[b,I]=Aa(l,u,F);(b!==0||I!==0)&&(i.x=(i.x??0)-b/D[2],i.y=(i.y??0)-I/D[2],await $({x:b,y:I})&&N(i,null)),s=requestAnimationFrame(C)}function R(D){var H;const{nodeLookup:$,multiSelectionActive:F,nodesDraggable:O,transform:b,snapGrid:I,snapToGrid:A,selectNodesOnDrag:P,onNodeDragStart:k,onSelectionDragStart:M,unselectNodesAndEdges:L}=t();f=!0,(!P||!g)&&!F&&v&&((H=$.get(v))!=null&&H.selected||L()),g&&P&&v&&(e==null||e(v));const j=Lt(D.sourceEvent,{transform:b,snapGrid:I,snapToGrid:A,containerBounds:u});if(i=j,a=gg($,O,j,v),a.size>0&&(n||k||!v&&M)){const[W,B]=Rr({nodeId:v,dragItems:a,nodeLookup:$});n==null||n(D.sourceEvent,a,W,B),k==null||k(D.sourceEvent,W,B),v||M==null||M(D.sourceEvent,B)}}const T=ia().clickDistance(S).on("start",D=>{const{domNode:$,nodeDragThreshold:F,transform:O,snapGrid:b,snapToGrid:I}=t();u=($==null?void 0:$.getBoundingClientRect())||null,h=!1,F===0&&R(D),i=Lt(D.sourceEvent,{transform:O,snapGrid:b,snapToGrid:I,containerBounds:u}),l=Te(D.sourceEvent,u)}).on("drag",D=>{const{autoPanOnNodeDrag:$,transform:F,snapGrid:O,snapToGrid:b,nodeDragThreshold:I,nodeLookup:A}=t(),P=Lt(D.sourceEvent,{transform:F,snapGrid:O,snapToGrid:b,containerBounds:u});if((D.sourceEvent.type==="touchmove"&&D.sourceEvent.touches.length>1||v&&!A.has(v))&&(h=!0),!h){if(!c&&$&&f&&(c=!0,C()),!f){const k=P.xSnapped-(i.x??0),M=P.ySnapped-(i.y??0);Math.sqrt(k*k+M*M)>I&&R(D)}(i.x!==P.xSnapped||i.y!==P.ySnapped)&&a&&f&&(l=Te(D.sourceEvent,u),N(P,D.sourceEvent))}}).on("end",D=>{if(!(!f||h)&&(c=!1,f=!1,cancelAnimationFrame(s),a.size>0)){const{nodeLookup:$,updateNodePositions:F,onNodeDragStop:O,onSelectionDragStop:b}=t();if(F(a,!1),o||O||!v&&b){const[I,A]=Rr({nodeId:v,dragItems:a,nodeLookup:$,dragging:!1});o==null||o(D.sourceEvent,a,I,A),O==null||O(D.sourceEvent,I,A),v||b==null||b(D.sourceEvent,A)}}}).filter(D=>{const $=D.target;return!D.button&&(!y||!Fi($,`.${y}`,E))&&(!x||Fi($,x,E))});d.call(T)}function p(){d==null||d.on(".drag",null)}return{update:m,destroy:p}}function yg(e,t,n){const r=[],o={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const i of t.values())Wt(o,bt(i))>0&&r.push(i);return r}const xg=250;function vg(e,t,n,r){var a,c;let o=[],i=1/0;const s=yg(e,n,t+xg);for(const l of s){const u=[...((a=l.internals.handleBounds)==null?void 0:a.source)??[],...((c=l.internals.handleBounds)==null?void 0:c.target)??[]];for(const f of u){if(r.nodeId===f.nodeId&&r.type===f.type&&r.id===f.id)continue;const{x:d,y:h}=Yt(l,f,f.position,!0),m=Math.sqrt(Math.pow(d-e.x,2)+Math.pow(h-e.y,2));m>t||(m<i?(o=[{...f,x:d,y:h}],i=m):m===i&&o.push({...f,x:d,y:h}))}}if(!o.length)return null;if(o.length>1){const l=r.type==="source"?"target":"source";return o.find(u=>u.type===l)??o[0]}return o[0]}function Va(e,t,n,r,o,i=!1){var l,u,f;const s=r.get(e);if(!s)return null;const a=o==="strict"?(l=s.internals.handleBounds)==null?void 0:l[t]:[...((u=s.internals.handleBounds)==null?void 0:u.source)??[],...((f=s.internals.handleBounds)==null?void 0:f.target)??[]],c=(n?a==null?void 0:a.find(d=>d.id===n):a==null?void 0:a[0])??null;return c&&i?{...c,...Yt(s,c,c.position,!0)}:c}function Wa(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function wg(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const Ya=()=>!0;function bg(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:o,edgeUpdaterType:i,isTarget:s,domNode:a,nodeLookup:c,lib:l,autoPanOnConnect:u,flowId:f,panBy:d,cancelConnection:h,onConnectStart:m,onConnect:p,onConnectEnd:y,isValidConnection:x=Ya,onReconnectEnd:E,updateConnection:g,getTransform:v,getFromHandle:S,autoPanSpeed:N}){const C=ka(e.target);let R=0,T;const{x:D,y:$}=Te(e),F=C==null?void 0:C.elementFromPoint(D,$),O=Wa(i,F),b=a==null?void 0:a.getBoundingClientRect();if(!b||!O)return;const I=Va(o,O,r,c,t);if(!I)return;let A=Te(e,b),P=!1,k=null,M=!1,L=null;function j(){if(!u||!b)return;const[V,q]=Aa(A,b,N);d({x:V,y:q}),R=requestAnimationFrame(j)}const H={...I,nodeId:o,type:O,position:I.position},W=c.get(o),Y={inProgress:!0,isValid:null,from:Yt(W,H,K.Left,!0),fromHandle:H,fromPosition:H.position,fromNode:W,to:A,toHandle:null,toPosition:Mi[H.position],toNode:null};g(Y);let X=Y;m==null||m(e,{nodeId:o,handleId:r,handleType:O});function U(V){if(!S()||!H){z(V);return}const q=v();A=Te(V,b),T=vg(tn(A,q,!1,[1,1]),n,c,H),P||(j(),P=!0);const Z=Xa(V,{handle:T,connectionMode:t,fromNodeId:o,fromHandleId:r,fromType:s?"target":"source",isValidConnection:x,doc:C,lib:l,flowId:f,nodeLookup:c});L=Z.handleDomNode,k=Z.connection,M=wg(!!T,Z.isValid);const G={...X,isValid:M,to:Z.toHandle&&M?Yn({x:Z.toHandle.x,y:Z.toHandle.y},q):A,toHandle:Z.toHandle,toPosition:M&&Z.toHandle?Z.toHandle.position:Mi[H.position],toNode:Z.toHandle?c.get(Z.toHandle.nodeId):null};M&&T&&X.toHandle&&G.toHandle&&X.toHandle.type===G.toHandle.type&&X.toHandle.nodeId===G.toHandle.nodeId&&X.toHandle.id===G.toHandle.id&&X.to.x===G.to.x&&X.to.y===G.to.y||(g(G),X=G)}function z(V){(T||L)&&k&&M&&(p==null||p(k));const{inProgress:q,...Z}=X,G={...Z,toPosition:X.toHandle?X.toPosition:null};y==null||y(V,G),i&&(E==null||E(V,G)),h(),cancelAnimationFrame(R),P=!1,M=!1,k=null,L=null,C.removeEventListener("mousemove",U),C.removeEventListener("mouseup",z),C.removeEventListener("touchmove",U),C.removeEventListener("touchend",z)}C.addEventListener("mousemove",U),C.addEventListener("mouseup",z),C.addEventListener("touchmove",U),C.addEventListener("touchend",z)}function Xa(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:o,fromType:i,doc:s,lib:a,flowId:c,isValidConnection:l=Ya,nodeLookup:u}){const f=i==="target",d=t?s.querySelector(`.${a}-flow__handle[data-id="${c}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:h,y:m}=Te(e),p=s.elementFromPoint(h,m),y=p!=null&&p.classList.contains(`${a}-flow__handle`)?p:d,x={handleDomNode:y,isValid:!1,connection:null,toHandle:null};if(y){const E=Wa(void 0,y),g=y.getAttribute("data-nodeid"),v=y.getAttribute("data-handleid"),S=y.classList.contains("connectable"),N=y.classList.contains("connectableend");if(!g||!E)return x;const C={source:f?g:r,sourceHandle:f?v:o,target:f?r:g,targetHandle:f?o:v};x.connection=C;const T=S&&N&&(n===vt.Strict?f&&E==="source"||!f&&E==="target":g!==r||v!==o);x.isValid=T&&l(C),x.toHandle=Va(g,E,v,u,n,!0)}return x}const uo={onPointerDown:bg,isValid:Xa};function Eg({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){const o=de(e);function i({translateExtent:a,width:c,height:l,zoomStep:u=10,pannable:f=!0,zoomable:d=!0,inversePan:h=!1}){const m=g=>{const v=n();if(g.sourceEvent.type!=="wheel"||!t)return;const S=-g.sourceEvent.deltaY*(g.sourceEvent.deltaMode===1?.05:g.sourceEvent.deltaMode?1:.002)*u,N=v[2]*Math.pow(2,S);t.scaleTo(N)};let p=[0,0];const y=g=>{(g.sourceEvent.type==="mousedown"||g.sourceEvent.type==="touchstart")&&(p=[g.sourceEvent.clientX??g.sourceEvent.touches[0].clientX,g.sourceEvent.clientY??g.sourceEvent.touches[0].clientY])},x=g=>{const v=n();if(g.sourceEvent.type!=="mousemove"&&g.sourceEvent.type!=="touchmove"||!t)return;const S=[g.sourceEvent.clientX??g.sourceEvent.touches[0].clientX,g.sourceEvent.clientY??g.sourceEvent.touches[0].clientY],N=[S[0]-p[0],S[1]-p[1]];p=S;const C=r()*Math.max(v[2],Math.log(v[2]))*(h?-1:1),R={x:v[0]-N[0]*C,y:v[1]-N[1]*C},T=[[0,0],[c,l]];t.setViewportConstrained({x:R.x,y:R.y,zoom:v[2]},T,a)},E=wa().on("start",y).on("zoom",f?x:null).on("zoom.wheel",d?m:null);o.call(E,{})}function s(){o.on("zoom",null)}return{update:i,destroy:s,pointer:me}}const _g=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,ur=e=>({x:e.x,y:e.y,zoom:e.k}),Ir=({x:e,y:t,zoom:n})=>ir.translate(e,t).scale(n),ft=(e,t)=>e.target.closest(`.${t}`),Ga=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),Sg=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,kr=(e,t=0,n=Sg,r=()=>{})=>{const o=typeof t=="number"&&t>0;return o||r(),o?e.transition().duration(t).ease(n).on("end",r):e},Ua=e=>{const t=e.ctrlKey&&Xn()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function Cg({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:o,panOnScrollSpeed:i,zoomOnPinch:s,onPanZoomStart:a,onPanZoom:c,onPanZoomEnd:l}){return u=>{if(ft(u,t))return!1;u.preventDefault(),u.stopImmediatePropagation();const f=n.property("__zoom").k||1;if(u.ctrlKey&&s){const y=me(u),x=Ua(u),E=f*Math.pow(2,x);r.scaleTo(n,E,y,u);return}const d=u.deltaMode===1?20:1;let h=o===Je.Vertical?0:u.deltaX*d,m=o===Je.Horizontal?0:u.deltaY*d;!Xn()&&u.shiftKey&&o!==Je.Vertical&&(h=u.deltaY*d,m=0),r.translateBy(n,-(h/f)*i,-(m/f)*i,{internal:!0});const p=ur(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling||(e.isPanScrolling=!0,a==null||a(u,p)),e.isPanScrolling&&(c==null||c(u,p),e.panScrollTimeout=setTimeout(()=>{l==null||l(u,p),e.isPanScrolling=!1},150))}}function Mg({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,o){const i=r.type==="wheel",s=!t&&i&&!r.ctrlKey,a=ft(r,e);if(r.ctrlKey&&i&&a&&r.preventDefault(),s||a)return null;r.preventDefault(),n.call(this,r,o)}}function Ng({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{var i,s,a;if((i=r.sourceEvent)!=null&&i.internal)return;const o=ur(r.transform);e.mouseButton=((s=r.sourceEvent)==null?void 0:s.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=o,((a=r.sourceEvent)==null?void 0:a.type)==="mousedown"&&t(!0),n&&(n==null||n(r.sourceEvent,o))}}function Ag({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:o}){return i=>{var s,a;e.usedRightMouseButton=!!(n&&Ga(t,e.mouseButton??0)),(s=i.sourceEvent)!=null&&s.sync||r([i.transform.x,i.transform.y,i.transform.k]),o&&!((a=i.sourceEvent)!=null&&a.internal)&&(o==null||o(i.sourceEvent,ur(i.transform)))}}function Pg({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:o,onPaneContextMenu:i}){return s=>{var a;if(!((a=s.sourceEvent)!=null&&a.internal)&&(e.isZoomingOrPanning=!1,i&&Ga(t,e.mouseButton??0)&&!e.usedRightMouseButton&&s.sourceEvent&&i(s.sourceEvent),e.usedRightMouseButton=!1,r(!1),o&&_g(e.prevViewport,s.transform))){const c=ur(s.transform);e.prevViewport=c,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{o==null||o(s.sourceEvent,c)},n?150:0)}}}function Rg({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:o,zoomOnDoubleClick:i,userSelectionActive:s,noWheelClassName:a,noPanClassName:c,lib:l}){return u=>{var m;const f=e||t,d=n&&u.ctrlKey;if(u.button===1&&u.type==="mousedown"&&(ft(u,`${l}-flow__node`)||ft(u,`${l}-flow__edge`)))return!0;if(!r&&!f&&!o&&!i&&!n||s||ft(u,a)&&u.type==="wheel"||ft(u,c)&&(u.type!=="wheel"||o&&u.type==="wheel"&&!e)||!n&&u.ctrlKey&&u.type==="wheel")return!1;if(!n&&u.type==="touchstart"&&((m=u.touches)==null?void 0:m.length)>1)return u.preventDefault(),!1;if(!f&&!o&&!d&&u.type==="wheel"||!r&&(u.type==="mousedown"||u.type==="touchstart")||Array.isArray(r)&&!r.includes(u.button)&&u.type==="mousedown")return!1;const h=Array.isArray(r)&&r.includes(u.button)||!u.button||u.button<=1;return(!u.ctrlKey||u.type==="wheel")&&h}}function Ig({domNode:e,minZoom:t,maxZoom:n,paneClickDistance:r,translateExtent:o,viewport:i,onPanZoom:s,onPanZoomStart:a,onPanZoomEnd:c,onDraggingChange:l}){const u={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},f=e.getBoundingClientRect(),d=wa().clickDistance(!xe(r)||r<0?0:r).scaleExtent([t,n]).translateExtent(o),h=de(e).call(d);g({x:i.x,y:i.y,zoom:wt(i.zoom,t,n)},[[0,0],[f.width,f.height]],o);const m=h.on("wheel.zoom"),p=h.on("dblclick.zoom");d.wheelDelta(Ua);function y(F,O){return h?new Promise(b=>{d==null||d.interpolate((O==null?void 0:O.interpolate)==="linear"?$t:Pn).transform(kr(h,O==null?void 0:O.duration,O==null?void 0:O.ease,()=>b(!0)),F)}):Promise.resolve(!1)}function x({noWheelClassName:F,noPanClassName:O,onPaneContextMenu:b,userSelectionActive:I,panOnScroll:A,panOnDrag:P,panOnScrollMode:k,panOnScrollSpeed:M,preventScrolling:L,zoomOnPinch:j,zoomOnScroll:H,zoomOnDoubleClick:W,zoomActivationKeyPressed:B,lib:Y,onTransformChange:X}){I&&!u.isZoomingOrPanning&&E();const z=A&&!B&&!I?Cg({zoomPanValues:u,noWheelClassName:F,d3Selection:h,d3Zoom:d,panOnScrollMode:k,panOnScrollSpeed:M,zoomOnPinch:j,onPanZoomStart:a,onPanZoom:s,onPanZoomEnd:c}):Mg({noWheelClassName:F,preventScrolling:L,d3ZoomHandler:m});if(h.on("wheel.zoom",z,{passive:!1}),!I){const q=Ng({zoomPanValues:u,onDraggingChange:l,onPanZoomStart:a});d.on("start",q);const Z=Ag({zoomPanValues:u,panOnDrag:P,onPaneContextMenu:!!b,onPanZoom:s,onTransformChange:X});d.on("zoom",Z);const G=Pg({zoomPanValues:u,panOnDrag:P,panOnScroll:A,onPaneContextMenu:b,onPanZoomEnd:c,onDraggingChange:l});d.on("end",G)}const V=Rg({zoomActivationKeyPressed:B,panOnDrag:P,zoomOnScroll:H,panOnScroll:A,zoomOnDoubleClick:W,zoomOnPinch:j,userSelectionActive:I,noPanClassName:O,noWheelClassName:F,lib:Y});d.filter(V),W?h.on("dblclick.zoom",p):h.on("dblclick.zoom",null)}function E(){d.on("zoom",null)}async function g(F,O,b){const I=Ir(F),A=d==null?void 0:d.constrain()(I,O,b);return A&&await y(A),new Promise(P=>P(A))}async function v(F,O){const b=Ir(F);return await y(b,O),new Promise(I=>I(b))}function S(F){if(h){const O=Ir(F),b=h.property("__zoom");(b.k!==F.zoom||b.x!==F.x||b.y!==F.y)&&(d==null||d.transform(h,O,null,{sync:!0}))}}function N(){const F=h?va(h.node()):{x:0,y:0,k:1};return{x:F.x,y:F.y,zoom:F.k}}function C(F,O){return h?new Promise(b=>{d==null||d.interpolate((O==null?void 0:O.interpolate)==="linear"?$t:Pn).scaleTo(kr(h,O==null?void 0:O.duration,O==null?void 0:O.ease,()=>b(!0)),F)}):Promise.resolve(!1)}function R(F,O){return h?new Promise(b=>{d==null||d.interpolate((O==null?void 0:O.interpolate)==="linear"?$t:Pn).scaleBy(kr(h,O==null?void 0:O.duration,O==null?void 0:O.ease,()=>b(!0)),F)}):Promise.resolve(!1)}function T(F){d==null||d.scaleExtent(F)}function D(F){d==null||d.translateExtent(F)}function $(F){const O=!xe(F)||F<0?0:F;d==null||d.clickDistance(O)}return{update:x,destroy:E,setViewport:v,setViewportConstrained:g,getViewport:N,scaleTo:C,scaleBy:R,setScaleExtent:T,setTranslateExtent:D,syncViewport:S,setClickDistance:$}}var _t;(function(e){e.Line="line",e.Handle="handle"})(_t||(_t={}));function kg({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:o,affectsY:i}){const s=e-t,a=n-r,c=[s>0?1:s<0?-1:0,a>0?1:a<0?-1:0];return s&&o&&(c[0]=c[0]*-1),a&&i&&(c[1]=c[1]*-1),c}function Tg(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),r=e.includes("left"),o=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:r,affectsY:o}}function ze(e,t){return Math.max(0,t-e)}function Be(e,t){return Math.max(0,e-t)}function vn(e,t,n){return Math.max(0,t-e,e-n)}function ji(e,t){return e?!t:t}function Dg(e,t,n,r,o,i,s,a){let{affectsX:c,affectsY:l}=t;const{isHorizontal:u,isVertical:f}=t,d=u&&f,{xSnapped:h,ySnapped:m}=n,{minWidth:p,maxWidth:y,minHeight:x,maxHeight:E}=r,{x:g,y:v,width:S,height:N,aspectRatio:C}=e;let R=Math.floor(u?h-e.pointerX:0),T=Math.floor(f?m-e.pointerY:0);const D=S+(c?-R:R),$=N+(l?-T:T),F=-i[0]*S,O=-i[1]*N;let b=vn(D,p,y),I=vn($,x,E);if(s){let k=0,M=0;c&&R<0?k=ze(g+R+F,s[0][0]):!c&&R>0&&(k=Be(g+D+F,s[1][0])),l&&T<0?M=ze(v+T+O,s[0][1]):!l&&T>0&&(M=Be(v+$+O,s[1][1])),b=Math.max(b,k),I=Math.max(I,M)}if(a){let k=0,M=0;c&&R>0?k=Be(g+R,a[0][0]):!c&&R<0&&(k=ze(g+D,a[1][0])),l&&T>0?M=Be(v+T,a[0][1]):!l&&T<0&&(M=ze(v+$,a[1][1])),b=Math.max(b,k),I=Math.max(I,M)}if(o){if(u){const k=vn(D/C,x,E)*C;if(b=Math.max(b,k),s){let M=0;!c&&!l||c&&!l&&d?M=Be(v+O+D/C,s[1][1])*C:M=ze(v+O+(c?R:-R)/C,s[0][1])*C,b=Math.max(b,M)}if(a){let M=0;!c&&!l||c&&!l&&d?M=ze(v+D/C,a[1][1])*C:M=Be(v+(c?R:-R)/C,a[0][1])*C,b=Math.max(b,M)}}if(f){const k=vn($*C,p,y)/C;if(I=Math.max(I,k),s){let M=0;!c&&!l||l&&!c&&d?M=Be(g+$*C+F,s[1][0])/C:M=ze(g+(l?T:-T)*C+F,s[0][0])/C,I=Math.max(I,M)}if(a){let M=0;!c&&!l||l&&!c&&d?M=ze(g+$*C,a[1][0])/C:M=Be(g+(l?T:-T)*C,a[0][0])/C,I=Math.max(I,M)}}}T=T+(T<0?I:-I),R=R+(R<0?b:-b),o&&(d?D>$*C?T=(ji(c,l)?-R:R)/C:R=(ji(c,l)?-T:T)*C:u?(T=R/C,l=c):(R=T*C,c=l));const A=c?g+R:g,P=l?v+T:v;return{width:S+(c?-R:R),height:N+(l?-T:T),x:i[0]*R*(c?-1:1)+A,y:i[1]*T*(l?-1:1)+P}}const Ka={width:0,height:0,x:0,y:0},Og={...Ka,pointerX:0,pointerY:0,aspectRatio:1};function $g(e){return[[0,0],[e.measured.width,e.measured.height]]}function Lg(e,t,n){const r=t.position.x+e.position.x,o=t.position.y+e.position.y,i=e.measured.width??0,s=e.measured.height??0,a=n[0]*i,c=n[1]*s;return[[r-a,o-c],[r+i-a,o+s-c]]}function Fg({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:o}){const i=de(e);function s({controlPosition:c,boundaries:l,keepAspectRatio:u,resizeDirection:f,onResizeStart:d,onResize:h,onResizeEnd:m,shouldResize:p}){let y={...Ka},x={...Og};const E=Tg(c);let g,v=null,S=[],N,C,R;const T=ia().on("start",D=>{const{nodeLookup:$,transform:F,snapGrid:O,snapToGrid:b,nodeOrigin:I,paneDomNode:A}=n();if(g=$.get(t),!g)return;v=(A==null?void 0:A.getBoundingClientRect())??null;const{xSnapped:P,ySnapped:k}=Lt(D.sourceEvent,{transform:F,snapGrid:O,snapToGrid:b,containerBounds:v});y={width:g.measured.width??0,height:g.measured.height??0,x:g.position.x??0,y:g.position.y??0},x={...y,pointerX:P,pointerY:k,aspectRatio:y.width/y.height},N=void 0,g.parentId&&(g.extent==="parent"||g.expandParent)&&(N=$.get(g.parentId),C=N&&g.extent==="parent"?$g(N):void 0),S=[],R=void 0;for(const[M,L]of $)if(L.parentId===t&&(S.push({id:M,position:{...L.position},extent:L.extent}),L.extent==="parent"||L.expandParent)){const j=Lg(L,g,L.origin??I);R?R=[[Math.min(j[0][0],R[0][0]),Math.min(j[0][1],R[0][1])],[Math.max(j[1][0],R[1][0]),Math.max(j[1][1],R[1][1])]]:R=j}d==null||d(D,{...y})}).on("drag",D=>{const{transform:$,snapGrid:F,snapToGrid:O,nodeOrigin:b}=n(),I=Lt(D.sourceEvent,{transform:$,snapGrid:F,snapToGrid:O,containerBounds:v}),A=[];if(!g)return;const{x:P,y:k,width:M,height:L}=y,j={},H=g.origin??b,{width:W,height:B,x:Y,y:X}=Dg(x,E,I,l,u,H,C,R),U=W!==M,z=B!==L,V=Y!==P&&U,q=X!==k&&z;if(!V&&!q&&!U&&!z)return;if((V||q||H[0]===1||H[1]===1)&&(j.x=V?Y:y.x,j.y=q?X:y.y,y.x=j.x,y.y=j.y,S.length>0)){const Q=Y-P,ne=X-k;for(const ie of S)ie.position={x:ie.position.x-Q+H[0]*(W-M),y:ie.position.y-ne+H[1]*(B-L)},A.push(ie)}if((U||z)&&(j.width=U&&(!f||f==="horizontal")?W:y.width,j.height=z&&(!f||f==="vertical")?B:y.height,y.width=j.width,y.height=j.height),N&&g.expandParent){const Q=H[0]*(j.width??0);j.x&&j.x<Q&&(y.x=Q,x.x=x.x-(j.x-Q));const ne=H[1]*(j.height??0);j.y&&j.y<ne&&(y.y=ne,x.y=x.y-(j.y-ne))}const Z=kg({width:y.width,prevWidth:M,height:y.height,prevHeight:L,affectsX:E.affectsX,affectsY:E.affectsY}),G={...y,direction:Z};(p==null?void 0:p(D,G))!==!1&&(h==null||h(D,G),r(j,A))}).on("end",D=>{m==null||m(D,{...y}),o==null||o({...y})});i.call(T)}function a(){i.on(".drag",null)}return{update:s,destroy:a}}var Tr={exports:{}},Dr={},Or={exports:{}},$r={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hi;function jg(){if(Hi)return $r;Hi=1;var e=Fs();function t(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,o=e.useEffect,i=e.useLayoutEffect,s=e.useDebugValue;function a(f,d){var h=d(),m=r({inst:{value:h,getSnapshot:d}}),p=m[0].inst,y=m[1];return i(function(){p.value=h,p.getSnapshot=d,c(p)&&y({inst:p})},[f,h,d]),o(function(){return c(p)&&y({inst:p}),f(function(){c(p)&&y({inst:p})})},[f]),s(h),h}function c(f){var d=f.getSnapshot;f=f.value;try{var h=d();return!n(f,h)}catch{return!0}}function l(f,d){return d()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?l:a;return $r.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:u,$r}var zi;function Hg(){return zi||(zi=1,Or.exports=jg()),Or.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bi;function zg(){if(Bi)return Dr;Bi=1;var e=Fs(),t=Hg();function n(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var r=typeof Object.is=="function"?Object.is:n,o=t.useSyncExternalStore,i=e.useRef,s=e.useEffect,a=e.useMemo,c=e.useDebugValue;return Dr.useSyncExternalStoreWithSelector=function(l,u,f,d,h){var m=i(null);if(m.current===null){var p={hasValue:!1,value:null};m.current=p}else p=m.current;m=a(function(){function x(N){if(!E){if(E=!0,g=N,N=d(N),h!==void 0&&p.hasValue){var C=p.value;if(h(C,N))return v=C}return v=N}if(C=v,r(g,N))return C;var R=d(N);return h!==void 0&&h(C,R)?(g=N,C):(g=N,v=R)}var E=!1,g,v,S=f===void 0?null:f;return[function(){return x(u())},S===null?void 0:function(){return x(S())}]},[u,f,d,h]);var y=o(l,m[0],m[1]);return s(function(){p.hasValue=!0,p.value=y},[y]),c(y),y},Dr}var Vi;function Bg(){return Vi||(Vi=1,Tr.exports=zg()),Tr.exports}var Vg=Bg();const Wg=rf(Vg),Yg={},Wi=e=>{let t;const n=new Set,r=(u,f)=>{const d=typeof u=="function"?u(t):u;if(!Object.is(d,t)){const h=t;t=f??(typeof d!="object"||d===null)?d:Object.assign({},t,d),n.forEach(m=>m(t,h))}},o=()=>t,c={setState:r,getState:o,getInitialState:()=>l,subscribe:u=>(n.add(u),()=>n.delete(u)),destroy:()=>{(Yg?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},l=t=e(r,o,c);return c},Xg=e=>e?Wi(e):Wi,{useDebugValue:Gg}=Ve,{useSyncExternalStoreWithSelector:Ug}=Wg,Kg=e=>e;function qa(e,t=Kg,n){const r=Ug(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Gg(r),r}const Yi=(e,t)=>{const n=Xg(e),r=(o,i=t)=>qa(n,o,i);return Object.assign(r,n),r},qg=(e,t)=>e?Yi(e,t):Yi;function oe(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,o]of e)if(!Object.is(o,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const lr=w.createContext(null),Zg=lr.Provider,Za=Ne.error001();function ee(e,t){const n=w.useContext(lr);if(n===null)throw new Error(Za);return qa(n,e,t)}function re(){const e=w.useContext(lr);if(e===null)throw new Error(Za);return w.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const Xi={display:"none"},Qg={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},Qa="react-flow__node-desc",Ja="react-flow__edge-desc",Jg="react-flow__aria-live",em=e=>e.ariaLiveMessage,tm=e=>e.ariaLabelConfig;function nm({rfId:e}){const t=ee(em);return _.jsx("div",{id:`${Jg}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:Qg,children:t})}function rm({rfId:e,disableKeyboardA11y:t}){const n=ee(tm);return _.jsxs(_.Fragment,{children:[_.jsx("div",{id:`${Qa}-${e}`,style:Xi,children:t?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),_.jsx("div",{id:`${Ja}-${e}`,style:Xi,children:n["edge.a11yDescription.default"]}),!t&&_.jsx(nm,{rfId:e})]})}const om=e=>e.userSelectionActive?"none":"all",fr=w.forwardRef(({position:e="top-left",children:t,className:n,style:r,...o},i)=>{const s=ee(om),a=`${e}`.split("-");return _.jsx("div",{className:se(["react-flow__panel",n,...a]),style:{...r,pointerEvents:s},ref:i,...o,children:t})});fr.displayName="Panel";function im({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:_.jsx(fr,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:_.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const sm=e=>{const t=[],n=[];for(const[,r]of e.nodeLookup)r.selected&&t.push(r.internals.userNode);for(const[,r]of e.edgeLookup)r.selected&&n.push(r);return{selectedNodes:t,selectedEdges:n}},wn=e=>e.id;function am(e,t){return oe(e.selectedNodes.map(wn),t.selectedNodes.map(wn))&&oe(e.selectedEdges.map(wn),t.selectedEdges.map(wn))}function cm({onSelectionChange:e}){const t=re(),{selectedNodes:n,selectedEdges:r}=ee(sm,am);return w.useEffect(()=>{const o={nodes:n,edges:r};e==null||e(o),t.getState().onSelectionChangeHandlers.forEach(i=>i(o))},[n,r,e]),null}const um=e=>!!e.onSelectionChangeHandlers;function lm({onSelectionChange:e}){const t=ee(um);return e||t?_.jsx(cm,{onSelectionChange:e}):null}const ec=[0,0],fm={x:0,y:0,zoom:1},dm=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance","ariaLabelConfig"],Gi=[...dm,"rfId"],hm=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setPaneClickDistance:e.setPaneClickDistance}),Ui={translateExtent:Bt,nodeOrigin:ec,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function pm(e){const{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:o,setTranslateExtent:i,setNodeExtent:s,reset:a,setDefaultNodesAndEdges:c,setPaneClickDistance:l}=ee(hm,oe),u=re();w.useEffect(()=>(c(e.defaultNodes,e.defaultEdges),()=>{f.current=Ui,a()}),[]);const f=w.useRef(Ui);return w.useEffect(()=>{for(const d of Gi){const h=e[d],m=f.current[d];h!==m&&(typeof e[d]>"u"||(d==="nodes"?t(h):d==="edges"?n(h):d==="minZoom"?r(h):d==="maxZoom"?o(h):d==="translateExtent"?i(h):d==="nodeExtent"?s(h):d==="paneClickDistance"?l(h):d==="fitView"?u.setState({fitViewQueued:h}):d==="fitViewOptions"&&u.setState({fitViewOptions:h}),d==="ariaLabelConfig"?u.setState({ariaLabelConfig:Qp(h)}):u.setState({[d]:h})))}f.current=e},Gi.map(d=>e[d])),null}function Ki(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function gm(e){var r;const[t,n]=w.useState(e==="system"?null:e);return w.useEffect(()=>{if(e!=="system"){n(e);return}const o=Ki(),i=()=>n(o!=null&&o.matches?"dark":"light");return i(),o==null||o.addEventListener("change",i),()=>{o==null||o.removeEventListener("change",i)}},[e]),t!==null?t:(r=Ki())!=null&&r.matches?"dark":"light"}const qi=typeof document<"u"?document:null;function Xt(e=null,t={target:qi,actInsideInputWithModifier:!0}){const[n,r]=w.useState(!1),o=w.useRef(!1),i=w.useRef(new Set([])),[s,a]=w.useMemo(()=>{if(e!==null){const l=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.replace("+",`
`).replace(`

`,`
+`).split(`
`)),u=l.reduce((f,d)=>f.concat(...d),[]);return[l,u]}return[[],[]]},[e]);return w.useEffect(()=>{const c=(t==null?void 0:t.target)??qi,l=(t==null?void 0:t.actInsideInputWithModifier)??!0;if(e!==null){const u=h=>{var y,x;if(o.current=h.ctrlKey||h.metaKey||h.shiftKey||h.altKey,(!o.current||o.current&&!l)&&Ta(h))return!1;const p=Qi(h.code,a);if(i.current.add(h[p]),Zi(s,i.current,!1)){const E=((x=(y=h.composedPath)==null?void 0:y.call(h))==null?void 0:x[0])||h.target,g=(E==null?void 0:E.nodeName)==="BUTTON"||(E==null?void 0:E.nodeName)==="A";t.preventDefault!==!1&&(o.current||!g)&&h.preventDefault(),r(!0)}},f=h=>{const m=Qi(h.code,a);Zi(s,i.current,!0)?(r(!1),i.current.clear()):i.current.delete(h[m]),h.key==="Meta"&&i.current.clear(),o.current=!1},d=()=>{i.current.clear(),r(!1)};return c==null||c.addEventListener("keydown",u),c==null||c.addEventListener("keyup",f),window.addEventListener("blur",d),window.addEventListener("contextmenu",d),()=>{c==null||c.removeEventListener("keydown",u),c==null||c.removeEventListener("keyup",f),window.removeEventListener("blur",d),window.removeEventListener("contextmenu",d)}}},[e,r]),n}function Zi(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(o=>t.has(o)))}function Qi(e,t){return t.includes(e)?"code":"key"}const mm=()=>{const e=re();return w.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[r,o,i],panZoom:s}=e.getState();return s?(await s.setViewport({x:t.x??r,y:t.y??o,zoom:t.zoom??i},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},setCenter:async(t,n,r)=>e.getState().setCenter(t,n,r),fitBounds:async(t,n)=>{const{width:r,height:o,minZoom:i,maxZoom:s,panZoom:a}=e.getState(),c=Ro(t,r,o,i,s,(n==null?void 0:n.padding)??.1);return a?(await a.setViewport(c,{duration:n==null?void 0:n.duration,ease:n==null?void 0:n.ease,interpolate:n==null?void 0:n.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:r,snapGrid:o,snapToGrid:i,domNode:s}=e.getState();if(!s)return t;const{x:a,y:c}=s.getBoundingClientRect(),l={x:t.x-a,y:t.y-c},u=n.snapGrid??o,f=n.snapToGrid??i;return tn(l,r,f,u)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:o,y:i}=r.getBoundingClientRect(),s=Yn(t,n);return{x:s.x+o,y:s.y+i}}}),[])};function tc(e,t){const n=[],r=new Map,o=[];for(const i of e)if(i.type==="add"){o.push(i);continue}else if(i.type==="remove"||i.type==="replace")r.set(i.id,[i]);else{const s=r.get(i.id);s?s.push(i):r.set(i.id,[i])}for(const i of t){const s=r.get(i.id);if(!s){n.push(i);continue}if(s[0].type==="remove")continue;if(s[0].type==="replace"){n.push({...s[0].item});continue}const a={...i};for(const c of s)ym(c,a);n.push(a)}return o.length&&o.forEach(i=>{i.index!==void 0?n.splice(i.index,0,{...i.item}):n.push({...i.item})}),n}function ym(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured??(t.measured={}),t.measured.width=e.dimensions.width,t.measured.height=e.dimensions.height,e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function nc(e,t){return tc(e,t)}function rc(e,t){return tc(e,t)}function qe(e,t){return{id:e,type:"select",selected:t}}function dt(e,t=new Set,n=!1){const r=[];for(const[o,i]of e){const s=t.has(o);!(i.selected===void 0&&!s)&&i.selected!==s&&(n&&(i.selected=s),r.push(qe(i.id,s)))}return r}function Ji({items:e=[],lookup:t}){var o;const n=[],r=new Map(e.map(i=>[i.id,i]));for(const[i,s]of e.entries()){const a=t.get(s.id),c=((o=a==null?void 0:a.internals)==null?void 0:o.userNode)??a;c!==void 0&&c!==s&&n.push({id:s.id,item:s,type:"replace"}),c===void 0&&n.push({item:s,type:"add",index:i})}for(const[i]of t)r.get(i)===void 0&&n.push({id:i,type:"remove"});return n}function es(e){return{id:e.id,type:"remove"}}const ts=e=>Bp(e),xm=e=>Ca(e);function oc(e){return w.forwardRef(e)}const vm=typeof window<"u"?w.useLayoutEffect:w.useEffect;function ns(e){const[t,n]=w.useState(BigInt(0)),[r]=w.useState(()=>wm(()=>n(o=>o+BigInt(1))));return vm(()=>{const o=r.get();o.length&&(e(o),r.reset())},[t]),r}function wm(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const ic=w.createContext(null);function bm({children:e}){const t=re(),n=w.useCallback(a=>{const{nodes:c=[],setNodes:l,hasDefaultNodes:u,onNodesChange:f,nodeLookup:d,fitViewQueued:h}=t.getState();let m=c;for(const y of a)m=typeof y=="function"?y(m):y;const p=Ji({items:m,lookup:d});u&&l(m),p.length>0?f==null||f(p):h&&window.requestAnimationFrame(()=>{const{fitViewQueued:y,nodes:x,setNodes:E}=t.getState();y&&E(x)})},[]),r=ns(n),o=w.useCallback(a=>{const{edges:c=[],setEdges:l,hasDefaultEdges:u,onEdgesChange:f,edgeLookup:d}=t.getState();let h=c;for(const m of a)h=typeof m=="function"?m(h):m;u?l(h):f&&f(Ji({items:h,lookup:d}))},[]),i=ns(o),s=w.useMemo(()=>({nodeQueue:r,edgeQueue:i}),[]);return _.jsx(ic.Provider,{value:s,children:e})}function Em(){const e=w.useContext(ic);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const _m=e=>!!e.panZoom;function $o(){const e=mm(),t=re(),n=Em(),r=ee(_m),o=w.useMemo(()=>{const i=f=>t.getState().nodeLookup.get(f),s=f=>{n.nodeQueue.push(f)},a=f=>{n.edgeQueue.push(f)},c=f=>{var x,E;const{nodeLookup:d,nodeOrigin:h}=t.getState(),m=ts(f)?f:d.get(f.id),p=m.parentId?Ia(m.position,m.measured,m.parentId,d,h):m.position,y={...m,position:p,width:((x=m.measured)==null?void 0:x.width)??m.width,height:((E=m.measured)==null?void 0:E.height)??m.height};return bt(y)},l=(f,d,h={replace:!1})=>{s(m=>m.map(p=>{if(p.id===f){const y=typeof d=="function"?d(p):d;return h.replace&&ts(y)?y:{...p,...y}}return p}))},u=(f,d,h={replace:!1})=>{a(m=>m.map(p=>{if(p.id===f){const y=typeof d=="function"?d(p):d;return h.replace&&xm(y)?y:{...p,...y}}return p}))};return{getNodes:()=>t.getState().nodes.map(f=>({...f})),getNode:f=>{var d;return(d=i(f))==null?void 0:d.internals.userNode},getInternalNode:i,getEdges:()=>{const{edges:f=[]}=t.getState();return f.map(d=>({...d}))},getEdge:f=>t.getState().edgeLookup.get(f),setNodes:s,setEdges:a,addNodes:f=>{const d=Array.isArray(f)?f:[f];n.nodeQueue.push(h=>[...h,...d])},addEdges:f=>{const d=Array.isArray(f)?f:[f];n.edgeQueue.push(h=>[...h,...d])},toObject:()=>{const{nodes:f=[],edges:d=[],transform:h}=t.getState(),[m,p,y]=h;return{nodes:f.map(x=>({...x})),edges:d.map(x=>({...x})),viewport:{x:m,y:p,zoom:y}}},deleteElements:async({nodes:f=[],edges:d=[]})=>{const{nodes:h,edges:m,onNodesDelete:p,onEdgesDelete:y,triggerNodeChanges:x,triggerEdgeChanges:E,onDelete:g,onBeforeDelete:v}=t.getState(),{nodes:S,edges:N}=await Gp({nodesToRemove:f,edgesToRemove:d,nodes:h,edges:m,onBeforeDelete:v}),C=N.length>0,R=S.length>0;if(C){const T=N.map(es);y==null||y(N),E(T)}if(R){const T=S.map(es);p==null||p(S),x(T)}return(R||C)&&(g==null||g({nodes:S,edges:N})),{deletedNodes:S,deletedEdges:N}},getIntersectingNodes:(f,d=!0,h)=>{const m=Ai(f),p=m?f:c(f),y=h!==void 0;return p?(h||t.getState().nodes).filter(x=>{const E=t.getState().nodeLookup.get(x.id);if(E&&!m&&(x.id===f.id||!E.internals.positionAbsolute))return!1;const g=bt(y?x:E),v=Wt(g,p);return d&&v>0||v>=p.width*p.height}):[]},isNodeIntersecting:(f,d,h=!0)=>{const p=Ai(f)?f:c(f);if(!p)return!1;const y=Wt(p,d);return h&&y>0||y>=p.width*p.height},updateNode:l,updateNodeData:(f,d,h={replace:!1})=>{l(f,m=>{const p=typeof d=="function"?d(m):d;return h.replace?{...m,data:p}:{...m,data:{...m.data,...p}}},h)},updateEdge:u,updateEdgeData:(f,d,h={replace:!1})=>{u(f,m=>{const p=typeof d=="function"?d(m):d;return h.replace?{...m,data:p}:{...m,data:{...m.data,...p}}},h)},getNodesBounds:f=>{const{nodeLookup:d,nodeOrigin:h}=t.getState();return Vp(f,{nodeLookup:d,nodeOrigin:h})},getHandleConnections:({type:f,id:d,nodeId:h})=>{var m;return Array.from(((m=t.getState().connectionLookup.get(`${h}-${f}${d?`-${d}`:""}`))==null?void 0:m.values())??[])},getNodeConnections:({type:f,handleId:d,nodeId:h})=>{var m;return Array.from(((m=t.getState().connectionLookup.get(`${h}${f?d?`-${f}-${d}`:`-${f}`:""}`))==null?void 0:m.values())??[])},fitView:async f=>{const d=t.getState().fitViewResolver??Zp();return t.setState({fitViewQueued:!0,fitViewOptions:f,fitViewResolver:d}),n.nodeQueue.push(h=>[...h]),d.promise}}},[]);return w.useMemo(()=>({...o,...e,viewportInitialized:r}),[r])}const rs=e=>e.selected,Sm=typeof window<"u"?window:void 0;function Cm({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=re(),{deleteElements:r}=$o(),o=Xt(e,{actInsideInputWithModifier:!1}),i=Xt(t,{target:Sm});w.useEffect(()=>{if(o){const{edges:s,nodes:a}=n.getState();r({nodes:a.filter(rs),edges:s.filter(rs)}),n.setState({nodesSelectionActive:!1})}},[o]),w.useEffect(()=>{n.setState({multiSelectionActive:i})},[i])}function Mm(e){const t=re();w.useEffect(()=>{const n=()=>{var o,i;if(!e.current)return!1;const r=Io(e.current);(r.height===0||r.width===0)&&((i=(o=t.getState()).onError)==null||i.call(o,"004",Ne.error004())),t.setState({width:r.width||500,height:r.height||500})};if(e.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(e.current),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}}},[])}const dr={position:"absolute",width:"100%",height:"100%",top:0,left:0},Nm=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib});function Am({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:o=.5,panOnScrollMode:i=Je.Free,zoomOnDoubleClick:s=!0,panOnDrag:a=!0,defaultViewport:c,translateExtent:l,minZoom:u,maxZoom:f,zoomActivationKeyCode:d,preventScrolling:h=!0,children:m,noWheelClassName:p,noPanClassName:y,onViewportChange:x,isControlledViewport:E,paneClickDistance:g}){const v=re(),S=w.useRef(null),{userSelectionActive:N,lib:C}=ee(Nm,oe),R=Xt(d),T=w.useRef();Mm(S);const D=w.useCallback($=>{x==null||x({x:$[0],y:$[1],zoom:$[2]}),E||v.setState({transform:$})},[x,E]);return w.useEffect(()=>{if(S.current){T.current=Ig({domNode:S.current,minZoom:u,maxZoom:f,translateExtent:l,viewport:c,paneClickDistance:g,onDraggingChange:b=>v.setState({paneDragging:b}),onPanZoomStart:(b,I)=>{const{onViewportChangeStart:A,onMoveStart:P}=v.getState();P==null||P(b,I),A==null||A(I)},onPanZoom:(b,I)=>{const{onViewportChange:A,onMove:P}=v.getState();P==null||P(b,I),A==null||A(I)},onPanZoomEnd:(b,I)=>{const{onViewportChangeEnd:A,onMoveEnd:P}=v.getState();P==null||P(b,I),A==null||A(I)}});const{x:$,y:F,zoom:O}=T.current.getViewport();return v.setState({panZoom:T.current,transform:[$,F,O],domNode:S.current.closest(".react-flow")}),()=>{var b;(b=T.current)==null||b.destroy()}}},[]),w.useEffect(()=>{var $;($=T.current)==null||$.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:o,panOnScrollMode:i,zoomOnDoubleClick:s,panOnDrag:a,zoomActivationKeyPressed:R,preventScrolling:h,noPanClassName:y,userSelectionActive:N,noWheelClassName:p,lib:C,onTransformChange:D})},[e,t,n,r,o,i,s,a,R,h,y,N,p,C,D]),_.jsx("div",{className:"react-flow__renderer",ref:S,style:dr,children:m})}const Pm=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function Rm(){const{userSelectionActive:e,userSelectionRect:t}=ee(Pm,oe);return e&&t?_.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const Lr=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},Im=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function km({isSelecting:e,selectionKeyPressed:t,selectionMode:n=Vt.Full,panOnDrag:r,selectionOnDrag:o,onSelectionStart:i,onSelectionEnd:s,onPaneClick:a,onPaneContextMenu:c,onPaneScroll:l,onPaneMouseEnter:u,onPaneMouseMove:f,onPaneMouseLeave:d,children:h}){const m=re(),{userSelectionActive:p,elementsSelectable:y,dragging:x,connectionInProgress:E}=ee(Im,oe),g=y&&(e||p),v=w.useRef(null),S=w.useRef(),N=w.useRef(new Set),C=w.useRef(new Set),R=w.useRef(!1),T=w.useRef(!1),D=P=>{if(R.current||E){R.current=!1;return}a==null||a(P),m.getState().resetSelectedElements(),m.setState({nodesSelectionActive:!1})},$=P=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){P.preventDefault();return}c==null||c(P)},F=l?P=>l(P):void 0,O=P=>{var H,W;const{resetSelectedElements:k,domNode:M}=m.getState();if(S.current=M==null?void 0:M.getBoundingClientRect(),!y||!e||P.button!==0||P.target!==v.current||!S.current)return;(W=(H=P.target)==null?void 0:H.setPointerCapture)==null||W.call(H,P.pointerId),T.current=!0,R.current=!1;const{x:L,y:j}=Te(P.nativeEvent,S.current);k(),m.setState({userSelectionRect:{width:0,height:0,startX:L,startY:j,x:L,y:j}}),i==null||i(P)},b=P=>{const{userSelectionRect:k,transform:M,nodeLookup:L,edgeLookup:j,connectionLookup:H,triggerNodeChanges:W,triggerEdgeChanges:B,defaultEdgeOptions:Y}=m.getState();if(!S.current||!k)return;R.current=!0;const{x:X,y:U}=Te(P.nativeEvent,S.current),{startX:z,startY:V}=k,q={startX:z,startY:V,x:X<z?X:z,y:U<V?U:V,width:Math.abs(X-z),height:Math.abs(U-V)},Z=N.current,G=C.current;N.current=new Set(Po(L,q,M,n===Vt.Partial,!0).map(Q=>Q.id)),C.current=new Set;const J=(Y==null?void 0:Y.selectable)??!0;for(const Q of N.current){const ne=H.get(Q);if(ne)for(const{edgeId:ie}of ne.values()){const je=j.get(ie);je&&(je.selectable??J)&&C.current.add(ie)}}if(!Pi(Z,N.current)){const Q=dt(L,N.current,!0);W(Q)}if(!Pi(G,C.current)){const Q=dt(j,C.current);B(Q)}m.setState({userSelectionRect:q,userSelectionActive:!0,nodesSelectionActive:!1})},I=P=>{var M,L;if(P.button!==0||!T.current)return;(L=(M=P.target)==null?void 0:M.releasePointerCapture)==null||L.call(M,P.pointerId);const{userSelectionRect:k}=m.getState();!p&&k&&P.target===v.current&&(D==null||D(P)),m.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:N.current.size>0}),s==null||s(P),(t||o)&&(R.current=!1),T.current=!1},A=r===!0||Array.isArray(r)&&r.includes(0);return _.jsxs("div",{className:se(["react-flow__pane",{draggable:A,dragging:x,selection:e}]),onClick:g?void 0:Lr(D,v),onContextMenu:Lr($,v),onWheel:Lr(F,v),onPointerEnter:g?void 0:u,onPointerDown:g?O:f,onPointerMove:g?b:f,onPointerUp:g?I:void 0,onPointerLeave:d,ref:v,style:dr,children:[h,_.jsx(Rm,{})]})}function lo({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:o,unselectNodesAndEdges:i,multiSelectionActive:s,nodeLookup:a,onError:c}=t.getState(),l=a.get(e);if(!l){c==null||c("012",Ne.error012(e));return}t.setState({nodesSelectionActive:!1}),l.selected?(n||l.selected&&s)&&(i({nodes:[l],edges:[]}),requestAnimationFrame(()=>{var u;return(u=r==null?void 0:r.current)==null?void 0:u.blur()})):o([e])}function sc({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:o,isSelectable:i,nodeClickDistance:s}){const a=re(),[c,l]=w.useState(!1),u=w.useRef();return w.useEffect(()=>{u.current=mg({getStoreItems:()=>a.getState(),onNodeMouseDown:f=>{lo({id:f,store:a,nodeRef:e})},onDragStart:()=>{l(!0)},onDragStop:()=>{l(!1)}})},[]),w.useEffect(()=>{var f,d;if(t)(f=u.current)==null||f.destroy();else if(e.current)return(d=u.current)==null||d.update({noDragClassName:n,handleSelector:r,domNode:e.current,isSelectable:i,nodeId:o,nodeClickDistance:s}),()=>{var h;(h=u.current)==null||h.destroy()}},[n,r,t,i,e,o]),c}const Tm=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function ac(){const e=re();return w.useCallback(n=>{const{nodeExtent:r,snapToGrid:o,snapGrid:i,nodesDraggable:s,onError:a,updateNodePositions:c,nodeLookup:l,nodeOrigin:u}=e.getState(),f=new Map,d=Tm(s),h=o?i[0]:5,m=o?i[1]:5,p=n.direction.x*h*n.factor,y=n.direction.y*m*n.factor;for(const[,x]of l){if(!d(x))continue;let E={x:x.internals.positionAbsolute.x+p,y:x.internals.positionAbsolute.y+y};o&&(E=cr(E,i));const{position:g,positionAbsolute:v}=Ma({nodeId:x.id,nextPosition:E,nodeLookup:l,nodeExtent:r,nodeOrigin:u,onError:a});x.position=g,x.internals.positionAbsolute=v,f.set(x.id,x)}c(f)},[])}const Lo=w.createContext(null),Dm=Lo.Provider;Lo.Consumer;const cc=()=>w.useContext(Lo),Om=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),$m=(e,t,n)=>r=>{const{connectionClickStartHandle:o,connectionMode:i,connection:s}=r,{fromHandle:a,toHandle:c,isValid:l}=s,u=(c==null?void 0:c.nodeId)===e&&(c==null?void 0:c.id)===t&&(c==null?void 0:c.type)===n;return{connectingFrom:(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.id)===t&&(a==null?void 0:a.type)===n,connectingTo:u,clickConnecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.id)===t&&(o==null?void 0:o.type)===n,isPossibleEndHandle:i===vt.Strict?(a==null?void 0:a.type)!==n:e!==(a==null?void 0:a.nodeId)||t!==(a==null?void 0:a.id),connectionInProcess:!!a,clickConnectionInProcess:!!o,valid:u&&l}};function Lm({type:e="source",position:t=K.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:o=!0,isConnectableEnd:i=!0,id:s,onConnect:a,children:c,className:l,onMouseDown:u,onTouchStart:f,...d},h){var I,A;const m=s||null,p=e==="target",y=re(),x=cc(),{connectOnClick:E,noPanClassName:g,rfId:v}=ee(Om,oe),{connectingFrom:S,connectingTo:N,clickConnecting:C,isPossibleEndHandle:R,connectionInProcess:T,clickConnectionInProcess:D,valid:$}=ee($m(x,m,e),oe);x||(A=(I=y.getState()).onError)==null||A.call(I,"010",Ne.error010());const F=P=>{const{defaultEdgeOptions:k,onConnect:M,hasDefaultEdges:L}=y.getState(),j={...k,...P};if(L){const{edges:H,setEdges:W}=y.getState();W(Fa(j,H))}M==null||M(j),a==null||a(j)},O=P=>{if(!x)return;const k=Da(P.nativeEvent);if(o&&(k&&P.button===0||!k)){const M=y.getState();uo.onPointerDown(P.nativeEvent,{autoPanOnConnect:M.autoPanOnConnect,connectionMode:M.connectionMode,connectionRadius:M.connectionRadius,domNode:M.domNode,nodeLookup:M.nodeLookup,lib:M.lib,isTarget:p,handleId:m,nodeId:x,flowId:M.rfId,panBy:M.panBy,cancelConnection:M.cancelConnection,onConnectStart:M.onConnectStart,onConnectEnd:M.onConnectEnd,updateConnection:M.updateConnection,onConnect:F,isValidConnection:n||M.isValidConnection,getTransform:()=>y.getState().transform,getFromHandle:()=>y.getState().connection.fromHandle,autoPanSpeed:M.autoPanSpeed})}k?u==null||u(P):f==null||f(P)},b=P=>{const{onClickConnectStart:k,onClickConnectEnd:M,connectionClickStartHandle:L,connectionMode:j,isValidConnection:H,lib:W,rfId:B,nodeLookup:Y,connection:X}=y.getState();if(!x||!L&&!o)return;if(!L){k==null||k(P.nativeEvent,{nodeId:x,handleId:m,handleType:e}),y.setState({connectionClickStartHandle:{nodeId:x,type:e,id:m}});return}const U=ka(P.target),z=n||H,{connection:V,isValid:q}=uo.isValid(P.nativeEvent,{handle:{nodeId:x,id:m,type:e},connectionMode:j,fromNodeId:L.nodeId,fromHandleId:L.id||null,fromType:L.type,isValidConnection:z,flowId:B,doc:U,lib:W,nodeLookup:Y});q&&V&&F(V);const Z=structuredClone(X);delete Z.inProgress,Z.toPosition=Z.toHandle?Z.toHandle.position:null,M==null||M(P,Z),y.setState({connectionClickStartHandle:null})};return _.jsx("div",{"data-handleid":m,"data-nodeid":x,"data-handlepos":t,"data-id":`${v}-${x}-${m}-${e}`,className:se(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",g,l,{source:!p,target:p,connectable:r,connectablestart:o,connectableend:i,clickconnecting:C,connectingfrom:S,connectingto:N,valid:$,connectionindicator:r&&(!T||R)&&(T||D?i:o)}]),onMouseDown:O,onTouchStart:O,onClick:E?b:void 0,ref:h,...d,children:c})}const Gn=w.memo(oc(Lm));function Fm({data:e,isConnectable:t,sourcePosition:n=K.Bottom}){return _.jsxs(_.Fragment,{children:[e==null?void 0:e.label,_.jsx(Gn,{type:"source",position:n,isConnectable:t})]})}function jm({data:e,isConnectable:t,targetPosition:n=K.Top,sourcePosition:r=K.Bottom}){return _.jsxs(_.Fragment,{children:[_.jsx(Gn,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,_.jsx(Gn,{type:"source",position:r,isConnectable:t})]})}function Hm(){return null}function zm({data:e,isConnectable:t,targetPosition:n=K.Top}){return _.jsxs(_.Fragment,{children:[_.jsx(Gn,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]})}const Un={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},os={input:Fm,default:jm,output:zm,group:Hm};function Bm(e){var t,n,r,o;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((n=e.style)==null?void 0:n.height)}:{width:e.width??((r=e.style)==null?void 0:r.width),height:e.height??((o=e.style)==null?void 0:o.height)}}const Vm=e=>{const{width:t,height:n,x:r,y:o}=en(e.nodeLookup,{filter:i=>!!i.selected});return{width:xe(t)?t:null,height:xe(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${o}px)`}};function Wm({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=re(),{width:o,height:i,transformString:s,userSelectionActive:a}=ee(Vm,oe),c=ac(),l=w.useRef(null);if(w.useEffect(()=>{var d;n||(d=l.current)==null||d.focus({preventScroll:!0})},[n]),sc({nodeRef:l}),a||!o||!i)return null;const u=e?d=>{const h=r.getState().nodes.filter(m=>m.selected);e(d,h)}:void 0,f=d=>{Object.prototype.hasOwnProperty.call(Un,d.key)&&(d.preventDefault(),c({direction:Un[d.key],factor:d.shiftKey?4:1}))};return _.jsx("div",{className:se(["react-flow__nodesselection","react-flow__container",t]),style:{transform:s},children:_.jsx("div",{ref:l,className:"react-flow__nodesselection-rect",onContextMenu:u,tabIndex:n?void 0:-1,onKeyDown:n?void 0:f,style:{width:o,height:i}})})}const is=typeof window<"u"?window:void 0,Ym=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function uc({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:s,paneClickDistance:a,deleteKeyCode:c,selectionKeyCode:l,selectionOnDrag:u,selectionMode:f,onSelectionStart:d,onSelectionEnd:h,multiSelectionKeyCode:m,panActivationKeyCode:p,zoomActivationKeyCode:y,elementsSelectable:x,zoomOnScroll:E,zoomOnPinch:g,panOnScroll:v,panOnScrollSpeed:S,panOnScrollMode:N,zoomOnDoubleClick:C,panOnDrag:R,defaultViewport:T,translateExtent:D,minZoom:$,maxZoom:F,preventScrolling:O,onSelectionContextMenu:b,noWheelClassName:I,noPanClassName:A,disableKeyboardA11y:P,onViewportChange:k,isControlledViewport:M}){const{nodesSelectionActive:L,userSelectionActive:j}=ee(Ym),H=Xt(l,{target:is}),W=Xt(p,{target:is}),B=W||R,Y=W||v,X=u&&B!==!0,U=H||j||X;return Cm({deleteKeyCode:c,multiSelectionKeyCode:m}),_.jsx(Am,{onPaneContextMenu:i,elementsSelectable:x,zoomOnScroll:E,zoomOnPinch:g,panOnScroll:Y,panOnScrollSpeed:S,panOnScrollMode:N,zoomOnDoubleClick:C,panOnDrag:!H&&B,defaultViewport:T,translateExtent:D,minZoom:$,maxZoom:F,zoomActivationKeyCode:y,preventScrolling:O,noWheelClassName:I,noPanClassName:A,onViewportChange:k,isControlledViewport:M,paneClickDistance:a,children:_.jsxs(km,{onSelectionStart:d,onSelectionEnd:h,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:s,panOnDrag:B,isSelecting:!!U,selectionMode:f,selectionKeyPressed:H,selectionOnDrag:X,children:[e,L&&_.jsx(Wm,{onSelectionContextMenu:b,noPanClassName:A,disableKeyboardA11y:P})]})})}uc.displayName="FlowRenderer";const Xm=w.memo(uc),Gm=e=>t=>e?Po(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function Um(e){return ee(w.useCallback(Gm(e),[e]),oe)}const Km=e=>e.updateNodeInternals;function qm(){const e=ee(Km),[t]=w.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(o=>{const i=o.target.getAttribute("data-id");r.set(i,{id:i,nodeElement:o.target,force:!0})}),e(r)}));return w.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function Zm({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){const o=re(),i=w.useRef(null),s=w.useRef(null),a=w.useRef(e.sourcePosition),c=w.useRef(e.targetPosition),l=w.useRef(t),u=n&&!!e.internals.handleBounds;return w.useEffect(()=>{i.current&&!e.hidden&&(!u||s.current!==i.current)&&(s.current&&(r==null||r.unobserve(s.current)),r==null||r.observe(i.current),s.current=i.current)},[u,e.hidden]),w.useEffect(()=>()=>{s.current&&(r==null||r.unobserve(s.current),s.current=null)},[]),w.useEffect(()=>{if(i.current){const f=l.current!==t,d=a.current!==e.sourcePosition,h=c.current!==e.targetPosition;(f||d||h)&&(l.current=t,a.current=e.sourcePosition,c.current=e.targetPosition,o.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:i.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),i}function Qm({id:e,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:o,onContextMenu:i,onDoubleClick:s,nodesDraggable:a,elementsSelectable:c,nodesConnectable:l,nodesFocusable:u,resizeObserver:f,noDragClassName:d,noPanClassName:h,disableKeyboardA11y:m,rfId:p,nodeTypes:y,nodeClickDistance:x,onError:E}){const{node:g,internals:v,isParent:S}=ee(z=>{const V=z.nodeLookup.get(e),q=z.parentLookup.has(e);return{node:V,internals:V.internals,isParent:q}},oe);let N=g.type||"default",C=(y==null?void 0:y[N])||os[N];C===void 0&&(E==null||E("003",Ne.error003(N)),N="default",C=os.default);const R=!!(g.draggable||a&&typeof g.draggable>"u"),T=!!(g.selectable||c&&typeof g.selectable>"u"),D=!!(g.connectable||l&&typeof g.connectable>"u"),$=!!(g.focusable||u&&typeof g.focusable>"u"),F=re(),O=Ra(g),b=Zm({node:g,nodeType:N,hasDimensions:O,resizeObserver:f}),I=sc({nodeRef:b,disabled:g.hidden||!R,noDragClassName:d,handleSelector:g.dragHandle,nodeId:e,isSelectable:T,nodeClickDistance:x}),A=ac();if(g.hidden)return null;const P=Fe(g),k=Bm(g),M=T||R||t||n||r||o,L=n?z=>n(z,{...v.userNode}):void 0,j=r?z=>r(z,{...v.userNode}):void 0,H=o?z=>o(z,{...v.userNode}):void 0,W=i?z=>i(z,{...v.userNode}):void 0,B=s?z=>s(z,{...v.userNode}):void 0,Y=z=>{const{selectNodesOnDrag:V,nodeDragThreshold:q}=F.getState();T&&(!V||!R||q>0)&&lo({id:e,store:F,nodeRef:b}),t&&t(z,{...v.userNode})},X=z=>{if(!(Ta(z.nativeEvent)||m)){if(ba.includes(z.key)&&T){const V=z.key==="Escape";lo({id:e,store:F,unselect:V,nodeRef:b})}else if(R&&g.selected&&Object.prototype.hasOwnProperty.call(Un,z.key)){z.preventDefault();const{ariaLabelConfig:V}=F.getState();F.setState({ariaLiveMessage:V["node.a11yDescription.ariaLiveMessage"]({direction:z.key.replace("Arrow","").toLowerCase(),x:~~v.positionAbsolute.x,y:~~v.positionAbsolute.y})}),A({direction:Un[z.key],factor:z.shiftKey?4:1})}}},U=()=>{var Q;if(m||!((Q=b.current)!=null&&Q.matches(":focus-visible")))return;const{transform:z,width:V,height:q,autoPanOnNodeFocus:Z,setCenter:G}=F.getState();if(!Z)return;Po(new Map([[e,g]]),{x:0,y:0,width:V,height:q},z,!0).length>0||G(g.position.x+P.width/2,g.position.y+P.height/2,{zoom:z[2]})};return _.jsx("div",{className:se(["react-flow__node",`react-flow__node-${N}`,{[h]:R},g.className,{selected:g.selected,selectable:T,parent:S,draggable:R,dragging:I}]),ref:b,style:{zIndex:v.z,transform:`translate(${v.positionAbsolute.x}px,${v.positionAbsolute.y}px)`,pointerEvents:M?"all":"none",visibility:O?"visible":"hidden",...g.style,...k},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:L,onMouseMove:j,onMouseLeave:H,onContextMenu:W,onClick:Y,onDoubleClick:B,onKeyDown:$?X:void 0,tabIndex:$?0:void 0,onFocus:$?U:void 0,role:g.ariaRole??($?"group":void 0),"aria-roledescription":"node","aria-describedby":m?void 0:`${Qa}-${p}`,"aria-label":g.ariaLabel,...g.domAttributes,children:_.jsx(Dm,{value:e,children:_.jsx(C,{id:e,data:g.data,type:N,positionAbsoluteX:v.positionAbsolute.x,positionAbsoluteY:v.positionAbsolute.y,selected:g.selected??!1,selectable:T,draggable:R,deletable:g.deletable??!0,isConnectable:D,sourcePosition:g.sourcePosition,targetPosition:g.targetPosition,dragging:I,dragHandle:g.dragHandle,zIndex:v.z,parentId:g.parentId,...P})})})}const Jm=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function lc(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,onError:i}=ee(Jm,oe),s=Um(e.onlyRenderVisibleElements),a=qm();return _.jsx("div",{className:"react-flow__nodes",style:dr,children:s.map(c=>_.jsx(Qm,{id:c,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:a,nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,nodeClickDistance:e.nodeClickDistance,onError:i},c))})}lc.displayName="NodeRenderer";const e0=w.memo(lc);function t0(e){return ee(w.useCallback(n=>{if(!e)return n.edges.map(o=>o.id);const r=[];if(n.width&&n.height)for(const o of n.edges){const i=n.nodeLookup.get(o.source),s=n.nodeLookup.get(o.target);i&&s&&tg({sourceNode:i,targetNode:s,width:n.width,height:n.height,transform:n.transform})&&r.push(o.id)}return r},[e]),oe)}const n0=({color:e="none",strokeWidth:t=1})=>_.jsx("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),r0=({color:e="none",strokeWidth:t=1})=>_.jsx("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),ss={[Vn.Arrow]:n0,[Vn.ArrowClosed]:r0};function o0(e){const t=re();return w.useMemo(()=>{var o,i;return Object.prototype.hasOwnProperty.call(ss,e)?ss[e]:((i=(o=t.getState()).onError)==null||i.call(o,"009",Ne.error009(e)),null)},[e])}const i0=({id:e,type:t,color:n,width:r=12.5,height:o=12.5,markerUnits:i="strokeWidth",strokeWidth:s,orient:a="auto-start-reverse"})=>{const c=o0(t);return c?_.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${o}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:a,refX:"0",refY:"0",children:_.jsx(c,{color:n,strokeWidth:s})}):null},fc=({defaultColor:e,rfId:t})=>{const n=ee(i=>i.edges),r=ee(i=>i.defaultEdgeOptions),o=w.useMemo(()=>cg(n,{id:t,defaultColor:e,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,t,e]);return o.length?_.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:_.jsx("defs",{children:o.map(i=>_.jsx(i0,{id:i.id,type:i.type,color:i.color,width:i.width,height:i.height,markerUnits:i.markerUnits,strokeWidth:i.strokeWidth,orient:i.orient},i.id))})}):null};fc.displayName="MarkerDefinitions";var s0=w.memo(fc);function dc({x:e,y:t,label:n,labelStyle:r,labelShowBg:o=!0,labelBgStyle:i,labelBgPadding:s=[2,4],labelBgBorderRadius:a=2,children:c,className:l,...u}){const[f,d]=w.useState({x:1,y:0,width:0,height:0}),h=se(["react-flow__edge-textwrapper",l]),m=w.useRef(null);return w.useEffect(()=>{if(m.current){const p=m.current.getBBox();d({x:p.x,y:p.y,width:p.width,height:p.height})}},[n]),n?_.jsxs("g",{transform:`translate(${e-f.width/2} ${t-f.height/2})`,className:h,visibility:f.width?"visible":"hidden",...u,children:[o&&_.jsx("rect",{width:f.width+2*s[0],x:-s[0],y:-s[1],height:f.height+2*s[1],className:"react-flow__edge-textbg",style:i,rx:a,ry:a}),_.jsx("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:m,style:r,children:n}),c]}):null}dc.displayName="EdgeText";const a0=w.memo(dc);function hr({path:e,labelX:t,labelY:n,label:r,labelStyle:o,labelShowBg:i,labelBgStyle:s,labelBgPadding:a,labelBgBorderRadius:c,interactionWidth:l=20,...u}){return _.jsxs(_.Fragment,{children:[_.jsx("path",{...u,d:e,fill:"none",className:se(["react-flow__edge-path",u.className])}),l&&_.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:l,className:"react-flow__edge-interaction"}),r&&xe(t)&&xe(n)?_.jsx(a0,{x:t,y:n,label:r,labelStyle:o,labelShowBg:i,labelBgStyle:s,labelBgPadding:a,labelBgBorderRadius:c}):null]})}function as({pos:e,x1:t,y1:n,x2:r,y2:o}){return e===K.Left||e===K.Right?[.5*(t+r),n]:[t,.5*(n+o)]}function hc({sourceX:e,sourceY:t,sourcePosition:n=K.Bottom,targetX:r,targetY:o,targetPosition:i=K.Top}){const[s,a]=as({pos:n,x1:e,y1:t,x2:r,y2:o}),[c,l]=as({pos:i,x1:r,y1:o,x2:e,y2:t}),[u,f,d,h]=Oa({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:s,sourceControlY:a,targetControlX:c,targetControlY:l});return[`M${e},${t} C${s},${a} ${c},${l} ${r},${o}`,u,f,d,h]}function pc(e){return w.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,sourcePosition:s,targetPosition:a,label:c,labelStyle:l,labelShowBg:u,labelBgStyle:f,labelBgPadding:d,labelBgBorderRadius:h,style:m,markerEnd:p,markerStart:y,interactionWidth:x})=>{const[E,g,v]=hc({sourceX:n,sourceY:r,sourcePosition:s,targetX:o,targetY:i,targetPosition:a}),S=e.isInternal?void 0:t;return _.jsx(hr,{id:S,path:E,labelX:g,labelY:v,label:c,labelStyle:l,labelShowBg:u,labelBgStyle:f,labelBgPadding:d,labelBgBorderRadius:h,style:m,markerEnd:p,markerStart:y,interactionWidth:x})})}const c0=pc({isInternal:!1}),gc=pc({isInternal:!0});c0.displayName="SimpleBezierEdge";gc.displayName="SimpleBezierEdgeInternal";function mc(e){return w.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,label:s,labelStyle:a,labelShowBg:c,labelBgStyle:l,labelBgPadding:u,labelBgBorderRadius:f,style:d,sourcePosition:h=K.Bottom,targetPosition:m=K.Top,markerEnd:p,markerStart:y,pathOptions:x,interactionWidth:E})=>{const[g,v,S]=so({sourceX:n,sourceY:r,sourcePosition:h,targetX:o,targetY:i,targetPosition:m,borderRadius:x==null?void 0:x.borderRadius,offset:x==null?void 0:x.offset}),N=e.isInternal?void 0:t;return _.jsx(hr,{id:N,path:g,labelX:v,labelY:S,label:s,labelStyle:a,labelShowBg:c,labelBgStyle:l,labelBgPadding:u,labelBgBorderRadius:f,style:d,markerEnd:p,markerStart:y,interactionWidth:E})})}const yc=mc({isInternal:!1}),xc=mc({isInternal:!0});yc.displayName="SmoothStepEdge";xc.displayName="SmoothStepEdgeInternal";function vc(e){return w.memo(({id:t,...n})=>{var o;const r=e.isInternal?void 0:t;return _.jsx(yc,{...n,id:r,pathOptions:w.useMemo(()=>{var i;return{borderRadius:0,offset:(i=n.pathOptions)==null?void 0:i.offset}},[(o=n.pathOptions)==null?void 0:o.offset])})})}const u0=vc({isInternal:!1}),wc=vc({isInternal:!0});u0.displayName="StepEdge";wc.displayName="StepEdgeInternal";function bc(e){return w.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,label:s,labelStyle:a,labelShowBg:c,labelBgStyle:l,labelBgPadding:u,labelBgBorderRadius:f,style:d,markerEnd:h,markerStart:m,interactionWidth:p})=>{const[y,x,E]=ja({sourceX:n,sourceY:r,targetX:o,targetY:i}),g=e.isInternal?void 0:t;return _.jsx(hr,{id:g,path:y,labelX:x,labelY:E,label:s,labelStyle:a,labelShowBg:c,labelBgStyle:l,labelBgPadding:u,labelBgBorderRadius:f,style:d,markerEnd:h,markerStart:m,interactionWidth:p})})}const l0=bc({isInternal:!1}),Ec=bc({isInternal:!0});l0.displayName="StraightEdge";Ec.displayName="StraightEdgeInternal";function _c(e){return w.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,sourcePosition:s=K.Bottom,targetPosition:a=K.Top,label:c,labelStyle:l,labelShowBg:u,labelBgStyle:f,labelBgPadding:d,labelBgBorderRadius:h,style:m,markerEnd:p,markerStart:y,pathOptions:x,interactionWidth:E})=>{const[g,v,S]=$a({sourceX:n,sourceY:r,sourcePosition:s,targetX:o,targetY:i,targetPosition:a,curvature:x==null?void 0:x.curvature}),N=e.isInternal?void 0:t;return _.jsx(hr,{id:N,path:g,labelX:v,labelY:S,label:c,labelStyle:l,labelShowBg:u,labelBgStyle:f,labelBgPadding:d,labelBgBorderRadius:h,style:m,markerEnd:p,markerStart:y,interactionWidth:E})})}const f0=_c({isInternal:!1}),Sc=_c({isInternal:!0});f0.displayName="BezierEdge";Sc.displayName="BezierEdgeInternal";const cs={default:Sc,straight:Ec,step:wc,smoothstep:xc,simplebezier:gc},us={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},d0=(e,t,n)=>n===K.Left?e-t:n===K.Right?e+t:e,h0=(e,t,n)=>n===K.Top?e-t:n===K.Bottom?e+t:e,ls="react-flow__edgeupdater";function fs({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:o,onMouseEnter:i,onMouseOut:s,type:a}){return _.jsx("circle",{onMouseDown:o,onMouseEnter:i,onMouseOut:s,className:se([ls,`${ls}-${a}`]),cx:d0(t,r,e),cy:h0(n,r,e),r,stroke:"transparent",fill:"transparent"})}function p0({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:r,sourceY:o,targetX:i,targetY:s,sourcePosition:a,targetPosition:c,onReconnect:l,onReconnectStart:u,onReconnectEnd:f,setReconnecting:d,setUpdateHover:h}){const m=re(),p=(v,S)=>{if(v.button!==0)return;const{autoPanOnConnect:N,domNode:C,isValidConnection:R,connectionMode:T,connectionRadius:D,lib:$,onConnectStart:F,onConnectEnd:O,cancelConnection:b,nodeLookup:I,rfId:A,panBy:P,updateConnection:k}=m.getState(),M=S.type==="target";d(!0),u==null||u(v,n,S.type);const L=(H,W)=>{d(!1),f==null||f(H,n,S.type,W)},j=H=>l==null?void 0:l(n,H);uo.onPointerDown(v.nativeEvent,{autoPanOnConnect:N,connectionMode:T,connectionRadius:D,domNode:C,handleId:S.id,nodeId:S.nodeId,nodeLookup:I,isTarget:M,edgeUpdaterType:S.type,lib:$,flowId:A,cancelConnection:b,panBy:P,isValidConnection:R,onConnect:j,onConnectStart:F,onConnectEnd:O,onReconnectEnd:L,updateConnection:k,getTransform:()=>m.getState().transform,getFromHandle:()=>m.getState().connection.fromHandle})},y=v=>p(v,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),x=v=>p(v,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),E=()=>h(!0),g=()=>h(!1);return _.jsxs(_.Fragment,{children:[(e===!0||e==="source")&&_.jsx(fs,{position:a,centerX:r,centerY:o,radius:t,onMouseDown:y,onMouseEnter:E,onMouseOut:g,type:"source"}),(e===!0||e==="target")&&_.jsx(fs,{position:c,centerX:i,centerY:s,radius:t,onMouseDown:x,onMouseEnter:E,onMouseOut:g,type:"target"})]})}function g0({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:r,onClick:o,onDoubleClick:i,onContextMenu:s,onMouseEnter:a,onMouseMove:c,onMouseLeave:l,reconnectRadius:u,onReconnect:f,onReconnectStart:d,onReconnectEnd:h,rfId:m,edgeTypes:p,noPanClassName:y,onError:x,disableKeyboardA11y:E}){let g=ee(G=>G.edgeLookup.get(e));const v=ee(G=>G.defaultEdgeOptions);g=v?{...v,...g}:g;let S=g.type||"default",N=(p==null?void 0:p[S])||cs[S];N===void 0&&(x==null||x("011",Ne.error011(S)),S="default",N=cs.default);const C=!!(g.focusable||t&&typeof g.focusable>"u"),R=typeof f<"u"&&(g.reconnectable||n&&typeof g.reconnectable>"u"),T=!!(g.selectable||r&&typeof g.selectable>"u"),D=w.useRef(null),[$,F]=w.useState(!1),[O,b]=w.useState(!1),I=re(),{zIndex:A,sourceX:P,sourceY:k,targetX:M,targetY:L,sourcePosition:j,targetPosition:H}=ee(w.useCallback(G=>{const J=G.nodeLookup.get(g.source),Q=G.nodeLookup.get(g.target);if(!J||!Q)return{zIndex:g.zIndex,...us};const ne=ag({id:e,sourceNode:J,targetNode:Q,sourceHandle:g.sourceHandle||null,targetHandle:g.targetHandle||null,connectionMode:G.connectionMode,onError:x});return{zIndex:eg({selected:g.selected,zIndex:g.zIndex,sourceNode:J,targetNode:Q,elevateOnSelect:G.elevateEdgesOnSelect}),...ne||us}},[g.source,g.target,g.sourceHandle,g.targetHandle,g.selected,g.zIndex]),oe),W=w.useMemo(()=>g.markerStart?`url('#${ao(g.markerStart,m)}')`:void 0,[g.markerStart,m]),B=w.useMemo(()=>g.markerEnd?`url('#${ao(g.markerEnd,m)}')`:void 0,[g.markerEnd,m]);if(g.hidden||P===null||k===null||M===null||L===null)return null;const Y=G=>{var ie;const{addSelectedEdges:J,unselectNodesAndEdges:Q,multiSelectionActive:ne}=I.getState();T&&(I.setState({nodesSelectionActive:!1}),g.selected&&ne?(Q({nodes:[],edges:[g]}),(ie=D.current)==null||ie.blur()):J([e])),o&&o(G,g)},X=i?G=>{i(G,{...g})}:void 0,U=s?G=>{s(G,{...g})}:void 0,z=a?G=>{a(G,{...g})}:void 0,V=c?G=>{c(G,{...g})}:void 0,q=l?G=>{l(G,{...g})}:void 0,Z=G=>{var J;if(!E&&ba.includes(G.key)&&T){const{unselectNodesAndEdges:Q,addSelectedEdges:ne}=I.getState();G.key==="Escape"?((J=D.current)==null||J.blur(),Q({edges:[g]})):ne([e])}};return _.jsx("svg",{style:{zIndex:A},children:_.jsxs("g",{className:se(["react-flow__edge",`react-flow__edge-${S}`,g.className,y,{selected:g.selected,animated:g.animated,inactive:!T&&!o,updating:$,selectable:T}]),onClick:Y,onDoubleClick:X,onContextMenu:U,onMouseEnter:z,onMouseMove:V,onMouseLeave:q,onKeyDown:C?Z:void 0,tabIndex:C?0:void 0,role:g.ariaRole??(C?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":g.ariaLabel===null?void 0:g.ariaLabel||`Edge from ${g.source} to ${g.target}`,"aria-describedby":C?`${Ja}-${m}`:void 0,ref:D,...g.domAttributes,children:[!O&&_.jsx(N,{id:e,source:g.source,target:g.target,type:g.type,selected:g.selected,animated:g.animated,selectable:T,deletable:g.deletable??!0,label:g.label,labelStyle:g.labelStyle,labelShowBg:g.labelShowBg,labelBgStyle:g.labelBgStyle,labelBgPadding:g.labelBgPadding,labelBgBorderRadius:g.labelBgBorderRadius,sourceX:P,sourceY:k,targetX:M,targetY:L,sourcePosition:j,targetPosition:H,data:g.data,style:g.style,sourceHandleId:g.sourceHandle,targetHandleId:g.targetHandle,markerStart:W,markerEnd:B,pathOptions:"pathOptions"in g?g.pathOptions:void 0,interactionWidth:g.interactionWidth}),R&&_.jsx(p0,{edge:g,isReconnectable:R,reconnectRadius:u,onReconnect:f,onReconnectStart:d,onReconnectEnd:h,sourceX:P,sourceY:k,targetX:M,targetY:L,sourcePosition:j,targetPosition:H,setUpdateHover:F,setReconnecting:b})]})})}const m0=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function Cc({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:r,noPanClassName:o,onReconnect:i,onEdgeContextMenu:s,onEdgeMouseEnter:a,onEdgeMouseMove:c,onEdgeMouseLeave:l,onEdgeClick:u,reconnectRadius:f,onEdgeDoubleClick:d,onReconnectStart:h,onReconnectEnd:m,disableKeyboardA11y:p}){const{edgesFocusable:y,edgesReconnectable:x,elementsSelectable:E,onError:g}=ee(m0,oe),v=t0(t);return _.jsxs("div",{className:"react-flow__edges",children:[_.jsx(s0,{defaultColor:e,rfId:n}),v.map(S=>_.jsx(g0,{id:S,edgesFocusable:y,edgesReconnectable:x,elementsSelectable:E,noPanClassName:o,onReconnect:i,onContextMenu:s,onMouseEnter:a,onMouseMove:c,onMouseLeave:l,onClick:u,reconnectRadius:f,onDoubleClick:d,onReconnectStart:h,onReconnectEnd:m,rfId:n,onError:g,edgeTypes:r,disableKeyboardA11y:p},S))]})}Cc.displayName="EdgeRenderer";const y0=w.memo(Cc),x0=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function v0({children:e}){const t=ee(x0);return _.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function w0(e){const t=$o(),n=w.useRef(!1);w.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const b0=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function E0(e){const t=ee(b0),n=re();return w.useEffect(()=>{e&&(t==null||t(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function _0(e){return e.connection.inProgress?{...e.connection,to:tn(e.connection.to,e.transform)}:{...e.connection}}function S0(e){return _0}function C0(e){const t=S0();return ee(t,oe)}const M0=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function N0({containerStyle:e,style:t,type:n,component:r}){const{nodesConnectable:o,width:i,height:s,isValid:a,inProgress:c}=ee(M0,oe);return!(i&&o&&c)?null:_.jsx("svg",{style:e,width:i,height:s,className:"react-flow__connectionline react-flow__container",children:_.jsx("g",{className:se(["react-flow__connection",Sa(a)]),children:_.jsx(Mc,{style:t,type:n,CustomComponent:r,isValid:a})})})}const Mc=({style:e,type:t=Ye.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:o,from:i,fromNode:s,fromHandle:a,fromPosition:c,to:l,toNode:u,toHandle:f,toPosition:d}=C0();if(!o)return;if(n)return _.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:s,fromHandle:a,fromX:i.x,fromY:i.y,toX:l.x,toY:l.y,fromPosition:c,toPosition:d,connectionStatus:Sa(r),toNode:u,toHandle:f});let h="";const m={sourceX:i.x,sourceY:i.y,sourcePosition:c,targetX:l.x,targetY:l.y,targetPosition:d};switch(t){case Ye.Bezier:[h]=$a(m);break;case Ye.SimpleBezier:[h]=hc(m);break;case Ye.Step:[h]=so({...m,borderRadius:0});break;case Ye.SmoothStep:[h]=so(m);break;default:[h]=ja(m)}return _.jsx("path",{d:h,fill:"none",className:"react-flow__connection-path",style:e})};Mc.displayName="ConnectionLine";const A0={};function ds(e=A0){w.useRef(e),re(),w.useEffect(()=>{},[e])}function P0(){re(),w.useRef(!1),w.useEffect(()=>{},[])}function Nc({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:r,onEdgeClick:o,onNodeDoubleClick:i,onEdgeDoubleClick:s,onNodeMouseEnter:a,onNodeMouseMove:c,onNodeMouseLeave:l,onNodeContextMenu:u,onSelectionContextMenu:f,onSelectionStart:d,onSelectionEnd:h,connectionLineType:m,connectionLineStyle:p,connectionLineComponent:y,connectionLineContainerStyle:x,selectionKeyCode:E,selectionOnDrag:g,selectionMode:v,multiSelectionKeyCode:S,panActivationKeyCode:N,zoomActivationKeyCode:C,deleteKeyCode:R,onlyRenderVisibleElements:T,elementsSelectable:D,defaultViewport:$,translateExtent:F,minZoom:O,maxZoom:b,preventScrolling:I,defaultMarkerColor:A,zoomOnScroll:P,zoomOnPinch:k,panOnScroll:M,panOnScrollSpeed:L,panOnScrollMode:j,zoomOnDoubleClick:H,panOnDrag:W,onPaneClick:B,onPaneMouseEnter:Y,onPaneMouseMove:X,onPaneMouseLeave:U,onPaneScroll:z,onPaneContextMenu:V,paneClickDistance:q,nodeClickDistance:Z,onEdgeContextMenu:G,onEdgeMouseEnter:J,onEdgeMouseMove:Q,onEdgeMouseLeave:ne,reconnectRadius:ie,onReconnect:je,onReconnectStart:Nt,onReconnectEnd:He,noDragClassName:un,noWheelClassName:ln,noPanClassName:At,disableKeyboardA11y:Pt,nodeExtent:Er,rfId:fn,viewport:st,onViewportChange:Rt}){return ds(e),ds(t),P0(),w0(n),E0(st),_.jsx(Xm,{onPaneClick:B,onPaneMouseEnter:Y,onPaneMouseMove:X,onPaneMouseLeave:U,onPaneContextMenu:V,onPaneScroll:z,paneClickDistance:q,deleteKeyCode:R,selectionKeyCode:E,selectionOnDrag:g,selectionMode:v,onSelectionStart:d,onSelectionEnd:h,multiSelectionKeyCode:S,panActivationKeyCode:N,zoomActivationKeyCode:C,elementsSelectable:D,zoomOnScroll:P,zoomOnPinch:k,zoomOnDoubleClick:H,panOnScroll:M,panOnScrollSpeed:L,panOnScrollMode:j,panOnDrag:W,defaultViewport:$,translateExtent:F,minZoom:O,maxZoom:b,onSelectionContextMenu:f,preventScrolling:I,noDragClassName:un,noWheelClassName:ln,noPanClassName:At,disableKeyboardA11y:Pt,onViewportChange:Rt,isControlledViewport:!!st,children:_.jsxs(v0,{children:[_.jsx(y0,{edgeTypes:t,onEdgeClick:o,onEdgeDoubleClick:s,onReconnect:je,onReconnectStart:Nt,onReconnectEnd:He,onlyRenderVisibleElements:T,onEdgeContextMenu:G,onEdgeMouseEnter:J,onEdgeMouseMove:Q,onEdgeMouseLeave:ne,reconnectRadius:ie,defaultMarkerColor:A,noPanClassName:At,disableKeyboardA11y:Pt,rfId:fn}),_.jsx(N0,{style:p,type:m,component:y,containerStyle:x}),_.jsx("div",{className:"react-flow__edgelabel-renderer"}),_.jsx(e0,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:i,onNodeMouseEnter:a,onNodeMouseMove:c,onNodeMouseLeave:l,onNodeContextMenu:u,nodeClickDistance:Z,onlyRenderVisibleElements:T,noPanClassName:At,noDragClassName:un,disableKeyboardA11y:Pt,nodeExtent:Er,rfId:fn}),_.jsx("div",{className:"react-flow__viewport-portal"})]})})}Nc.displayName="GraphView";const R0=w.memo(Nc),hs=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:s,fitViewOptions:a,minZoom:c=.5,maxZoom:l=2,nodeOrigin:u,nodeExtent:f}={})=>{const d=new Map,h=new Map,m=new Map,p=new Map,y=r??t??[],x=n??e??[],E=u??[0,0],g=f??Bt;za(m,p,y);const v=co(x,d,h,{nodeOrigin:E,nodeExtent:g,elevateNodesOnSelect:!1});let S=[0,0,1];if(s&&o&&i){const N=en(d,{filter:D=>!!((D.width||D.initialWidth)&&(D.height||D.initialHeight))}),{x:C,y:R,zoom:T}=Ro(N,o,i,c,l,(a==null?void 0:a.padding)??.1);S=[C,R,T]}return{rfId:"1",width:0,height:0,transform:S,nodes:x,nodesInitialized:v,nodeLookup:d,parentLookup:h,edges:y,edgeLookup:p,connectionLookup:m,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:c,maxZoom:l,translateExtent:Bt,nodeExtent:g,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:vt.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:E,nodeDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:s??!1,fitViewOptions:a,fitViewResolver:null,connection:{..._a},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:Up,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:Ea}},I0=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:s,fitViewOptions:a,minZoom:c,maxZoom:l,nodeOrigin:u,nodeExtent:f})=>qg((d,h)=>{async function m(){const{nodeLookup:p,panZoom:y,fitViewOptions:x,fitViewResolver:E,width:g,height:v,minZoom:S,maxZoom:N}=h();y&&(await Xp({nodes:p,width:g,height:v,panZoom:y,minZoom:S,maxZoom:N},x),E==null||E.resolve(!0),d({fitViewResolver:null}))}return{...hs({nodes:e,edges:t,width:o,height:i,fitView:s,fitViewOptions:a,minZoom:c,maxZoom:l,nodeOrigin:u,nodeExtent:f,defaultNodes:n,defaultEdges:r}),setNodes:p=>{const{nodeLookup:y,parentLookup:x,nodeOrigin:E,elevateNodesOnSelect:g,fitViewQueued:v}=h(),S=co(p,y,x,{nodeOrigin:E,nodeExtent:f,elevateNodesOnSelect:g,checkEquality:!0});v&&S?(m(),d({nodes:p,nodesInitialized:S,fitViewQueued:!1,fitViewOptions:void 0})):d({nodes:p,nodesInitialized:S})},setEdges:p=>{const{connectionLookup:y,edgeLookup:x}=h();za(y,x,p),d({edges:p})},setDefaultNodesAndEdges:(p,y)=>{if(p){const{setNodes:x}=h();x(p),d({hasDefaultNodes:!0})}if(y){const{setEdges:x}=h();x(y),d({hasDefaultEdges:!0})}},updateNodeInternals:p=>{const{triggerNodeChanges:y,nodeLookup:x,parentLookup:E,domNode:g,nodeOrigin:v,nodeExtent:S,debug:N,fitViewQueued:C}=h(),{changes:R,updatedInternals:T}=hg(p,x,E,g,v,S);T&&(lg(x,E,{nodeOrigin:v,nodeExtent:S}),C?(m(),d({fitViewQueued:!1,fitViewOptions:void 0})):d({}),(R==null?void 0:R.length)>0&&(N&&console.log("React Flow: trigger node changes",R),y==null||y(R)))},updateNodePositions:(p,y=!1)=>{const x=[],E=[],{nodeLookup:g,triggerNodeChanges:v}=h();for(const[S,N]of p){const C=g.get(S),R=!!(C!=null&&C.expandParent&&(C!=null&&C.parentId)&&(N!=null&&N.position)),T={id:S,type:"position",position:R?{x:Math.max(0,N.position.x),y:Math.max(0,N.position.y)}:N.position,dragging:y};R&&C.parentId&&x.push({id:S,parentId:C.parentId,rect:{...N.internals.positionAbsolute,width:N.measured.width??0,height:N.measured.height??0}}),E.push(T)}if(x.length>0){const{parentLookup:S,nodeOrigin:N}=h(),C=Oo(x,g,S,N);E.push(...C)}v(E)},triggerNodeChanges:p=>{const{onNodesChange:y,setNodes:x,nodes:E,hasDefaultNodes:g,debug:v}=h();if(p!=null&&p.length){if(g){const S=nc(p,E);x(S)}v&&console.log("React Flow: trigger node changes",p),y==null||y(p)}},triggerEdgeChanges:p=>{const{onEdgesChange:y,setEdges:x,edges:E,hasDefaultEdges:g,debug:v}=h();if(p!=null&&p.length){if(g){const S=rc(p,E);x(S)}v&&console.log("React Flow: trigger edge changes",p),y==null||y(p)}},addSelectedNodes:p=>{const{multiSelectionActive:y,edgeLookup:x,nodeLookup:E,triggerNodeChanges:g,triggerEdgeChanges:v}=h();if(y){const S=p.map(N=>qe(N,!0));g(S);return}g(dt(E,new Set([...p]),!0)),v(dt(x))},addSelectedEdges:p=>{const{multiSelectionActive:y,edgeLookup:x,nodeLookup:E,triggerNodeChanges:g,triggerEdgeChanges:v}=h();if(y){const S=p.map(N=>qe(N,!0));v(S);return}v(dt(x,new Set([...p]))),g(dt(E,new Set,!0))},unselectNodesAndEdges:({nodes:p,edges:y}={})=>{const{edges:x,nodes:E,nodeLookup:g,triggerNodeChanges:v,triggerEdgeChanges:S}=h(),N=p||E,C=y||x,R=N.map(D=>{const $=g.get(D.id);return $&&($.selected=!1),qe(D.id,!1)}),T=C.map(D=>qe(D.id,!1));v(R),S(T)},setMinZoom:p=>{const{panZoom:y,maxZoom:x}=h();y==null||y.setScaleExtent([p,x]),d({minZoom:p})},setMaxZoom:p=>{const{panZoom:y,minZoom:x}=h();y==null||y.setScaleExtent([x,p]),d({maxZoom:p})},setTranslateExtent:p=>{var y;(y=h().panZoom)==null||y.setTranslateExtent(p),d({translateExtent:p})},setPaneClickDistance:p=>{var y;(y=h().panZoom)==null||y.setClickDistance(p)},resetSelectedElements:()=>{const{edges:p,nodes:y,triggerNodeChanges:x,triggerEdgeChanges:E,elementsSelectable:g}=h();if(!g)return;const v=y.reduce((N,C)=>C.selected?[...N,qe(C.id,!1)]:N,[]),S=p.reduce((N,C)=>C.selected?[...N,qe(C.id,!1)]:N,[]);x(v),E(S)},setNodeExtent:p=>{const{nodes:y,nodeLookup:x,parentLookup:E,nodeOrigin:g,elevateNodesOnSelect:v,nodeExtent:S}=h();p[0][0]===S[0][0]&&p[0][1]===S[0][1]&&p[1][0]===S[1][0]&&p[1][1]===S[1][1]||(co(y,x,E,{nodeOrigin:g,nodeExtent:p,elevateNodesOnSelect:v,checkEquality:!1}),d({nodeExtent:p}))},panBy:p=>{const{transform:y,width:x,height:E,panZoom:g,translateExtent:v}=h();return pg({delta:p,panZoom:g,transform:y,translateExtent:v,width:x,height:E})},setCenter:async(p,y,x)=>{const{width:E,height:g,maxZoom:v,panZoom:S}=h();if(!S)return Promise.resolve(!1);const N=typeof(x==null?void 0:x.zoom)<"u"?x.zoom:v;return await S.setViewport({x:E/2-p*N,y:g/2-y*N,zoom:N},{duration:x==null?void 0:x.duration,ease:x==null?void 0:x.ease,interpolate:x==null?void 0:x.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{d({connection:{..._a}})},updateConnection:p=>{d({connection:p})},reset:()=>d({...hs()})}},Object.is);function k0({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:r,initialWidth:o,initialHeight:i,initialMinZoom:s,initialMaxZoom:a,initialFitViewOptions:c,fitView:l,nodeOrigin:u,nodeExtent:f,children:d}){const[h]=w.useState(()=>I0({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:l,minZoom:s,maxZoom:a,fitViewOptions:c,nodeOrigin:u,nodeExtent:f}));return _.jsx(Zg,{value:h,children:_.jsx(bm,{children:d})})}function T0({children:e,nodes:t,edges:n,defaultNodes:r,defaultEdges:o,width:i,height:s,fitView:a,fitViewOptions:c,minZoom:l,maxZoom:u,nodeOrigin:f,nodeExtent:d}){return w.useContext(lr)?_.jsx(_.Fragment,{children:e}):_.jsx(k0,{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:o,initialWidth:i,initialHeight:s,fitView:a,initialFitViewOptions:c,initialMinZoom:l,initialMaxZoom:u,nodeOrigin:f,nodeExtent:d,children:e})}const D0={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function O0({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:o,nodeTypes:i,edgeTypes:s,onNodeClick:a,onEdgeClick:c,onInit:l,onMove:u,onMoveStart:f,onMoveEnd:d,onConnect:h,onConnectStart:m,onConnectEnd:p,onClickConnectStart:y,onClickConnectEnd:x,onNodeMouseEnter:E,onNodeMouseMove:g,onNodeMouseLeave:v,onNodeContextMenu:S,onNodeDoubleClick:N,onNodeDragStart:C,onNodeDrag:R,onNodeDragStop:T,onNodesDelete:D,onEdgesDelete:$,onDelete:F,onSelectionChange:O,onSelectionDragStart:b,onSelectionDrag:I,onSelectionDragStop:A,onSelectionContextMenu:P,onSelectionStart:k,onSelectionEnd:M,onBeforeDelete:L,connectionMode:j,connectionLineType:H=Ye.Bezier,connectionLineStyle:W,connectionLineComponent:B,connectionLineContainerStyle:Y,deleteKeyCode:X="Backspace",selectionKeyCode:U="Shift",selectionOnDrag:z=!1,selectionMode:V=Vt.Full,panActivationKeyCode:q="Space",multiSelectionKeyCode:Z=Xn()?"Meta":"Control",zoomActivationKeyCode:G=Xn()?"Meta":"Control",snapToGrid:J,snapGrid:Q,onlyRenderVisibleElements:ne=!1,selectNodesOnDrag:ie,nodesDraggable:je,autoPanOnNodeFocus:Nt,nodesConnectable:He,nodesFocusable:un,nodeOrigin:ln=ec,edgesFocusable:At,edgesReconnectable:Pt,elementsSelectable:Er=!0,defaultViewport:fn=fm,minZoom:st=.5,maxZoom:Rt=2,translateExtent:ei=Bt,preventScrolling:nl=!0,nodeExtent:_r,defaultMarkerColor:rl="#b1b1b7",zoomOnScroll:ol=!0,zoomOnPinch:il=!0,panOnScroll:sl=!1,panOnScrollSpeed:al=.5,panOnScrollMode:cl=Je.Free,zoomOnDoubleClick:ul=!0,panOnDrag:ll=!0,onPaneClick:fl,onPaneMouseEnter:dl,onPaneMouseMove:hl,onPaneMouseLeave:pl,onPaneScroll:gl,onPaneContextMenu:ml,paneClickDistance:ti=0,nodeClickDistance:yl=0,children:xl,onReconnect:vl,onReconnectStart:wl,onReconnectEnd:bl,onEdgeContextMenu:El,onEdgeDoubleClick:_l,onEdgeMouseEnter:Sl,onEdgeMouseMove:Cl,onEdgeMouseLeave:Ml,reconnectRadius:Nl=10,onNodesChange:Al,onEdgesChange:Pl,noDragClassName:Rl="nodrag",noWheelClassName:Il="nowheel",noPanClassName:ni="nopan",fitView:ri,fitViewOptions:oi,connectOnClick:kl,attributionPosition:Tl,proOptions:Dl,defaultEdgeOptions:Ol,elevateNodesOnSelect:$l,elevateEdgesOnSelect:Ll,disableKeyboardA11y:ii=!1,autoPanOnConnect:Fl,autoPanOnNodeDrag:jl,autoPanSpeed:Hl,connectionRadius:zl,isValidConnection:Bl,onError:Vl,style:Wl,id:si,nodeDragThreshold:Yl,viewport:Xl,onViewportChange:Gl,width:Ul,height:Kl,colorMode:ql="light",debug:Zl,onScroll:dn,ariaLabelConfig:Ql,...Jl},ef){const Sr=si||"1",tf=gm(ql),nf=w.useCallback(ai=>{ai.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),dn==null||dn(ai)},[dn]);return _.jsx("div",{"data-testid":"rf__wrapper",...Jl,onScroll:nf,style:{...Wl,...D0},ref:ef,className:se(["react-flow",o,tf]),id:si,role:"application",children:_.jsxs(T0,{nodes:e,edges:t,width:Ul,height:Kl,fitView:ri,fitViewOptions:oi,minZoom:st,maxZoom:Rt,nodeOrigin:ln,nodeExtent:_r,children:[_.jsx(R0,{onInit:l,onNodeClick:a,onEdgeClick:c,onNodeMouseEnter:E,onNodeMouseMove:g,onNodeMouseLeave:v,onNodeContextMenu:S,onNodeDoubleClick:N,nodeTypes:i,edgeTypes:s,connectionLineType:H,connectionLineStyle:W,connectionLineComponent:B,connectionLineContainerStyle:Y,selectionKeyCode:U,selectionOnDrag:z,selectionMode:V,deleteKeyCode:X,multiSelectionKeyCode:Z,panActivationKeyCode:q,zoomActivationKeyCode:G,onlyRenderVisibleElements:ne,defaultViewport:fn,translateExtent:ei,minZoom:st,maxZoom:Rt,preventScrolling:nl,zoomOnScroll:ol,zoomOnPinch:il,zoomOnDoubleClick:ul,panOnScroll:sl,panOnScrollSpeed:al,panOnScrollMode:cl,panOnDrag:ll,onPaneClick:fl,onPaneMouseEnter:dl,onPaneMouseMove:hl,onPaneMouseLeave:pl,onPaneScroll:gl,onPaneContextMenu:ml,paneClickDistance:ti,nodeClickDistance:yl,onSelectionContextMenu:P,onSelectionStart:k,onSelectionEnd:M,onReconnect:vl,onReconnectStart:wl,onReconnectEnd:bl,onEdgeContextMenu:El,onEdgeDoubleClick:_l,onEdgeMouseEnter:Sl,onEdgeMouseMove:Cl,onEdgeMouseLeave:Ml,reconnectRadius:Nl,defaultMarkerColor:rl,noDragClassName:Rl,noWheelClassName:Il,noPanClassName:ni,rfId:Sr,disableKeyboardA11y:ii,nodeExtent:_r,viewport:Xl,onViewportChange:Gl}),_.jsx(pm,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:h,onConnectStart:m,onConnectEnd:p,onClickConnectStart:y,onClickConnectEnd:x,nodesDraggable:je,autoPanOnNodeFocus:Nt,nodesConnectable:He,nodesFocusable:un,edgesFocusable:At,edgesReconnectable:Pt,elementsSelectable:Er,elevateNodesOnSelect:$l,elevateEdgesOnSelect:Ll,minZoom:st,maxZoom:Rt,nodeExtent:_r,onNodesChange:Al,onEdgesChange:Pl,snapToGrid:J,snapGrid:Q,connectionMode:j,translateExtent:ei,connectOnClick:kl,defaultEdgeOptions:Ol,fitView:ri,fitViewOptions:oi,onNodesDelete:D,onEdgesDelete:$,onDelete:F,onNodeDragStart:C,onNodeDrag:R,onNodeDragStop:T,onSelectionDrag:I,onSelectionDragStart:b,onSelectionDragStop:A,onMove:u,onMoveStart:f,onMoveEnd:d,noPanClassName:ni,nodeOrigin:ln,rfId:Sr,autoPanOnConnect:Fl,autoPanOnNodeDrag:jl,autoPanSpeed:Hl,onError:Vl,connectionRadius:zl,isValidConnection:Bl,selectNodesOnDrag:ie,nodeDragThreshold:Yl,onBeforeDelete:L,paneClickDistance:ti,debug:Zl,ariaLabelConfig:Ql}),_.jsx(lm,{onSelectionChange:O}),xl,_.jsx(im,{proOptions:Dl,position:Tl}),_.jsx(rm,{rfId:Sr,disableKeyboardA11y:ii})]})})}var $0=oc(O0);function L0(e){const[t,n]=w.useState(e),r=w.useCallback(o=>n(i=>nc(o,i)),[]);return[t,n,r]}function F0(e){const[t,n]=w.useState(e),r=w.useCallback(o=>n(i=>rc(o,i)),[]);return[t,n,r]}function j0({dimensions:e,lineWidth:t,variant:n,className:r}){return _.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:se(["react-flow__background-pattern",n,r])})}function H0({radius:e,className:t}){return _.jsx("circle",{cx:e,cy:e,r:e,className:se(["react-flow__background-pattern","dots",t])})}var Xe;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Xe||(Xe={}));const z0={[Xe.Dots]:1,[Xe.Lines]:1,[Xe.Cross]:6},B0=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function Ac({id:e,variant:t=Xe.Dots,gap:n=20,size:r,lineWidth:o=1,offset:i=0,color:s,bgColor:a,style:c,className:l,patternClassName:u}){const f=w.useRef(null),{transform:d,patternId:h}=ee(B0,oe),m=r||z0[t],p=t===Xe.Dots,y=t===Xe.Cross,x=Array.isArray(n)?n:[n,n],E=[x[0]*d[2]||1,x[1]*d[2]||1],g=m*d[2],v=Array.isArray(i)?i:[i,i],S=y?[g,g]:E,N=[v[0]*d[2]||1+S[0]/2,v[1]*d[2]||1+S[1]/2],C=`${h}${e||""}`;return _.jsxs("svg",{className:se(["react-flow__background",l]),style:{...c,...dr,"--xy-background-color-props":a,"--xy-background-pattern-color-props":s},ref:f,"data-testid":"rf__background",children:[_.jsx("pattern",{id:C,x:d[0]%E[0],y:d[1]%E[1],width:E[0],height:E[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${N[0]},-${N[1]})`,children:p?_.jsx(H0,{radius:g/2,className:u}):_.jsx(j0,{dimensions:S,lineWidth:o,variant:t,className:u})}),_.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${C})`})]})}Ac.displayName="Background";const V0=w.memo(Ac);function W0(){return _.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:_.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function Y0(){return _.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:_.jsx("path",{d:"M0 0h32v4.2H0z"})})}function X0(){return _.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:_.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function G0(){return _.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:_.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function U0(){return _.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:_.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function bn({children:e,className:t,...n}){return _.jsx("button",{type:"button",className:se(["react-flow__controls-button",t]),...n,children:e})}const K0=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function Pc({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:o,onZoomIn:i,onZoomOut:s,onFitView:a,onInteractiveChange:c,className:l,children:u,position:f="bottom-left",orientation:d="vertical","aria-label":h}){const m=re(),{isInteractive:p,minZoomReached:y,maxZoomReached:x,ariaLabelConfig:E}=ee(K0,oe),{zoomIn:g,zoomOut:v,fitView:S}=$o(),N=()=>{g(),i==null||i()},C=()=>{v(),s==null||s()},R=()=>{S(o),a==null||a()},T=()=>{m.setState({nodesDraggable:!p,nodesConnectable:!p,elementsSelectable:!p}),c==null||c(!p)},D=d==="horizontal"?"horizontal":"vertical";return _.jsxs(fr,{className:se(["react-flow__controls",D,l]),position:f,style:e,"data-testid":"rf__controls","aria-label":h??E["controls.ariaLabel"],children:[t&&_.jsxs(_.Fragment,{children:[_.jsx(bn,{onClick:N,className:"react-flow__controls-zoomin",title:E["controls.zoomIn.ariaLabel"],"aria-label":E["controls.zoomIn.ariaLabel"],disabled:x,children:_.jsx(W0,{})}),_.jsx(bn,{onClick:C,className:"react-flow__controls-zoomout",title:E["controls.zoomOut.ariaLabel"],"aria-label":E["controls.zoomOut.ariaLabel"],disabled:y,children:_.jsx(Y0,{})})]}),n&&_.jsx(bn,{className:"react-flow__controls-fitview",onClick:R,title:E["controls.fitView.ariaLabel"],"aria-label":E["controls.fitView.ariaLabel"],children:_.jsx(X0,{})}),r&&_.jsx(bn,{className:"react-flow__controls-interactive",onClick:T,title:E["controls.interactive.ariaLabel"],"aria-label":E["controls.interactive.ariaLabel"],children:p?_.jsx(U0,{}):_.jsx(G0,{})}),u]})}Pc.displayName="Controls";const q0=w.memo(Pc);function Z0({id:e,x:t,y:n,width:r,height:o,style:i,color:s,strokeColor:a,strokeWidth:c,className:l,borderRadius:u,shapeRendering:f,selected:d,onClick:h}){const{background:m,backgroundColor:p}=i||{},y=s||m||p;return _.jsx("rect",{className:se(["react-flow__minimap-node",{selected:d},l]),x:t,y:n,rx:u,ry:u,width:r,height:o,style:{fill:y,stroke:a,strokeWidth:c},shapeRendering:f,onClick:h?x=>h(x,e):void 0})}const Q0=w.memo(Z0),J0=e=>e.nodes.map(t=>t.id),Fr=e=>e instanceof Function?e:()=>e;function ey({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:o,nodeComponent:i=Q0,onClick:s}){const a=ee(J0,oe),c=Fr(t),l=Fr(e),u=Fr(n),f=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return _.jsx(_.Fragment,{children:a.map(d=>_.jsx(ny,{id:d,nodeColorFunc:c,nodeStrokeColorFunc:l,nodeClassNameFunc:u,nodeBorderRadius:r,nodeStrokeWidth:o,NodeComponent:i,onClick:s,shapeRendering:f},d))})}function ty({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:o,nodeStrokeWidth:i,shapeRendering:s,NodeComponent:a,onClick:c}){const{node:l,x:u,y:f,width:d,height:h}=ee(m=>{const{internals:p}=m.nodeLookup.get(e),y=p.userNode,{x,y:E}=p.positionAbsolute,{width:g,height:v}=Fe(y);return{node:y,x,y:E,width:g,height:v}},oe);return!l||l.hidden||!Ra(l)?null:_.jsx(a,{x:u,y:f,width:d,height:h,style:l.style,selected:!!l.selected,className:r(l),color:t(l),borderRadius:o,strokeColor:n(l),strokeWidth:i,shapeRendering:s,onClick:c,id:l.id})}const ny=w.memo(ty);var ry=w.memo(ey);const oy=200,iy=150,sy=e=>!e.hidden,ay=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?Pa(en(e.nodeLookup,{filter:sy}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},cy="react-flow__minimap-desc";function Rc({style:e,className:t,nodeStrokeColor:n,nodeColor:r,nodeClassName:o="",nodeBorderRadius:i=5,nodeStrokeWidth:s,nodeComponent:a,bgColor:c,maskColor:l,maskStrokeColor:u,maskStrokeWidth:f,position:d="bottom-right",onClick:h,onNodeClick:m,pannable:p=!1,zoomable:y=!1,ariaLabel:x,inversePan:E,zoomStep:g=10,offsetScale:v=5}){const S=re(),N=w.useRef(null),{boundingRect:C,viewBB:R,rfId:T,panZoom:D,translateExtent:$,flowWidth:F,flowHeight:O,ariaLabelConfig:b}=ee(ay,oe),I=(e==null?void 0:e.width)??oy,A=(e==null?void 0:e.height)??iy,P=C.width/I,k=C.height/A,M=Math.max(P,k),L=M*I,j=M*A,H=v*M,W=C.x-(L-C.width)/2-H,B=C.y-(j-C.height)/2-H,Y=L+H*2,X=j+H*2,U=`${cy}-${T}`,z=w.useRef(0),V=w.useRef();z.current=M,w.useEffect(()=>{if(N.current&&D)return V.current=Eg({domNode:N.current,panZoom:D,getTransform:()=>S.getState().transform,getViewScale:()=>z.current}),()=>{var J;(J=V.current)==null||J.destroy()}},[D]),w.useEffect(()=>{var J;(J=V.current)==null||J.update({translateExtent:$,width:F,height:O,inversePan:E,pannable:p,zoomStep:g,zoomable:y})},[p,y,E,g,$,F,O]);const q=h?J=>{var ie;const[Q,ne]=((ie=V.current)==null?void 0:ie.pointer(J))||[0,0];h(J,{x:Q,y:ne})}:void 0,Z=m?w.useCallback((J,Q)=>{const ne=S.getState().nodeLookup.get(Q).internals.userNode;m(J,ne)},[]):void 0,G=x??b["minimap.ariaLabel"];return _.jsx(fr,{position:d,style:{...e,"--xy-minimap-background-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-background-color-props":typeof l=="string"?l:void 0,"--xy-minimap-mask-stroke-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-stroke-width-props":typeof f=="number"?f*M:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof s=="number"?s:void 0},className:se(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:_.jsxs("svg",{width:I,height:A,viewBox:`${W} ${B} ${Y} ${X}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":U,ref:N,onClick:q,children:[G&&_.jsx("title",{id:U,children:G}),_.jsx(ry,{onClick:Z,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:i,nodeClassName:o,nodeStrokeWidth:s,nodeComponent:a}),_.jsx("path",{className:"react-flow__minimap-mask",d:`M${W-H},${B-H}h${Y+H*2}v${X+H*2}h${-Y-H*2}z
        M${R.x},${R.y}h${R.width}v${R.height}h${-R.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}Rc.displayName="MiniMap";const uy=w.memo(Rc),ly=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,fy={[_t.Line]:"right",[_t.Handle]:"bottom-right"};function dy({nodeId:e,position:t,variant:n=_t.Handle,className:r,style:o=void 0,children:i,color:s,minWidth:a=10,minHeight:c=10,maxWidth:l=Number.MAX_VALUE,maxHeight:u=Number.MAX_VALUE,keepAspectRatio:f=!1,resizeDirection:d,autoScale:h=!0,shouldResize:m,onResizeStart:p,onResize:y,onResizeEnd:x}){const E=cc(),g=typeof e=="string"?e:E,v=re(),S=w.useRef(null),N=n===_t.Handle,C=ee(w.useCallback(ly(N&&h),[N,h]),oe),R=w.useRef(null),T=t??fy[n];w.useEffect(()=>{if(!(!S.current||!g))return R.current||(R.current=Fg({domNode:S.current,nodeId:g,getStoreItems:()=>{const{nodeLookup:$,transform:F,snapGrid:O,snapToGrid:b,nodeOrigin:I,domNode:A}=v.getState();return{nodeLookup:$,transform:F,snapGrid:O,snapToGrid:b,nodeOrigin:I,paneDomNode:A}},onChange:($,F)=>{const{triggerNodeChanges:O,nodeLookup:b,parentLookup:I,nodeOrigin:A}=v.getState(),P=[],k={x:$.x,y:$.y},M=b.get(g);if(M&&M.expandParent&&M.parentId){const L=M.origin??A,j=$.width??M.measured.width??0,H=$.height??M.measured.height??0,W={id:M.id,parentId:M.parentId,rect:{width:j,height:H,...Ia({x:$.x??M.position.x,y:$.y??M.position.y},{width:j,height:H},M.parentId,b,L)}},B=Oo([W],b,I,A);P.push(...B),k.x=$.x?Math.max(L[0]*j,$.x):void 0,k.y=$.y?Math.max(L[1]*H,$.y):void 0}if(k.x!==void 0&&k.y!==void 0){const L={id:g,type:"position",position:{...k}};P.push(L)}if($.width!==void 0&&$.height!==void 0){const j={id:g,type:"dimensions",resizing:!0,setAttributes:d?d==="horizontal"?"width":"height":!0,dimensions:{width:$.width,height:$.height}};P.push(j)}for(const L of F){const j={...L,type:"position"};P.push(j)}O(P)},onEnd:({width:$,height:F})=>{const O={id:g,type:"dimensions",resizing:!1,dimensions:{width:$,height:F}};v.getState().triggerNodeChanges([O])}})),R.current.update({controlPosition:T,boundaries:{minWidth:a,minHeight:c,maxWidth:l,maxHeight:u},keepAspectRatio:f,resizeDirection:d,onResizeStart:p,onResize:y,onResizeEnd:x,shouldResize:m}),()=>{var $;($=R.current)==null||$.destroy()}},[T,a,c,l,u,f,p,y,x,m]);const D=T.split("-");return _.jsx("div",{className:se(["react-flow__resize-control","nodrag",...D,n,r]),ref:S,style:{...o,scale:C,...s&&{[N?"backgroundColor":"borderColor"]:s}},children:i})}w.memo(dy);const hy=[],py=[];function gy(){const e=js(c=>c.theme.mode);console.log(e);const[t,n,r]=L0(hy),[o,i,s]=F0(py),a=w.useCallback(c=>i(l=>Fa(c,l)),[i]);return _.jsx("div",{className:"flex-1 overflow-hidden",children:_.jsxs($0,{nodes:t,edges:o,onNodesChange:r,onEdgesChange:s,onConnect:a,colorMode:e,style:{height:"100%",width:"100%"},fitView:!0,children:[_.jsx(q0,{orientation:"horizontal",className:"flex gap-2 !border-none"}),_.jsx(uy,{}),_.jsx(V0,{variant:"dots",gap:20,size:1})]})})}/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const my=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),yy=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),ps=e=>{const t=yy(e);return t.charAt(0).toUpperCase()+t.slice(1)},Ic=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),xy=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:i,iconNode:s,...a},c)=>w.createElement("svg",{ref:c,...vy,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Ic("lucide",o),...!i&&!xy(a)&&{"aria-hidden":"true"},...a},[...s.map(([l,u])=>w.createElement(l,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=(e,t)=>{const n=w.forwardRef(({className:r,...o},i)=>w.createElement(wy,{ref:i,iconNode:t,className:Ic(`lucide-${my(ps(e))}`,`lucide-${e}`,r),...o}));return n.displayName=ps(e),n};/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const by=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Ey=pr("log-out",by);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _y=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],Sy=pr("monitor",_y);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cy=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],gs=pr("moon",Cy);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],ms=pr("sun",My);function te(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function nn(e,t=[]){let n=[];function r(i,s){const a=w.createContext(s),c=n.length;n=[...n,s];const l=f=>{var x;const{scope:d,children:h,...m}=f,p=((x=d==null?void 0:d[e])==null?void 0:x[c])||a,y=w.useMemo(()=>m,Object.values(m));return _.jsx(p.Provider,{value:y,children:h})};l.displayName=i+"Provider";function u(f,d){var p;const h=((p=d==null?void 0:d[e])==null?void 0:p[c])||a,m=w.useContext(h);if(m)return m;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[l,u]}const o=()=>{const i=n.map(s=>w.createContext(s));return function(a){const c=(a==null?void 0:a[e])||i;return w.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return o.scopeName=e,[r,Ny(o,...t)]}function Ny(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(i){const s=r.reduce((a,{useScope:c,scopeName:l})=>{const f=c(i)[`__scope${l}`];return{...a,...f}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}var Ge=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},Ay=Hs[" useInsertionEffect ".trim().toString()]||Ge;function kc({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[o,i,s]=Py({defaultProp:t,onChange:n}),a=e!==void 0,c=a?e:o;{const u=w.useRef(e!==void 0);w.useEffect(()=>{const f=u.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,r])}const l=w.useCallback(u=>{var f;if(a){const d=Ry(u)?u(e):u;d!==e&&((f=s.current)==null||f.call(s,d))}else i(u)},[a,e,i,s]);return[c,l]}function Py({defaultProp:e,onChange:t}){const[n,r]=w.useState(e),o=w.useRef(n),i=w.useRef(t);return Ay(()=>{i.current=t},[t]),w.useEffect(()=>{var s;o.current!==n&&((s=i.current)==null||s.call(i,n),o.current=n)},[n,o]),[n,r,i]}function Ry(e){return typeof e=="function"}function Tc(e){const t=e+"CollectionProvider",[n,r]=nn(t),[o,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),s=p=>{const{scope:y,children:x}=p,E=Ve.useRef(null),g=Ve.useRef(new Map).current;return _.jsx(o,{scope:y,itemMap:g,collectionRef:E,children:x})};s.displayName=t;const a=e+"CollectionSlot",c=qr(a),l=Ve.forwardRef((p,y)=>{const{scope:x,children:E}=p,g=i(a,x),v=le(y,g.collectionRef);return _.jsx(c,{ref:v,children:E})});l.displayName=a;const u=e+"CollectionItemSlot",f="data-radix-collection-item",d=qr(u),h=Ve.forwardRef((p,y)=>{const{scope:x,children:E,...g}=p,v=Ve.useRef(null),S=le(y,v),N=i(u,x);return Ve.useEffect(()=>(N.itemMap.set(v,{ref:v,...g}),()=>void N.itemMap.delete(v))),_.jsx(d,{[f]:"",ref:S,children:E})});h.displayName=u;function m(p){const y=i(e+"CollectionConsumer",p);return Ve.useCallback(()=>{const E=y.collectionRef.current;if(!E)return[];const g=Array.from(E.querySelectorAll(`[${f}]`));return Array.from(y.itemMap.values()).sort((N,C)=>g.indexOf(N.ref.current)-g.indexOf(C.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:s,Slot:l,ItemSlot:h},m,r]}var Iy=w.createContext(void 0);function Dc(e){const t=w.useContext(Iy);return e||t||"ltr"}function Oe(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),w.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function ky(e,t=globalThis==null?void 0:globalThis.document){const n=Oe(e);w.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var Ty="DismissableLayer",fo="dismissableLayer.update",Dy="dismissableLayer.pointerDownOutside",Oy="dismissableLayer.focusOutside",ys,Oc=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),$c=w.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:i,onInteractOutside:s,onDismiss:a,...c}=e,l=w.useContext(Oc),[u,f]=w.useState(null),d=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=w.useState({}),m=le(t,C=>f(C)),p=Array.from(l.layers),[y]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),x=p.indexOf(y),E=u?p.indexOf(u):-1,g=l.layersWithOutsidePointerEventsDisabled.size>0,v=E>=x,S=Fy(C=>{const R=C.target,T=[...l.branches].some(D=>D.contains(R));!v||T||(o==null||o(C),s==null||s(C),C.defaultPrevented||a==null||a())},d),N=jy(C=>{const R=C.target;[...l.branches].some(D=>D.contains(R))||(i==null||i(C),s==null||s(C),C.defaultPrevented||a==null||a())},d);return ky(C=>{E===l.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},d),w.useEffect(()=>{if(u)return n&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(ys=d.body.style.pointerEvents,d.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(u)),l.layers.add(u),xs(),()=>{n&&l.layersWithOutsidePointerEventsDisabled.size===1&&(d.body.style.pointerEvents=ys)}},[u,d,n,l]),w.useEffect(()=>()=>{u&&(l.layers.delete(u),l.layersWithOutsidePointerEventsDisabled.delete(u),xs())},[u,l]),w.useEffect(()=>{const C=()=>h({});return document.addEventListener(fo,C),()=>document.removeEventListener(fo,C)},[]),_.jsx(ae.div,{...c,ref:m,style:{pointerEvents:g?v?"auto":"none":void 0,...e.style},onFocusCapture:te(e.onFocusCapture,N.onFocusCapture),onBlurCapture:te(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:te(e.onPointerDownCapture,S.onPointerDownCapture)})});$c.displayName=Ty;var $y="DismissableLayerBranch",Ly=w.forwardRef((e,t)=>{const n=w.useContext(Oc),r=w.useRef(null),o=le(t,r);return w.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),_.jsx(ae.div,{...e,ref:o})});Ly.displayName=$y;function Fy(e,t=globalThis==null?void 0:globalThis.document){const n=Oe(e),r=w.useRef(!1),o=w.useRef(()=>{});return w.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let c=function(){Lc(Dy,n,l,{discrete:!0})};const l={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=c,t.addEventListener("click",o.current,{once:!0})):c()}else t.removeEventListener("click",o.current);r.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",i),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function jy(e,t=globalThis==null?void 0:globalThis.document){const n=Oe(e),r=w.useRef(!1);return w.useEffect(()=>{const o=i=>{i.target&&!r.current&&Lc(Oy,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function xs(){const e=new CustomEvent(fo);document.dispatchEvent(e)}function Lc(e,t,n,{discrete:r}){const o=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?Bs(o,i):o.dispatchEvent(i)}var jr=0;function Hy(){w.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??vs()),document.body.insertAdjacentElement("beforeend",e[1]??vs()),jr++,()=>{jr===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),jr--}},[])}function vs(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Hr="focusScope.autoFocusOnMount",zr="focusScope.autoFocusOnUnmount",ws={bubbles:!1,cancelable:!0},zy="FocusScope",Fc=w.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:i,...s}=e,[a,c]=w.useState(null),l=Oe(o),u=Oe(i),f=w.useRef(null),d=le(t,p=>c(p)),h=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(r){let p=function(g){if(h.paused||!a)return;const v=g.target;a.contains(v)?f.current=v:We(f.current,{select:!0})},y=function(g){if(h.paused||!a)return;const v=g.relatedTarget;v!==null&&(a.contains(v)||We(f.current,{select:!0}))},x=function(g){if(document.activeElement===document.body)for(const S of g)S.removedNodes.length>0&&We(a)};document.addEventListener("focusin",p),document.addEventListener("focusout",y);const E=new MutationObserver(x);return a&&E.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",y),E.disconnect()}}},[r,a,h.paused]),w.useEffect(()=>{if(a){Es.add(h);const p=document.activeElement;if(!a.contains(p)){const x=new CustomEvent(Hr,ws);a.addEventListener(Hr,l),a.dispatchEvent(x),x.defaultPrevented||(By(Gy(jc(a)),{select:!0}),document.activeElement===p&&We(a))}return()=>{a.removeEventListener(Hr,l),setTimeout(()=>{const x=new CustomEvent(zr,ws);a.addEventListener(zr,u),a.dispatchEvent(x),x.defaultPrevented||We(p??document.body,{select:!0}),a.removeEventListener(zr,u),Es.remove(h)},0)}}},[a,l,u,h]);const m=w.useCallback(p=>{if(!n&&!r||h.paused)return;const y=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,x=document.activeElement;if(y&&x){const E=p.currentTarget,[g,v]=Vy(E);g&&v?!p.shiftKey&&x===v?(p.preventDefault(),n&&We(g,{select:!0})):p.shiftKey&&x===g&&(p.preventDefault(),n&&We(v,{select:!0})):x===E&&p.preventDefault()}},[n,r,h.paused]);return _.jsx(ae.div,{tabIndex:-1,...s,ref:d,onKeyDown:m})});Fc.displayName=zy;function By(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(We(r,{select:t}),document.activeElement!==n)return}function Vy(e){const t=jc(e),n=bs(t,e),r=bs(t.reverse(),e);return[n,r]}function jc(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function bs(e,t){for(const n of e)if(!Wy(n,{upTo:t}))return n}function Wy(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Yy(e){return e instanceof HTMLInputElement&&"select"in e}function We(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Yy(e)&&t&&e.select()}}var Es=Xy();function Xy(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=_s(e,t),e.unshift(t)},remove(t){var n;e=_s(e,t),(n=e[0])==null||n.resume()}}}function _s(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function Gy(e){return e.filter(t=>t.tagName!=="A")}var Uy=Hs[" useId ".trim().toString()]||(()=>{}),Ky=0;function ho(e){const[t,n]=w.useState(Uy());return Ge(()=>{n(r=>r??String(Ky++))},[e]),e||(t?`radix-${t}`:"")}const qy=["top","right","bottom","left"],Ue=Math.min,fe=Math.max,Kn=Math.round,En=Math.floor,Me=e=>({x:e,y:e}),Zy={left:"right",right:"left",bottom:"top",top:"bottom"},Qy={start:"end",end:"start"};function po(e,t,n){return fe(e,Ue(t,n))}function $e(e,t){return typeof e=="function"?e(t):e}function Le(e){return e.split("-")[0]}function Ct(e){return e.split("-")[1]}function Fo(e){return e==="x"?"y":"x"}function jo(e){return e==="y"?"height":"width"}function Se(e){return["top","bottom"].includes(Le(e))?"y":"x"}function Ho(e){return Fo(Se(e))}function Jy(e,t,n){n===void 0&&(n=!1);const r=Ct(e),o=Ho(e),i=jo(o);let s=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=qn(s)),[s,qn(s)]}function ex(e){const t=qn(e);return[go(e),t,go(t)]}function go(e){return e.replace(/start|end/g,t=>Qy[t])}function tx(e,t,n){const r=["left","right"],o=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?i:s;default:return[]}}function nx(e,t,n,r){const o=Ct(e);let i=tx(Le(e),n==="start",r);return o&&(i=i.map(s=>s+"-"+o),t&&(i=i.concat(i.map(go)))),i}function qn(e){return e.replace(/left|right|bottom|top/g,t=>Zy[t])}function rx(e){return{top:0,right:0,bottom:0,left:0,...e}}function Hc(e){return typeof e!="number"?rx(e):{top:e,right:e,bottom:e,left:e}}function Zn(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function Ss(e,t,n){let{reference:r,floating:o}=e;const i=Se(t),s=Ho(t),a=jo(s),c=Le(t),l=i==="y",u=r.x+r.width/2-o.width/2,f=r.y+r.height/2-o.height/2,d=r[a]/2-o[a]/2;let h;switch(c){case"top":h={x:u,y:r.y-o.height};break;case"bottom":h={x:u,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:f};break;case"left":h={x:r.x-o.width,y:f};break;default:h={x:r.x,y:r.y}}switch(Ct(t)){case"start":h[s]-=d*(n&&l?-1:1);break;case"end":h[s]+=d*(n&&l?-1:1);break}return h}const ox=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:s}=n,a=i.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(t));let l=await s.getElementRects({reference:e,floating:t,strategy:o}),{x:u,y:f}=Ss(l,r,c),d=r,h={},m=0;for(let p=0;p<a.length;p++){const{name:y,fn:x}=a[p],{x:E,y:g,data:v,reset:S}=await x({x:u,y:f,initialPlacement:r,placement:d,strategy:o,middlewareData:h,rects:l,platform:s,elements:{reference:e,floating:t}});u=E??u,f=g??f,h={...h,[y]:{...h[y],...v}},S&&m<=50&&(m++,typeof S=="object"&&(S.placement&&(d=S.placement),S.rects&&(l=S.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:o}):S.rects),{x:u,y:f}=Ss(l,d,c)),p=-1)}return{x:u,y:f,placement:d,strategy:o,middlewareData:h}};async function Gt(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:s,elements:a,strategy:c}=e,{boundary:l="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:d=!1,padding:h=0}=$e(t,e),m=Hc(h),y=a[d?f==="floating"?"reference":"floating":f],x=Zn(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(y)))==null||n?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:l,rootBoundary:u,strategy:c})),E=f==="floating"?{x:r,y:o,width:s.floating.width,height:s.floating.height}:s.reference,g=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),v=await(i.isElement==null?void 0:i.isElement(g))?await(i.getScale==null?void 0:i.getScale(g))||{x:1,y:1}:{x:1,y:1},S=Zn(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:E,offsetParent:g,strategy:c}):E);return{top:(x.top-S.top+m.top)/v.y,bottom:(S.bottom-x.bottom+m.bottom)/v.y,left:(x.left-S.left+m.left)/v.x,right:(S.right-x.right+m.right)/v.x}}const ix=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:i,platform:s,elements:a,middlewareData:c}=t,{element:l,padding:u=0}=$e(e,t)||{};if(l==null)return{};const f=Hc(u),d={x:n,y:r},h=Ho(o),m=jo(h),p=await s.getDimensions(l),y=h==="y",x=y?"top":"left",E=y?"bottom":"right",g=y?"clientHeight":"clientWidth",v=i.reference[m]+i.reference[h]-d[h]-i.floating[m],S=d[h]-i.reference[h],N=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l));let C=N?N[g]:0;(!C||!await(s.isElement==null?void 0:s.isElement(N)))&&(C=a.floating[g]||i.floating[m]);const R=v/2-S/2,T=C/2-p[m]/2-1,D=Ue(f[x],T),$=Ue(f[E],T),F=D,O=C-p[m]-$,b=C/2-p[m]/2+R,I=po(F,b,O),A=!c.arrow&&Ct(o)!=null&&b!==I&&i.reference[m]/2-(b<F?D:$)-p[m]/2<0,P=A?b<F?b-F:b-O:0;return{[h]:d[h]+P,data:{[h]:I,centerOffset:b-I-P,...A&&{alignmentOffset:P}},reset:A}}}),sx=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:s,initialPlacement:a,platform:c,elements:l}=t,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:p=!0,...y}=$e(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=Le(o),E=Se(a),g=Le(a)===a,v=await(c.isRTL==null?void 0:c.isRTL(l.floating)),S=d||(g||!p?[qn(a)]:ex(a)),N=m!=="none";!d&&N&&S.push(...nx(a,p,m,v));const C=[a,...S],R=await Gt(t,y),T=[];let D=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&T.push(R[x]),f){const b=Jy(o,s,v);T.push(R[b[0]],R[b[1]])}if(D=[...D,{placement:o,overflows:T}],!T.every(b=>b<=0)){var $,F;const b=((($=i.flip)==null?void 0:$.index)||0)+1,I=C[b];if(I&&(!(f==="alignment"?E!==Se(I):!1)||D.every(k=>k.overflows[0]>0&&Se(k.placement)===E)))return{data:{index:b,overflows:D},reset:{placement:I}};let A=(F=D.filter(P=>P.overflows[0]<=0).sort((P,k)=>P.overflows[1]-k.overflows[1])[0])==null?void 0:F.placement;if(!A)switch(h){case"bestFit":{var O;const P=(O=D.filter(k=>{if(N){const M=Se(k.placement);return M===E||M==="y"}return!0}).map(k=>[k.placement,k.overflows.filter(M=>M>0).reduce((M,L)=>M+L,0)]).sort((k,M)=>k[1]-M[1])[0])==null?void 0:O[0];P&&(A=P);break}case"initialPlacement":A=a;break}if(o!==A)return{reset:{placement:A}}}return{}}}};function Cs(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Ms(e){return qy.some(t=>e[t]>=0)}const ax=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=$e(e,t);switch(r){case"referenceHidden":{const i=await Gt(t,{...o,elementContext:"reference"}),s=Cs(i,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:Ms(s)}}}case"escaped":{const i=await Gt(t,{...o,altBoundary:!0}),s=Cs(i,n.floating);return{data:{escapedOffsets:s,escaped:Ms(s)}}}default:return{}}}}};async function cx(e,t){const{placement:n,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),s=Le(n),a=Ct(n),c=Se(n)==="y",l=["left","top"].includes(s)?-1:1,u=i&&c?-1:1,f=$e(t,e);let{mainAxis:d,crossAxis:h,alignmentAxis:m}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof m=="number"&&(h=a==="end"?m*-1:m),c?{x:h*u,y:d*l}:{x:d*l,y:h*u}}const ux=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:i,placement:s,middlewareData:a}=t,c=await cx(t,e);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:o+c.x,y:i+c.y,data:{...c,placement:s}}}}},lx=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:a={fn:y=>{let{x,y:E}=y;return{x,y:E}}},...c}=$e(e,t),l={x:n,y:r},u=await Gt(t,c),f=Se(Le(o)),d=Fo(f);let h=l[d],m=l[f];if(i){const y=d==="y"?"top":"left",x=d==="y"?"bottom":"right",E=h+u[y],g=h-u[x];h=po(E,h,g)}if(s){const y=f==="y"?"top":"left",x=f==="y"?"bottom":"right",E=m+u[y],g=m-u[x];m=po(E,m,g)}const p=a.fn({...t,[d]:h,[f]:m});return{...p,data:{x:p.x-n,y:p.y-r,enabled:{[d]:i,[f]:s}}}}}},fx=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:i,middlewareData:s}=t,{offset:a=0,mainAxis:c=!0,crossAxis:l=!0}=$e(e,t),u={x:n,y:r},f=Se(o),d=Fo(f);let h=u[d],m=u[f];const p=$e(a,t),y=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const g=d==="y"?"height":"width",v=i.reference[d]-i.floating[g]+y.mainAxis,S=i.reference[d]+i.reference[g]-y.mainAxis;h<v?h=v:h>S&&(h=S)}if(l){var x,E;const g=d==="y"?"width":"height",v=["top","left"].includes(Le(o)),S=i.reference[f]-i.floating[g]+(v&&((x=s.offset)==null?void 0:x[f])||0)+(v?0:y.crossAxis),N=i.reference[f]+i.reference[g]+(v?0:((E=s.offset)==null?void 0:E[f])||0)-(v?y.crossAxis:0);m<S?m=S:m>N&&(m=N)}return{[d]:h,[f]:m}}}},dx=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:i,platform:s,elements:a}=t,{apply:c=()=>{},...l}=$e(e,t),u=await Gt(t,l),f=Le(o),d=Ct(o),h=Se(o)==="y",{width:m,height:p}=i.floating;let y,x;f==="top"||f==="bottom"?(y=f,x=d===(await(s.isRTL==null?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(x=f,y=d==="end"?"top":"bottom");const E=p-u.top-u.bottom,g=m-u.left-u.right,v=Ue(p-u[y],E),S=Ue(m-u[x],g),N=!t.middlewareData.shift;let C=v,R=S;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(R=g),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(C=E),N&&!d){const D=fe(u.left,0),$=fe(u.right,0),F=fe(u.top,0),O=fe(u.bottom,0);h?R=m-2*(D!==0||$!==0?D+$:fe(u.left,u.right)):C=p-2*(F!==0||O!==0?F+O:fe(u.top,u.bottom))}await c({...t,availableWidth:R,availableHeight:C});const T=await s.getDimensions(a.floating);return m!==T.width||p!==T.height?{reset:{rects:!0}}:{}}}};function gr(){return typeof window<"u"}function Mt(e){return zc(e)?(e.nodeName||"").toLowerCase():"#document"}function he(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Re(e){var t;return(t=(zc(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function zc(e){return gr()?e instanceof Node||e instanceof he(e).Node:!1}function ve(e){return gr()?e instanceof Element||e instanceof he(e).Element:!1}function Ae(e){return gr()?e instanceof HTMLElement||e instanceof he(e).HTMLElement:!1}function Ns(e){return!gr()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof he(e).ShadowRoot}function rn(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=we(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function hx(e){return["table","td","th"].includes(Mt(e))}function mr(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function zo(e){const t=Bo(),n=ve(e)?we(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function px(e){let t=Ke(e);for(;Ae(t)&&!St(t);){if(zo(t))return t;if(mr(t))return null;t=Ke(t)}return null}function Bo(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function St(e){return["html","body","#document"].includes(Mt(e))}function we(e){return he(e).getComputedStyle(e)}function yr(e){return ve(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ke(e){if(Mt(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Ns(e)&&e.host||Re(e);return Ns(t)?t.host:t}function Bc(e){const t=Ke(e);return St(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ae(t)&&rn(t)?t:Bc(t)}function Ut(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=Bc(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),s=he(o);if(i){const a=mo(s);return t.concat(s,s.visualViewport||[],rn(o)?o:[],a&&n?Ut(a):[])}return t.concat(o,Ut(o,[],n))}function mo(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Vc(e){const t=we(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=Ae(e),i=o?e.offsetWidth:n,s=o?e.offsetHeight:r,a=Kn(n)!==i||Kn(r)!==s;return a&&(n=i,r=s),{width:n,height:r,$:a}}function Vo(e){return ve(e)?e:e.contextElement}function gt(e){const t=Vo(e);if(!Ae(t))return Me(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=Vc(t);let s=(i?Kn(n.width):n.width)/r,a=(i?Kn(n.height):n.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const gx=Me(0);function Wc(e){const t=he(e);return!Bo()||!t.visualViewport?gx:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function mx(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==he(e)?!1:t}function rt(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=Vo(e);let s=Me(1);t&&(r?ve(r)&&(s=gt(r)):s=gt(e));const a=mx(i,n,r)?Wc(i):Me(0);let c=(o.left+a.x)/s.x,l=(o.top+a.y)/s.y,u=o.width/s.x,f=o.height/s.y;if(i){const d=he(i),h=r&&ve(r)?he(r):r;let m=d,p=mo(m);for(;p&&r&&h!==m;){const y=gt(p),x=p.getBoundingClientRect(),E=we(p),g=x.left+(p.clientLeft+parseFloat(E.paddingLeft))*y.x,v=x.top+(p.clientTop+parseFloat(E.paddingTop))*y.y;c*=y.x,l*=y.y,u*=y.x,f*=y.y,c+=g,l+=v,m=he(p),p=mo(m)}}return Zn({width:u,height:f,x:c,y:l})}function Wo(e,t){const n=yr(e).scrollLeft;return t?t.left+n:rt(Re(e)).left+n}function Yc(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),o=r.left+t.scrollLeft-(n?0:Wo(e,r)),i=r.top+t.scrollTop;return{x:o,y:i}}function yx(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const i=o==="fixed",s=Re(r),a=t?mr(t.floating):!1;if(r===s||a&&i)return n;let c={scrollLeft:0,scrollTop:0},l=Me(1);const u=Me(0),f=Ae(r);if((f||!f&&!i)&&((Mt(r)!=="body"||rn(s))&&(c=yr(r)),Ae(r))){const h=rt(r);l=gt(r),u.x=h.x+r.clientLeft,u.y=h.y+r.clientTop}const d=s&&!f&&!i?Yc(s,c,!0):Me(0);return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-c.scrollLeft*l.x+u.x+d.x,y:n.y*l.y-c.scrollTop*l.y+u.y+d.y}}function xx(e){return Array.from(e.getClientRects())}function vx(e){const t=Re(e),n=yr(e),r=e.ownerDocument.body,o=fe(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=fe(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+Wo(e);const a=-n.scrollTop;return we(r).direction==="rtl"&&(s+=fe(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:s,y:a}}function wx(e,t){const n=he(e),r=Re(e),o=n.visualViewport;let i=r.clientWidth,s=r.clientHeight,a=0,c=0;if(o){i=o.width,s=o.height;const l=Bo();(!l||l&&t==="fixed")&&(a=o.offsetLeft,c=o.offsetTop)}return{width:i,height:s,x:a,y:c}}function bx(e,t){const n=rt(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=Ae(e)?gt(e):Me(1),s=e.clientWidth*i.x,a=e.clientHeight*i.y,c=o*i.x,l=r*i.y;return{width:s,height:a,x:c,y:l}}function As(e,t,n){let r;if(t==="viewport")r=wx(e,n);else if(t==="document")r=vx(Re(e));else if(ve(t))r=bx(t,n);else{const o=Wc(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Zn(r)}function Xc(e,t){const n=Ke(e);return n===t||!ve(n)||St(n)?!1:we(n).position==="fixed"||Xc(n,t)}function Ex(e,t){const n=t.get(e);if(n)return n;let r=Ut(e,[],!1).filter(a=>ve(a)&&Mt(a)!=="body"),o=null;const i=we(e).position==="fixed";let s=i?Ke(e):e;for(;ve(s)&&!St(s);){const a=we(s),c=zo(s);!c&&a.position==="fixed"&&(o=null),(i?!c&&!o:!c&&a.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||rn(s)&&!c&&Xc(e,s))?r=r.filter(u=>u!==s):o=a,s=Ke(s)}return t.set(e,r),r}function _x(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const s=[...n==="clippingAncestors"?mr(t)?[]:Ex(t,this._c):[].concat(n),r],a=s[0],c=s.reduce((l,u)=>{const f=As(t,u,o);return l.top=fe(f.top,l.top),l.right=Ue(f.right,l.right),l.bottom=Ue(f.bottom,l.bottom),l.left=fe(f.left,l.left),l},As(t,a,o));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Sx(e){const{width:t,height:n}=Vc(e);return{width:t,height:n}}function Cx(e,t,n){const r=Ae(t),o=Re(t),i=n==="fixed",s=rt(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const c=Me(0);function l(){c.x=Wo(o)}if(r||!r&&!i)if((Mt(t)!=="body"||rn(o))&&(a=yr(t)),r){const h=rt(t,!0,i,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else o&&l();i&&!r&&o&&l();const u=o&&!r&&!i?Yc(o,a):Me(0),f=s.left+a.scrollLeft-c.x-u.x,d=s.top+a.scrollTop-c.y-u.y;return{x:f,y:d,width:s.width,height:s.height}}function Br(e){return we(e).position==="static"}function Ps(e,t){if(!Ae(e)||we(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Re(e)===n&&(n=n.ownerDocument.body),n}function Gc(e,t){const n=he(e);if(mr(e))return n;if(!Ae(e)){let o=Ke(e);for(;o&&!St(o);){if(ve(o)&&!Br(o))return o;o=Ke(o)}return n}let r=Ps(e,t);for(;r&&hx(r)&&Br(r);)r=Ps(r,t);return r&&St(r)&&Br(r)&&!zo(r)?n:r||px(e)||n}const Mx=async function(e){const t=this.getOffsetParent||Gc,n=this.getDimensions,r=await n(e.floating);return{reference:Cx(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Nx(e){return we(e).direction==="rtl"}const Ax={convertOffsetParentRelativeRectToViewportRelativeRect:yx,getDocumentElement:Re,getClippingRect:_x,getOffsetParent:Gc,getElementRects:Mx,getClientRects:xx,getDimensions:Sx,getScale:gt,isElement:ve,isRTL:Nx};function Uc(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Px(e,t){let n=null,r;const o=Re(e);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const l=e.getBoundingClientRect(),{left:u,top:f,width:d,height:h}=l;if(a||t(),!d||!h)return;const m=En(f),p=En(o.clientWidth-(u+d)),y=En(o.clientHeight-(f+h)),x=En(u),g={rootMargin:-m+"px "+-p+"px "+-y+"px "+-x+"px",threshold:fe(0,Ue(1,c))||1};let v=!0;function S(N){const C=N[0].intersectionRatio;if(C!==c){if(!v)return s();C?s(!1,C):r=setTimeout(()=>{s(!1,1e-7)},1e3)}C===1&&!Uc(l,e.getBoundingClientRect())&&s(),v=!1}try{n=new IntersectionObserver(S,{...g,root:o.ownerDocument})}catch{n=new IntersectionObserver(S,g)}n.observe(e)}return s(!0),i}function Rx(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,l=Vo(e),u=o||i?[...l?Ut(l):[],...Ut(t)]:[];u.forEach(x=>{o&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const f=l&&a?Px(l,n):null;let d=-1,h=null;s&&(h=new ResizeObserver(x=>{let[E]=x;E&&E.target===l&&h&&(h.unobserve(t),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var g;(g=h)==null||g.observe(t)})),n()}),l&&!c&&h.observe(l),h.observe(t));let m,p=c?rt(e):null;c&&y();function y(){const x=rt(e);p&&!Uc(p,x)&&n(),p=x,m=requestAnimationFrame(y)}return n(),()=>{var x;u.forEach(E=>{o&&E.removeEventListener("scroll",n),i&&E.removeEventListener("resize",n)}),f==null||f(),(x=h)==null||x.disconnect(),h=null,c&&cancelAnimationFrame(m)}}const Ix=ux,kx=lx,Tx=sx,Dx=dx,Ox=ax,Rs=ix,$x=fx,Lx=(e,t,n)=>{const r=new Map,o={platform:Ax,...n},i={...o.platform,_c:r};return ox(e,t,{...o,platform:i})};var Fx=typeof document<"u",jx=function(){},Tn=Fx?w.useLayoutEffect:jx;function Qn(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Qn(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!Qn(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function Kc(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Is(e,t){const n=Kc(e);return Math.round(t*n)/n}function Vr(e){const t=w.useRef(e);return Tn(()=>{t.current=e}),t}function Hx(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:s}={},transform:a=!0,whileElementsMounted:c,open:l}=e,[u,f]=w.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[d,h]=w.useState(r);Qn(d,r)||h(r);const[m,p]=w.useState(null),[y,x]=w.useState(null),E=w.useCallback(k=>{k!==N.current&&(N.current=k,p(k))},[]),g=w.useCallback(k=>{k!==C.current&&(C.current=k,x(k))},[]),v=i||m,S=s||y,N=w.useRef(null),C=w.useRef(null),R=w.useRef(u),T=c!=null,D=Vr(c),$=Vr(o),F=Vr(l),O=w.useCallback(()=>{if(!N.current||!C.current)return;const k={placement:t,strategy:n,middleware:d};$.current&&(k.platform=$.current),Lx(N.current,C.current,k).then(M=>{const L={...M,isPositioned:F.current!==!1};b.current&&!Qn(R.current,L)&&(R.current=L,af.flushSync(()=>{f(L)}))})},[d,t,n,$,F]);Tn(()=>{l===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,f(k=>({...k,isPositioned:!1})))},[l]);const b=w.useRef(!1);Tn(()=>(b.current=!0,()=>{b.current=!1}),[]),Tn(()=>{if(v&&(N.current=v),S&&(C.current=S),v&&S){if(D.current)return D.current(v,S,O);O()}},[v,S,O,D,T]);const I=w.useMemo(()=>({reference:N,floating:C,setReference:E,setFloating:g}),[E,g]),A=w.useMemo(()=>({reference:v,floating:S}),[v,S]),P=w.useMemo(()=>{const k={position:n,left:0,top:0};if(!A.floating)return k;const M=Is(A.floating,u.x),L=Is(A.floating,u.y);return a?{...k,transform:"translate("+M+"px, "+L+"px)",...Kc(A.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:M,top:L}},[n,a,A.floating,u.x,u.y]);return w.useMemo(()=>({...u,update:O,refs:I,elements:A,floatingStyles:P}),[u,O,I,A,P])}const zx=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Rs({element:r.current,padding:o}).fn(n):{}:r?Rs({element:r,padding:o}).fn(n):{}}}},Bx=(e,t)=>({...Ix(e),options:[e,t]}),Vx=(e,t)=>({...kx(e),options:[e,t]}),Wx=(e,t)=>({...$x(e),options:[e,t]}),Yx=(e,t)=>({...Tx(e),options:[e,t]}),Xx=(e,t)=>({...Dx(e),options:[e,t]}),Gx=(e,t)=>({...Ox(e),options:[e,t]}),Ux=(e,t)=>({...zx(e),options:[e,t]});var Kx="Arrow",qc=w.forwardRef((e,t)=>{const{children:n,width:r=10,height:o=5,...i}=e;return _.jsx(ae.svg,{...i,ref:t,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:_.jsx("polygon",{points:"0,0 30,0 15,10"})})});qc.displayName=Kx;var qx=qc;function Zx(e){const[t,n]=w.useState(void 0);return Ge(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const i=o[0];let s,a;if("borderBoxSize"in i){const c=i.borderBoxSize,l=Array.isArray(c)?c[0]:c;s=l.inlineSize,a=l.blockSize}else s=e.offsetWidth,a=e.offsetHeight;n({width:s,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Yo="Popper",[Zc,Qc]=nn(Yo),[Qx,Jc]=Zc(Yo),eu=e=>{const{__scopePopper:t,children:n}=e,[r,o]=w.useState(null);return _.jsx(Qx,{scope:t,anchor:r,onAnchorChange:o,children:n})};eu.displayName=Yo;var tu="PopperAnchor",nu=w.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,i=Jc(tu,n),s=w.useRef(null),a=le(t,s);return w.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:_.jsx(ae.div,{...o,ref:a})});nu.displayName=tu;var Xo="PopperContent",[Jx,ev]=Zc(Xo),ru=w.forwardRef((e,t)=>{var U,z,V,q,Z,G;const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:i="center",alignOffset:s=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:l=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:d=!1,updatePositionStrategy:h="optimized",onPlaced:m,...p}=e,y=Jc(Xo,n),[x,E]=w.useState(null),g=le(t,J=>E(J)),[v,S]=w.useState(null),N=Zx(v),C=(N==null?void 0:N.width)??0,R=(N==null?void 0:N.height)??0,T=r+(i!=="center"?"-"+i:""),D=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},$=Array.isArray(l)?l:[l],F=$.length>0,O={padding:D,boundary:$.filter(nv),altBoundary:F},{refs:b,floatingStyles:I,placement:A,isPositioned:P,middlewareData:k}=Hx({strategy:"fixed",placement:T,whileElementsMounted:(...J)=>Rx(...J,{animationFrame:h==="always"}),elements:{reference:y.anchor},middleware:[Bx({mainAxis:o+R,alignmentAxis:s}),c&&Vx({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Wx():void 0,...O}),c&&Yx({...O}),Xx({...O,apply:({elements:J,rects:Q,availableWidth:ne,availableHeight:ie})=>{const{width:je,height:Nt}=Q.reference,He=J.floating.style;He.setProperty("--radix-popper-available-width",`${ne}px`),He.setProperty("--radix-popper-available-height",`${ie}px`),He.setProperty("--radix-popper-anchor-width",`${je}px`),He.setProperty("--radix-popper-anchor-height",`${Nt}px`)}}),v&&Ux({element:v,padding:a}),rv({arrowWidth:C,arrowHeight:R}),d&&Gx({strategy:"referenceHidden",...O})]}),[M,L]=su(A),j=Oe(m);Ge(()=>{P&&(j==null||j())},[P,j]);const H=(U=k.arrow)==null?void 0:U.x,W=(z=k.arrow)==null?void 0:z.y,B=((V=k.arrow)==null?void 0:V.centerOffset)!==0,[Y,X]=w.useState();return Ge(()=>{x&&X(window.getComputedStyle(x).zIndex)},[x]),_.jsx("div",{ref:b.setFloating,"data-radix-popper-content-wrapper":"",style:{...I,transform:P?I.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Y,"--radix-popper-transform-origin":[(q=k.transformOrigin)==null?void 0:q.x,(Z=k.transformOrigin)==null?void 0:Z.y].join(" "),...((G=k.hide)==null?void 0:G.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:_.jsx(Jx,{scope:n,placedSide:M,onArrowChange:S,arrowX:H,arrowY:W,shouldHideArrow:B,children:_.jsx(ae.div,{"data-side":M,"data-align":L,...p,ref:g,style:{...p.style,animation:P?void 0:"none"}})})})});ru.displayName=Xo;var ou="PopperArrow",tv={top:"bottom",right:"left",bottom:"top",left:"right"},iu=w.forwardRef(function(t,n){const{__scopePopper:r,...o}=t,i=ev(ou,r),s=tv[i.placedSide];return _.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:_.jsx(qx,{...o,ref:n,style:{...o.style,display:"block"}})})});iu.displayName=ou;function nv(e){return e!==null}var rv=e=>({name:"transformOrigin",options:e,fn(t){var y,x,E;const{placement:n,rects:r,middlewareData:o}=t,s=((y=o.arrow)==null?void 0:y.centerOffset)!==0,a=s?0:e.arrowWidth,c=s?0:e.arrowHeight,[l,u]=su(n),f={start:"0%",center:"50%",end:"100%"}[u],d=(((x=o.arrow)==null?void 0:x.x)??0)+a/2,h=(((E=o.arrow)==null?void 0:E.y)??0)+c/2;let m="",p="";return l==="bottom"?(m=s?f:`${d}px`,p=`${-c}px`):l==="top"?(m=s?f:`${d}px`,p=`${r.floating.height+c}px`):l==="right"?(m=`${-c}px`,p=s?f:`${h}px`):l==="left"&&(m=`${r.floating.width+c}px`,p=s?f:`${h}px`),{data:{x:m,y:p}}}});function su(e){const[t,n="center"]=e.split("-");return[t,n]}var ov=eu,iv=nu,sv=ru,av=iu,cv="Portal",au=w.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[o,i]=w.useState(!1);Ge(()=>i(!0),[]);const s=n||o&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return s?cf.createPortal(_.jsx(ae.div,{...r,ref:t}),s):null});au.displayName=cv;function uv(e,t){return w.useReducer((n,r)=>t[n][r]??n,e)}var on=e=>{const{present:t,children:n}=e,r=lv(t),o=typeof n=="function"?n({present:r.isPresent}):w.Children.only(n),i=le(r.ref,fv(o));return typeof n=="function"||r.isPresent?w.cloneElement(o,{ref:i}):null};on.displayName="Presence";function lv(e){const[t,n]=w.useState(),r=w.useRef(null),o=w.useRef(e),i=w.useRef("none"),s=e?"mounted":"unmounted",[a,c]=uv(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const l=_n(r.current);i.current=a==="mounted"?l:"none"},[a]),Ge(()=>{const l=r.current,u=o.current;if(u!==e){const d=i.current,h=_n(l);e?c("MOUNT"):h==="none"||(l==null?void 0:l.display)==="none"?c("UNMOUNT"):c(u&&d!==h?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,c]),Ge(()=>{if(t){let l;const u=t.ownerDocument.defaultView??window,f=h=>{const p=_n(r.current).includes(h.animationName);if(h.target===t&&p&&(c("ANIMATION_END"),!o.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",l=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},d=h=>{h.target===t&&(i.current=_n(r.current))};return t.addEventListener("animationstart",d),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{u.clearTimeout(l),t.removeEventListener("animationstart",d),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:w.useCallback(l=>{r.current=l?getComputedStyle(l):null,n(l)},[])}}function _n(e){return(e==null?void 0:e.animationName)||"none"}function fv(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Wr="rovingFocusGroup.onEntryFocus",dv={bubbles:!1,cancelable:!0},sn="RovingFocusGroup",[yo,cu,hv]=Tc(sn),[pv,uu]=nn(sn,[hv]),[gv,mv]=pv(sn),lu=w.forwardRef((e,t)=>_.jsx(yo.Provider,{scope:e.__scopeRovingFocusGroup,children:_.jsx(yo.Slot,{scope:e.__scopeRovingFocusGroup,children:_.jsx(yv,{...e,ref:t})})}));lu.displayName=sn;var yv=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:i,currentTabStopId:s,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:l,preventScrollOnEntryFocus:u=!1,...f}=e,d=w.useRef(null),h=le(t,d),m=Dc(i),[p,y]=kc({prop:s,defaultProp:a??null,onChange:c,caller:sn}),[x,E]=w.useState(!1),g=Oe(l),v=cu(n),S=w.useRef(!1),[N,C]=w.useState(0);return w.useEffect(()=>{const R=d.current;if(R)return R.addEventListener(Wr,g),()=>R.removeEventListener(Wr,g)},[g]),_.jsx(gv,{scope:n,orientation:r,dir:m,loop:o,currentTabStopId:p,onItemFocus:w.useCallback(R=>y(R),[y]),onItemShiftTab:w.useCallback(()=>E(!0),[]),onFocusableItemAdd:w.useCallback(()=>C(R=>R+1),[]),onFocusableItemRemove:w.useCallback(()=>C(R=>R-1),[]),children:_.jsx(ae.div,{tabIndex:x||N===0?-1:0,"data-orientation":r,...f,ref:h,style:{outline:"none",...e.style},onMouseDown:te(e.onMouseDown,()=>{S.current=!0}),onFocus:te(e.onFocus,R=>{const T=!S.current;if(R.target===R.currentTarget&&T&&!x){const D=new CustomEvent(Wr,dv);if(R.currentTarget.dispatchEvent(D),!D.defaultPrevented){const $=v().filter(A=>A.focusable),F=$.find(A=>A.active),O=$.find(A=>A.id===p),I=[F,O,...$].filter(Boolean).map(A=>A.ref.current);hu(I,u)}}S.current=!1}),onBlur:te(e.onBlur,()=>E(!1))})})}),fu="RovingFocusGroupItem",du=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:i,children:s,...a}=e,c=ho(),l=i||c,u=mv(fu,n),f=u.currentTabStopId===l,d=cu(n),{onFocusableItemAdd:h,onFocusableItemRemove:m,currentTabStopId:p}=u;return w.useEffect(()=>{if(r)return h(),()=>m()},[r,h,m]),_.jsx(yo.ItemSlot,{scope:n,id:l,focusable:r,active:o,children:_.jsx(ae.span,{tabIndex:f?0:-1,"data-orientation":u.orientation,...a,ref:t,onMouseDown:te(e.onMouseDown,y=>{r?u.onItemFocus(l):y.preventDefault()}),onFocus:te(e.onFocus,()=>u.onItemFocus(l)),onKeyDown:te(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){u.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const x=wv(y,u.orientation,u.dir);if(x!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let g=d().filter(v=>v.focusable).map(v=>v.ref.current);if(x==="last")g.reverse();else if(x==="prev"||x==="next"){x==="prev"&&g.reverse();const v=g.indexOf(y.currentTarget);g=u.loop?bv(g,v+1):g.slice(v+1)}setTimeout(()=>hu(g))}}),children:typeof s=="function"?s({isCurrentTabStop:f,hasTabStop:p!=null}):s})})});du.displayName=fu;var xv={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function vv(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function wv(e,t,n){const r=vv(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return xv[r]}function hu(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function bv(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Ev=lu,_v=du,Sv=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ct=new WeakMap,Sn=new WeakMap,Cn={},Yr=0,pu=function(e){return e&&(e.host||pu(e.parentNode))},Cv=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=pu(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Mv=function(e,t,n,r){var o=Cv(t,Array.isArray(e)?e:[e]);Cn[n]||(Cn[n]=new WeakMap);var i=Cn[n],s=[],a=new Set,c=new Set(o),l=function(f){!f||a.has(f)||(a.add(f),l(f.parentNode))};o.forEach(l);var u=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(d){if(a.has(d))u(d);else try{var h=d.getAttribute(r),m=h!==null&&h!=="false",p=(ct.get(d)||0)+1,y=(i.get(d)||0)+1;ct.set(d,p),i.set(d,y),s.push(d),p===1&&m&&Sn.set(d,!0),y===1&&d.setAttribute(n,"true"),m||d.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",d,x)}})};return u(t),a.clear(),Yr++,function(){s.forEach(function(f){var d=ct.get(f)-1,h=i.get(f)-1;ct.set(f,d),i.set(f,h),d||(Sn.has(f)||f.removeAttribute(r),Sn.delete(f)),h||f.removeAttribute(n)}),Yr--,Yr||(ct=new WeakMap,ct=new WeakMap,Sn=new WeakMap,Cn={})}},Nv=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=Sv(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live], script"))),Mv(r,o,n,"aria-hidden")):function(){return null}},_e=function(){return _e=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_e.apply(this,arguments)};function gu(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function Av(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var Dn="right-scroll-bar-position",On="width-before-scroll-bar",Pv="with-scroll-bars-hidden",Rv="--removed-body-scroll-bar-size";function Xr(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Iv(e,t){var n=w.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}var kv=typeof window<"u"?w.useLayoutEffect:w.useEffect,ks=new WeakMap;function Tv(e,t){var n=Iv(null,function(r){return e.forEach(function(o){return Xr(o,r)})});return kv(function(){var r=ks.get(n);if(r){var o=new Set(r),i=new Set(e),s=n.current;o.forEach(function(a){i.has(a)||Xr(a,null)}),i.forEach(function(a){o.has(a)||Xr(a,s)})}ks.set(n,e)},[e]),n}function Dv(e){return e}function Ov(e,t){t===void 0&&(t=Dv);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var s=t(i,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(i){for(r=!0;n.length;){var s=n;n=[],s.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(i),s=n}var c=function(){var u=s;s=[],u.forEach(i)},l=function(){return Promise.resolve().then(c)};l(),n={push:function(u){s.push(u),l()},filter:function(u){return s=s.filter(u),n}}}};return o}function $v(e){e===void 0&&(e={});var t=Ov(null);return t.options=_e({async:!0,ssr:!1},e),t}var mu=function(e){var t=e.sideCar,n=gu(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return w.createElement(r,_e({},n))};mu.isSideCarExport=!0;function Lv(e,t){return e.useMedium(t),mu}var yu=$v(),Gr=function(){},xr=w.forwardRef(function(e,t){var n=w.useRef(null),r=w.useState({onScrollCapture:Gr,onWheelCapture:Gr,onTouchMoveCapture:Gr}),o=r[0],i=r[1],s=e.forwardProps,a=e.children,c=e.className,l=e.removeScrollBar,u=e.enabled,f=e.shards,d=e.sideCar,h=e.noRelative,m=e.noIsolation,p=e.inert,y=e.allowPinchZoom,x=e.as,E=x===void 0?"div":x,g=e.gapMode,v=gu(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=d,N=Tv([n,t]),C=_e(_e({},v),o);return w.createElement(w.Fragment,null,u&&w.createElement(S,{sideCar:yu,removeScrollBar:l,shards:f,noRelative:h,noIsolation:m,inert:p,setCallbacks:i,allowPinchZoom:!!y,lockRef:n,gapMode:g}),s?w.cloneElement(w.Children.only(a),_e(_e({},C),{ref:N})):w.createElement(E,_e({},C,{className:c,ref:N}),a))});xr.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};xr.classNames={fullWidth:On,zeroRight:Dn};var Fv=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function jv(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Fv();return t&&e.setAttribute("nonce",t),e}function Hv(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function zv(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Bv=function(){var e=0,t=null;return{add:function(n){e==0&&(t=jv())&&(Hv(t,n),zv(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Vv=function(){var e=Bv();return function(t,n){w.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},xu=function(){var e=Vv(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},Wv={left:0,top:0,right:0,gap:0},Ur=function(e){return parseInt(e||"",10)||0},Yv=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[Ur(n),Ur(r),Ur(o)]},Xv=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Wv;var t=Yv(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Gv=xu(),mt="data-scroll-locked",Uv=function(e,t,n,r){var o=e.left,i=e.top,s=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Pv,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(mt,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Dn,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(On,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Dn," .").concat(Dn,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(On," .").concat(On,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(mt,`] {
    `).concat(Rv,": ").concat(a,`px;
  }
`)},Ts=function(){var e=parseInt(document.body.getAttribute(mt)||"0",10);return isFinite(e)?e:0},Kv=function(){w.useEffect(function(){return document.body.setAttribute(mt,(Ts()+1).toString()),function(){var e=Ts()-1;e<=0?document.body.removeAttribute(mt):document.body.setAttribute(mt,e.toString())}},[])},qv=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;Kv();var i=w.useMemo(function(){return Xv(o)},[o]);return w.createElement(Gv,{styles:Uv(i,!t,o,n?"":"!important")})},xo=!1;if(typeof window<"u")try{var Mn=Object.defineProperty({},"passive",{get:function(){return xo=!0,!0}});window.addEventListener("test",Mn,Mn),window.removeEventListener("test",Mn,Mn)}catch{xo=!1}var ut=xo?{passive:!1}:!1,Zv=function(e){return e.tagName==="TEXTAREA"},vu=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Zv(e)&&n[t]==="visible")},Qv=function(e){return vu(e,"overflowY")},Jv=function(e){return vu(e,"overflowX")},Ds=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=wu(e,r);if(o){var i=bu(e,r),s=i[1],a=i[2];if(s>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},ew=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},tw=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},wu=function(e,t){return e==="v"?Qv(t):Jv(t)},bu=function(e,t){return e==="v"?ew(t):tw(t)},nw=function(e,t){return e==="h"&&t==="rtl"?-1:1},rw=function(e,t,n,r,o){var i=nw(e,window.getComputedStyle(t).direction),s=i*r,a=n.target,c=t.contains(a),l=!1,u=s>0,f=0,d=0;do{if(!a)break;var h=bu(e,a),m=h[0],p=h[1],y=h[2],x=p-y-i*m;(m||x)&&wu(e,a)&&(f+=x,d+=m);var E=a.parentNode;a=E&&E.nodeType===Node.DOCUMENT_FRAGMENT_NODE?E.host:E}while(!c&&a!==document.body||c&&(t.contains(a)||t===a));return(u&&Math.abs(f)<1||!u&&Math.abs(d)<1)&&(l=!0),l},Nn=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Os=function(e){return[e.deltaX,e.deltaY]},$s=function(e){return e&&"current"in e?e.current:e},ow=function(e,t){return e[0]===t[0]&&e[1]===t[1]},iw=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},sw=0,lt=[];function aw(e){var t=w.useRef([]),n=w.useRef([0,0]),r=w.useRef(),o=w.useState(sw++)[0],i=w.useState(xu)[0],s=w.useRef(e);w.useEffect(function(){s.current=e},[e]),w.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var p=Av([e.lockRef.current],(e.shards||[]).map($s),!0).filter(Boolean);return p.forEach(function(y){return y.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),p.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var a=w.useCallback(function(p,y){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!s.current.allowPinchZoom;var x=Nn(p),E=n.current,g="deltaX"in p?p.deltaX:E[0]-x[0],v="deltaY"in p?p.deltaY:E[1]-x[1],S,N=p.target,C=Math.abs(g)>Math.abs(v)?"h":"v";if("touches"in p&&C==="h"&&N.type==="range")return!1;var R=Ds(C,N);if(!R)return!0;if(R?S=C:(S=C==="v"?"h":"v",R=Ds(C,N)),!R)return!1;if(!r.current&&"changedTouches"in p&&(g||v)&&(r.current=S),!S)return!0;var T=r.current||S;return rw(T,y,p,T==="h"?g:v)},[]),c=w.useCallback(function(p){var y=p;if(!(!lt.length||lt[lt.length-1]!==i)){var x="deltaY"in y?Os(y):Nn(y),E=t.current.filter(function(S){return S.name===y.type&&(S.target===y.target||y.target===S.shadowParent)&&ow(S.delta,x)})[0];if(E&&E.should){y.cancelable&&y.preventDefault();return}if(!E){var g=(s.current.shards||[]).map($s).filter(Boolean).filter(function(S){return S.contains(y.target)}),v=g.length>0?a(y,g[0]):!s.current.noIsolation;v&&y.cancelable&&y.preventDefault()}}},[]),l=w.useCallback(function(p,y,x,E){var g={name:p,delta:y,target:x,should:E,shadowParent:cw(x)};t.current.push(g),setTimeout(function(){t.current=t.current.filter(function(v){return v!==g})},1)},[]),u=w.useCallback(function(p){n.current=Nn(p),r.current=void 0},[]),f=w.useCallback(function(p){l(p.type,Os(p),p.target,a(p,e.lockRef.current))},[]),d=w.useCallback(function(p){l(p.type,Nn(p),p.target,a(p,e.lockRef.current))},[]);w.useEffect(function(){return lt.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:d}),document.addEventListener("wheel",c,ut),document.addEventListener("touchmove",c,ut),document.addEventListener("touchstart",u,ut),function(){lt=lt.filter(function(p){return p!==i}),document.removeEventListener("wheel",c,ut),document.removeEventListener("touchmove",c,ut),document.removeEventListener("touchstart",u,ut)}},[]);var h=e.removeScrollBar,m=e.inert;return w.createElement(w.Fragment,null,m?w.createElement(i,{styles:iw(o)}):null,h?w.createElement(qv,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function cw(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const uw=Lv(yu,aw);var Eu=w.forwardRef(function(e,t){return w.createElement(xr,_e({},e,{ref:t,sideCar:uw}))});Eu.classNames=xr.classNames;var vo=["Enter"," "],lw=["ArrowDown","PageUp","Home"],_u=["ArrowUp","PageDown","End"],fw=[...lw,..._u],dw={ltr:[...vo,"ArrowRight"],rtl:[...vo,"ArrowLeft"]},hw={ltr:["ArrowLeft"],rtl:["ArrowRight"]},an="Menu",[Kt,pw,gw]=Tc(an),[ot,Su]=nn(an,[gw,Qc,uu]),vr=Qc(),Cu=uu(),[mw,it]=ot(an),[yw,cn]=ot(an),Mu=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:o,onOpenChange:i,modal:s=!0}=e,a=vr(t),[c,l]=w.useState(null),u=w.useRef(!1),f=Oe(i),d=Dc(o);return w.useEffect(()=>{const h=()=>{u.current=!0,document.addEventListener("pointerdown",m,{capture:!0,once:!0}),document.addEventListener("pointermove",m,{capture:!0,once:!0})},m=()=>u.current=!1;return document.addEventListener("keydown",h,{capture:!0}),()=>{document.removeEventListener("keydown",h,{capture:!0}),document.removeEventListener("pointerdown",m,{capture:!0}),document.removeEventListener("pointermove",m,{capture:!0})}},[]),_.jsx(ov,{...a,children:_.jsx(mw,{scope:t,open:n,onOpenChange:f,content:c,onContentChange:l,children:_.jsx(yw,{scope:t,onClose:w.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:u,dir:d,modal:s,children:r})})})};Mu.displayName=an;var xw="MenuAnchor",Go=w.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=vr(n);return _.jsx(iv,{...o,...r,ref:t})});Go.displayName=xw;var Uo="MenuPortal",[vw,Nu]=ot(Uo,{forceMount:void 0}),Au=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:o}=e,i=it(Uo,t);return _.jsx(vw,{scope:t,forceMount:n,children:_.jsx(on,{present:n||i.open,children:_.jsx(au,{asChild:!0,container:o,children:r})})})};Au.displayName=Uo;var ge="MenuContent",[ww,Ko]=ot(ge),Pu=w.forwardRef((e,t)=>{const n=Nu(ge,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,i=it(ge,e.__scopeMenu),s=cn(ge,e.__scopeMenu);return _.jsx(Kt.Provider,{scope:e.__scopeMenu,children:_.jsx(on,{present:r||i.open,children:_.jsx(Kt.Slot,{scope:e.__scopeMenu,children:s.modal?_.jsx(bw,{...o,ref:t}):_.jsx(Ew,{...o,ref:t})})})})}),bw=w.forwardRef((e,t)=>{const n=it(ge,e.__scopeMenu),r=w.useRef(null),o=le(t,r);return w.useEffect(()=>{const i=r.current;if(i)return Nv(i)},[]),_.jsx(qo,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:te(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Ew=w.forwardRef((e,t)=>{const n=it(ge,e.__scopeMenu);return _.jsx(qo,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),_w=qr("MenuContent.ScrollLock"),qo=w.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:o,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:a,onEntryFocus:c,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:d,onDismiss:h,disableOutsideScroll:m,...p}=e,y=it(ge,n),x=cn(ge,n),E=vr(n),g=Cu(n),v=pw(n),[S,N]=w.useState(null),C=w.useRef(null),R=le(t,C,y.onContentChange),T=w.useRef(0),D=w.useRef(""),$=w.useRef(0),F=w.useRef(null),O=w.useRef("right"),b=w.useRef(0),I=m?Eu:w.Fragment,A=m?{as:_w,allowPinchZoom:!0}:void 0,P=M=>{var U,z;const L=D.current+M,j=v().filter(V=>!V.disabled),H=document.activeElement,W=(U=j.find(V=>V.ref.current===H))==null?void 0:U.textValue,B=j.map(V=>V.textValue),Y=Ow(B,L,W),X=(z=j.find(V=>V.textValue===Y))==null?void 0:z.ref.current;(function V(q){D.current=q,window.clearTimeout(T.current),q!==""&&(T.current=window.setTimeout(()=>V(""),1e3))})(L),X&&setTimeout(()=>X.focus())};w.useEffect(()=>()=>window.clearTimeout(T.current),[]),Hy();const k=w.useCallback(M=>{var j,H;return O.current===((j=F.current)==null?void 0:j.side)&&Lw(M,(H=F.current)==null?void 0:H.area)},[]);return _.jsx(ww,{scope:n,searchRef:D,onItemEnter:w.useCallback(M=>{k(M)&&M.preventDefault()},[k]),onItemLeave:w.useCallback(M=>{var L;k(M)||((L=C.current)==null||L.focus(),N(null))},[k]),onTriggerLeave:w.useCallback(M=>{k(M)&&M.preventDefault()},[k]),pointerGraceTimerRef:$,onPointerGraceIntentChange:w.useCallback(M=>{F.current=M},[]),children:_.jsx(I,{...A,children:_.jsx(Fc,{asChild:!0,trapped:o,onMountAutoFocus:te(i,M=>{var L;M.preventDefault(),(L=C.current)==null||L.focus({preventScroll:!0})}),onUnmountAutoFocus:s,children:_.jsx($c,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:d,onDismiss:h,children:_.jsx(Ev,{asChild:!0,...g,dir:x.dir,orientation:"vertical",loop:r,currentTabStopId:S,onCurrentTabStopIdChange:N,onEntryFocus:te(c,M=>{x.isUsingKeyboardRef.current||M.preventDefault()}),preventScrollOnEntryFocus:!0,children:_.jsx(sv,{role:"menu","aria-orientation":"vertical","data-state":Yu(y.open),"data-radix-menu-content":"",dir:x.dir,...E,...p,ref:R,style:{outline:"none",...p.style},onKeyDown:te(p.onKeyDown,M=>{const j=M.target.closest("[data-radix-menu-content]")===M.currentTarget,H=M.ctrlKey||M.altKey||M.metaKey,W=M.key.length===1;j&&(M.key==="Tab"&&M.preventDefault(),!H&&W&&P(M.key));const B=C.current;if(M.target!==B||!fw.includes(M.key))return;M.preventDefault();const X=v().filter(U=>!U.disabled).map(U=>U.ref.current);_u.includes(M.key)&&X.reverse(),Tw(X)}),onBlur:te(e.onBlur,M=>{M.currentTarget.contains(M.target)||(window.clearTimeout(T.current),D.current="")}),onPointerMove:te(e.onPointerMove,qt(M=>{const L=M.target,j=b.current!==M.clientX;if(M.currentTarget.contains(L)&&j){const H=M.clientX>b.current?"right":"left";O.current=H,b.current=M.clientX}}))})})})})})})});Pu.displayName=ge;var Sw="MenuGroup",Zo=w.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return _.jsx(ae.div,{role:"group",...r,ref:t})});Zo.displayName=Sw;var Cw="MenuLabel",Ru=w.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return _.jsx(ae.div,{...r,ref:t})});Ru.displayName=Cw;var Jn="MenuItem",Ls="menu.itemSelect",wr=w.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...o}=e,i=w.useRef(null),s=cn(Jn,e.__scopeMenu),a=Ko(Jn,e.__scopeMenu),c=le(t,i),l=w.useRef(!1),u=()=>{const f=i.current;if(!n&&f){const d=new CustomEvent(Ls,{bubbles:!0,cancelable:!0});f.addEventListener(Ls,h=>r==null?void 0:r(h),{once:!0}),Bs(f,d),d.defaultPrevented?l.current=!1:s.onClose()}};return _.jsx(Iu,{...o,ref:c,disabled:n,onClick:te(e.onClick,u),onPointerDown:f=>{var d;(d=e.onPointerDown)==null||d.call(e,f),l.current=!0},onPointerUp:te(e.onPointerUp,f=>{var d;l.current||(d=f.currentTarget)==null||d.click()}),onKeyDown:te(e.onKeyDown,f=>{const d=a.searchRef.current!=="";n||d&&f.key===" "||vo.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});wr.displayName=Jn;var Iu=w.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:o,...i}=e,s=Ko(Jn,n),a=Cu(n),c=w.useRef(null),l=le(t,c),[u,f]=w.useState(!1),[d,h]=w.useState("");return w.useEffect(()=>{const m=c.current;m&&h((m.textContent??"").trim())},[i.children]),_.jsx(Kt.ItemSlot,{scope:n,disabled:r,textValue:o??d,children:_.jsx(_v,{asChild:!0,...a,focusable:!r,children:_.jsx(ae.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:l,onPointerMove:te(e.onPointerMove,qt(m=>{r?s.onItemLeave(m):(s.onItemEnter(m),m.defaultPrevented||m.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:te(e.onPointerLeave,qt(m=>s.onItemLeave(m))),onFocus:te(e.onFocus,()=>f(!0)),onBlur:te(e.onBlur,()=>f(!1))})})})}),Mw="MenuCheckboxItem",ku=w.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...o}=e;return _.jsx(Lu,{scope:e.__scopeMenu,checked:n,children:_.jsx(wr,{role:"menuitemcheckbox","aria-checked":er(n)?"mixed":n,...o,ref:t,"data-state":Jo(n),onSelect:te(o.onSelect,()=>r==null?void 0:r(er(n)?!0:!n),{checkForDefaultPrevented:!1})})})});ku.displayName=Mw;var Tu="MenuRadioGroup",[Nw,Aw]=ot(Tu,{value:void 0,onValueChange:()=>{}}),Du=w.forwardRef((e,t)=>{const{value:n,onValueChange:r,...o}=e,i=Oe(r);return _.jsx(Nw,{scope:e.__scopeMenu,value:n,onValueChange:i,children:_.jsx(Zo,{...o,ref:t})})});Du.displayName=Tu;var Ou="MenuRadioItem",$u=w.forwardRef((e,t)=>{const{value:n,...r}=e,o=Aw(Ou,e.__scopeMenu),i=n===o.value;return _.jsx(Lu,{scope:e.__scopeMenu,checked:i,children:_.jsx(wr,{role:"menuitemradio","aria-checked":i,...r,ref:t,"data-state":Jo(i),onSelect:te(r.onSelect,()=>{var s;return(s=o.onValueChange)==null?void 0:s.call(o,n)},{checkForDefaultPrevented:!1})})})});$u.displayName=Ou;var Qo="MenuItemIndicator",[Lu,Pw]=ot(Qo,{checked:!1}),Fu=w.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...o}=e,i=Pw(Qo,n);return _.jsx(on,{present:r||er(i.checked)||i.checked===!0,children:_.jsx(ae.span,{...o,ref:t,"data-state":Jo(i.checked)})})});Fu.displayName=Qo;var Rw="MenuSeparator",ju=w.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return _.jsx(ae.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});ju.displayName=Rw;var Iw="MenuArrow",Hu=w.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=vr(n);return _.jsx(av,{...o,...r,ref:t})});Hu.displayName=Iw;var kw="MenuSub",[Fb,zu]=ot(kw),Ot="MenuSubTrigger",Bu=w.forwardRef((e,t)=>{const n=it(Ot,e.__scopeMenu),r=cn(Ot,e.__scopeMenu),o=zu(Ot,e.__scopeMenu),i=Ko(Ot,e.__scopeMenu),s=w.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:c}=i,l={__scopeMenu:e.__scopeMenu},u=w.useCallback(()=>{s.current&&window.clearTimeout(s.current),s.current=null},[]);return w.useEffect(()=>u,[u]),w.useEffect(()=>{const f=a.current;return()=>{window.clearTimeout(f),c(null)}},[a,c]),_.jsx(Go,{asChild:!0,...l,children:_.jsx(Iu,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":o.contentId,"data-state":Yu(n.open),...e,ref:Vs(t,o.onTriggerChange),onClick:f=>{var d;(d=e.onClick)==null||d.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:te(e.onPointerMove,qt(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!s.current&&(i.onPointerGraceIntentChange(null),s.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:te(e.onPointerLeave,qt(f=>{var h,m;u();const d=(h=n.content)==null?void 0:h.getBoundingClientRect();if(d){const p=(m=n.content)==null?void 0:m.dataset.side,y=p==="right",x=y?-5:5,E=d[y?"left":"right"],g=d[y?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+x,y:f.clientY},{x:E,y:d.top},{x:g,y:d.top},{x:g,y:d.bottom},{x:E,y:d.bottom}],side:p}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:te(e.onKeyDown,f=>{var h;const d=i.searchRef.current!=="";e.disabled||d&&f.key===" "||dw[r.dir].includes(f.key)&&(n.onOpenChange(!0),(h=n.content)==null||h.focus(),f.preventDefault())})})})});Bu.displayName=Ot;var Vu="MenuSubContent",Wu=w.forwardRef((e,t)=>{const n=Nu(ge,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,i=it(ge,e.__scopeMenu),s=cn(ge,e.__scopeMenu),a=zu(Vu,e.__scopeMenu),c=w.useRef(null),l=le(t,c);return _.jsx(Kt.Provider,{scope:e.__scopeMenu,children:_.jsx(on,{present:r||i.open,children:_.jsx(Kt.Slot,{scope:e.__scopeMenu,children:_.jsx(qo,{id:a.contentId,"aria-labelledby":a.triggerId,...o,ref:l,align:"start",side:s.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var f;s.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:te(e.onFocusOutside,u=>{u.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:te(e.onEscapeKeyDown,u=>{s.onClose(),u.preventDefault()}),onKeyDown:te(e.onKeyDown,u=>{var h;const f=u.currentTarget.contains(u.target),d=hw[s.dir].includes(u.key);f&&d&&(i.onOpenChange(!1),(h=a.trigger)==null||h.focus(),u.preventDefault())})})})})})});Wu.displayName=Vu;function Yu(e){return e?"open":"closed"}function er(e){return e==="indeterminate"}function Jo(e){return er(e)?"indeterminate":e?"checked":"unchecked"}function Tw(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function Dw(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function Ow(e,t,n){const o=t.length>1&&Array.from(t).every(l=>l===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let s=Dw(e,Math.max(i,0));o.length===1&&(s=s.filter(l=>l!==n));const c=s.find(l=>l.toLowerCase().startsWith(o.toLowerCase()));return c!==n?c:void 0}function $w(e,t){const{x:n,y:r}=e;let o=!1;for(let i=0,s=t.length-1;i<t.length;s=i++){const a=t[i],c=t[s],l=a.x,u=a.y,f=c.x,d=c.y;u>r!=d>r&&n<(f-l)*(r-u)/(d-u)+l&&(o=!o)}return o}function Lw(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return $w(n,t)}function qt(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Fw=Mu,jw=Go,Hw=Au,zw=Pu,Bw=Zo,Vw=Ru,Ww=wr,Yw=ku,Xw=Du,Gw=$u,Uw=Fu,Kw=ju,qw=Hu,Zw=Bu,Qw=Wu,br="DropdownMenu",[Jw,jb]=nn(br,[Su]),ce=Su(),[eb,Xu]=Jw(br),Gu=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:o,defaultOpen:i,onOpenChange:s,modal:a=!0}=e,c=ce(t),l=w.useRef(null),[u,f]=kc({prop:o,defaultProp:i??!1,onChange:s,caller:br});return _.jsx(eb,{scope:t,triggerId:ho(),triggerRef:l,contentId:ho(),open:u,onOpenChange:f,onOpenToggle:w.useCallback(()=>f(d=>!d),[f]),modal:a,children:_.jsx(Fw,{...c,open:u,onOpenChange:f,dir:r,modal:a,children:n})})};Gu.displayName=br;var Uu="DropdownMenuTrigger",Ku=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...o}=e,i=Xu(Uu,n),s=ce(n);return _.jsx(jw,{asChild:!0,...s,children:_.jsx(ae.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...o,ref:Vs(t,i.triggerRef),onPointerDown:te(e.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:te(e.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});Ku.displayName=Uu;var tb="DropdownMenuPortal",qu=e=>{const{__scopeDropdownMenu:t,...n}=e,r=ce(t);return _.jsx(Hw,{...r,...n})};qu.displayName=tb;var Zu="DropdownMenuContent",Qu=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Xu(Zu,n),i=ce(n),s=w.useRef(!1);return _.jsx(zw,{id:o.contentId,"aria-labelledby":o.triggerId,...i,...r,ref:t,onCloseAutoFocus:te(e.onCloseAutoFocus,a=>{var c;s.current||(c=o.triggerRef.current)==null||c.focus(),s.current=!1,a.preventDefault()}),onInteractOutside:te(e.onInteractOutside,a=>{const c=a.detail.originalEvent,l=c.button===0&&c.ctrlKey===!0,u=c.button===2||l;(!o.modal||u)&&(s.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Qu.displayName=Zu;var nb="DropdownMenuGroup",Ju=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=ce(n);return _.jsx(Bw,{...o,...r,ref:t})});Ju.displayName=nb;var rb="DropdownMenuLabel",el=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=ce(n);return _.jsx(Vw,{...o,...r,ref:t})});el.displayName=rb;var ob="DropdownMenuItem",tl=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=ce(n);return _.jsx(Ww,{...o,...r,ref:t})});tl.displayName=ob;var ib="DropdownMenuCheckboxItem",sb=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=ce(n);return _.jsx(Yw,{...o,...r,ref:t})});sb.displayName=ib;var ab="DropdownMenuRadioGroup",cb=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=ce(n);return _.jsx(Xw,{...o,...r,ref:t})});cb.displayName=ab;var ub="DropdownMenuRadioItem",lb=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=ce(n);return _.jsx(Gw,{...o,...r,ref:t})});lb.displayName=ub;var fb="DropdownMenuItemIndicator",db=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=ce(n);return _.jsx(Uw,{...o,...r,ref:t})});db.displayName=fb;var hb="DropdownMenuSeparator",pb=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=ce(n);return _.jsx(Kw,{...o,...r,ref:t})});pb.displayName=hb;var gb="DropdownMenuArrow",mb=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=ce(n);return _.jsx(qw,{...o,...r,ref:t})});mb.displayName=gb;var yb="DropdownMenuSubTrigger",xb=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=ce(n);return _.jsx(Zw,{...o,...r,ref:t})});xb.displayName=yb;var vb="DropdownMenuSubContent",wb=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=ce(n);return _.jsx(Qw,{...o,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});wb.displayName=vb;var bb=Gu,Eb=Ku,_b=qu,Sb=Qu,Cb=Ju,Mb=el,Nb=tl;function Ab({...e}){return _.jsx(bb,{"data-slot":"dropdown-menu",...e})}function Pb({...e}){return _.jsx(Eb,{"data-slot":"dropdown-menu-trigger",...e})}function Rb({className:e,sideOffset:t=4,...n}){return _.jsx(_b,{children:_.jsx(Sb,{"data-slot":"dropdown-menu-content",sideOffset:t,className:wo("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...n})})}function Ib({...e}){return _.jsx(Cb,{"data-slot":"dropdown-menu-group",...e})}function Kr({className:e,inset:t,variant:n="default",...r}){return _.jsx(Nb,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":n,className:wo("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r})}function kb({className:e,inset:t,...n}){return _.jsx(Mb,{"data-slot":"dropdown-menu-label","data-inset":t,className:wo("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",e),...n})}function Tb(){const e=zs(),n=js(r=>r.theme.mode)==="dark";return _.jsxs(Ab,{children:[_.jsx(Pb,{asChild:!0,children:_.jsx(Ws,{className:"!ring-0 !ring-offset-0 !cursor-pointer",variant:"ghost",children:n?_.jsx(gs,{size:16}):_.jsx(ms,{size:16})})}),_.jsxs(Rb,{className:"w-56",align:"start",children:[_.jsx(kb,{children:"Theme"}),_.jsxs(Ib,{children:[_.jsxs(Kr,{className:"cursor-pointer",onClick:()=>e(Cr("light")),children:[_.jsx(ms,{size:16})," Light"]}),_.jsxs(Kr,{className:"cursor-pointer",onClick:()=>e(Cr("dark")),children:[_.jsx(gs,{size:16})," Dark"]}),_.jsxs(Kr,{className:"cursor-pointer",onClick:()=>e(Cr("system")),children:[_.jsx(Sy,{size:16})," System"]})]})]})]})}const Db=()=>{const e=zs(),t=()=>{of.post("/logout").then(n=>{n.success&&(e(sf()),ci.success("Logged out successfully"))}).catch(n=>{console.log(n),ci.error("Failed to logout")})};return _.jsxs(Ws,{onClick:t,variant:"outline",className:"cursor-pointer",children:[_.jsx(Ey,{className:"w-4 h-4"}),_.jsx("span",{className:"text-sm",children:"Logout"})]})};function Ob(){return _.jsxs("div",{className:"w-full h-14 flex items-center justify-between px-4 bg-card border-b border-border",children:[_.jsx("div",{className:"flex items-center gap-2 font-bold text-lg ",children:"MindIQ"}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(Tb,{}),_.jsx(Db,{})]})]})}function Hb(){return _.jsxs("div",{className:"w-full h-full flex flex-col",children:[_.jsx(Ob,{}),_.jsx(gy,{})]})}export{Hb as default};
